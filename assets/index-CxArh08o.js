const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-nFtbaKDj.js","assets/react-DDCWQfk_.js","assets/Home-B6HG1J4H.js","assets/module-BADDJToX.js","assets/react-dom-DZBigVa_.js","assets/NotAuthorized-RwpE3uNt.js","assets/card-BQ1mmhLK.js","assets/Dashboard-hMMPHP5o.js","assets/WearableConnectionComponent-D-VH51An.js","assets/WearableAvatar-rvCZVOTk.js","assets/storage-r39ZYS7Q.js","assets/ElementTitleHeader-CqljC8GH.js","assets/HorizontalDivider-DaHi1kv6.js","assets/alert-dialog-KPJe3LZZ.js","assets/plus-Bkn7D4WW.js","assets/Pairing-CllucSKh.js","assets/Login-Du-2bxOR.js","assets/PasswordInput-DLqiQs8R.js","assets/input-CbG-pEOu.js","assets/eye-jvAnd_i1.js","assets/Register-DLTG3ev3.js","assets/pt-BR.json-Bqz2tW3U.js","assets/pencil-Cs59nzkT.js","assets/Profile-DatnRLSS.js","assets/Backdrop-Ce-AQicg.js","assets/index-DkU7GfEn.js","assets/index-BVyhJrTo.js","assets/formatIncompletePhoneNumber-CO6KxHP7.js","assets/index-D6r3sWpr.js","assets/settings-BZ2dgVt0.js","assets/FirstLogin-3sYJT3UU.js","assets/FirstLogin-Bsjj9snX.css","assets/AddDevice-DbtVYAJP.js","assets/alert-CBVpNi6E.js","assets/EditWearable-BZdLXZKa.js","assets/useWearable-DrSHCY3o.js","assets/share-2-BfmvQLjI.js","assets/OutOfRange-CdMeyaE6.js","assets/triangle-alert-GCquyx4g.js","assets/phone-call-j6nIdHZI.js","assets/FallDetected-DeHDRYPG.js","assets/Wearable-Beh6JCRl.js","assets/AlertComponent-BsuLpRxH.js","assets/AlertPage-tv9kTzyt.js","assets/BuyPremium-CqH-qg4w.js"])))=>i.map(i=>d[i]);
var Do=t=>{throw TypeError(t)};var ks=(t,e,n)=>e.has(t)||Do("Cannot "+n);var S=(t,e,n)=>(ks(t,e,"read from private field"),n?n.call(t):e.get(t)),q=(t,e,n)=>e.has(t)?Do("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j=(t,e,n,r)=>(ks(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ce=(t,e,n)=>(ks(t,e,"access private method"),n);var vr=(t,e,n,r)=>({set _(s){j(t,e,s,n)},get _(){return S(t,e,r)}});import{r as Sc,g as Di,a as hf}from"./react-DDCWQfk_.js";import{r as Cc}from"./react-dom-DZBigVa_.js";function pf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const mf="modulepreload",gf=function(t){return"/prote-ja-app/"+t},Lo={},ne=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=gf(c),c in Lo)return;Lo[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":mf,l||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var Is={exports:{}},$n={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o;function yf(){if($o)return $n;$o=1;var t=Sc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,l){var u,f={},h=null,p=null;l!==void 0&&(h=""+l),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)r.call(c,u)&&!i.hasOwnProperty(u)&&(f[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:e,type:a,key:h,ref:p,props:f,_owner:s.current}}return $n.Fragment=n,$n.jsx=o,$n.jsxs=o,$n}var Fo;function bf(){return Fo||(Fo=1,Is.exports=yf()),Is.exports}var y=bf(),d=Sc();const O=Di(d),vf=pf({__proto__:null,default:O},[d]);var wr={},Uo;function wf(){if(Uo)return wr;Uo=1;var t=Cc();return wr.createRoot=t.createRoot,wr.hydrateRoot=t.hydrateRoot,wr}var _f=wf(),Fn={},Bo;function xf(){if(Bo)return Fn;Bo=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.parse=o,Fn.serialize=l;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const m=new i,g=h.length;if(g<2)return m;const b=(p==null?void 0:p.decode)||u;let v=0;do{const _=h.indexOf("=",v);if(_===-1)break;const w=h.indexOf(";",v),x=w===-1?g:w;if(_>x){v=h.lastIndexOf(";",_-1)+1;continue}const E=a(h,v,_),k=c(h,_,E),T=h.slice(E,k);if(m[T]===void 0){let C=a(h,_+1,x),A=c(h,x,C);const R=b(h.slice(C,A));m[T]=R}v=x+1}while(v<g);return m}function a(h,p,m){do{const g=h.charCodeAt(p);if(g!==32&&g!==9)return p}while(++p<m);return m}function c(h,p,m){for(;p>m;){const g=h.charCodeAt(--p);if(g!==32&&g!==9)return p+1}return m}function l(h,p,m){const g=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const b=g(p);if(!e.test(b))throw new TypeError(`argument val is invalid: ${p}`);let v=h+"="+b;if(!m)return v;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);v+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);v+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);v+="; Path="+m.path}if(m.expires){if(!f(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);v+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(v+="; HttpOnly"),m.secure&&(v+="; Secure"),m.partitioned&&(v+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return v}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function f(h){return s.call(h)==="[object Date]"}return Fn}xf();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zo="popstate";function Ef(t={}){function e(s,i){let{pathname:o="/",search:a="",hash:c=""}=Wt(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ii("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Jn(i))}function r(s,i){Te(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Cf(e,n,r,t)}function X(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Te(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sf(){return Math.random().toString(36).substring(2,10)}function Ho(t,e){return{usr:t.state,key:t.key,idx:e}}function ii(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wt(e):e,state:n,key:e&&e.key||r||Sf()}}function Jn({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wt(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Cf(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,l=u();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function u(){return(o.state||{idx:null}).idx}function f(){a="POP";let b=u(),v=b==null?null:b-l;l=b,c&&c({action:a,location:g.location,delta:v})}function h(b,v){a="PUSH";let _=ii(g.location,b,v);n&&n(_,b),l=u()+1;let w=Ho(_,l),x=g.createHref(_);try{o.pushState(w,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&c&&c({action:a,location:g.location,delta:1})}function p(b,v){a="REPLACE";let _=ii(g.location,b,v);n&&n(_,b),l=u();let w=Ho(_,l),x=g.createHref(_);o.replaceState(w,"",x),i&&c&&c({action:a,location:g.location,delta:0})}function m(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:Jn(b);return _=_.replace(/ $/,"%20"),X(v,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,v)}let g={get action(){return a},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zo,f),c=b,()=>{s.removeEventListener(zo,f),c=null}},createHref(b){return e(s,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}function Tc(t,e,n="/"){return Tf(t,e,n,!1)}function Tf(t,e,n,r){let s=typeof e=="string"?Wt(e):e,i=Et(s.pathname||"/",n);if(i==null)return null;let o=Ac(t);Af(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=$f(i);a=Df(o[c],l,r)}return a}function Ac(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(X(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let l=rt([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(X(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),Ac(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:jf(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of kc(i.path))s(i,o,c)}),e}function kc(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=kc(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Af(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Nf(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kf=/^:[\w-]+$/,If=3,Rf=2,Pf=1,Mf=10,Of=-2,Vo=t=>t==="*";function jf(t,e){let n=t.split("/"),r=n.length;return n.some(Vo)&&(r+=Of),e&&(r+=Rf),n.filter(s=>!Vo(s)).reduce((s,i)=>s+(kf.test(i)?If:i===""?Pf:Mf),r)}function Nf(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Df(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Wr({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!f&&l&&n&&!r[r.length-1].route.index&&(f=Wr({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:rt([i,f.pathname]),pathnameBase:zf(rt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=rt([i,f.pathnameBase]))}return o}function Wr(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Lf(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,{paramName:u,isOptional:f},h)=>{if(u==="*"){let m=a[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?l[u]=void 0:l[u]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function Lf(t,e=!1,n=!0){Te(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function $f(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Te(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Et(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ff(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wt(t):t;return{pathname:n?n.startsWith("/")?n:Uf(n,e):e,search:Hf(r),hash:Vf(s)}}function Uf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rs(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Li(t){let e=Bf(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $i(t,e,n,r=!1){let s;typeof t=="string"?s=Wt(t):(s={...t},X(!s.pathname||!s.pathname.includes("?"),Rs("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),Rs("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),Rs("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let c=Ff(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var rt=t=>t.join("/").replace(/\/\/+/g,"/"),zf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ic=["POST","PUT","PATCH","DELETE"];new Set(Ic);var qf=["GET",...Ic];new Set(qf);var An=d.createContext(null);An.displayName="DataRouter";var ss=d.createContext(null);ss.displayName="DataRouterState";var Rc=d.createContext({isTransitioning:!1});Rc.displayName="ViewTransition";var Kf=d.createContext(new Map);Kf.displayName="Fetchers";var Gf=d.createContext(null);Gf.displayName="Await";var Be=d.createContext(null);Be.displayName="Navigation";var fr=d.createContext(null);fr.displayName="Location";var Pe=d.createContext({outlet:null,matches:[],isDataRoute:!1});Pe.displayName="Route";var Fi=d.createContext(null);Fi.displayName="RouteError";function Yf(t,{relative:e}={}){X(kn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Be),{hash:s,pathname:i,search:o}=hr(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:rt([n,i])),r.createHref({pathname:a,search:o,hash:s})}function kn(){return d.useContext(fr)!=null}function Me(){return X(kn(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(fr).location}var Pc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mc(t){d.useContext(Be).static||d.useLayoutEffect(t)}function Ui(){let{isDataRoute:t}=d.useContext(Pe);return t?uh():Qf()}function Qf(){X(kn(),"useNavigate() may be used only in the context of a <Router> component.");let t=d.useContext(An),{basename:e,navigator:n}=d.useContext(Be),{matches:r}=d.useContext(Pe),{pathname:s}=Me(),i=JSON.stringify(Li(r)),o=d.useRef(!1);return Mc(()=>{o.current=!0}),d.useCallback((c,l={})=>{if(Te(o.current,Pc),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=$i(c,JSON.parse(i),s,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:rt([e,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[e,n,i,s,t])}var Jf=d.createContext(null);function Xf(t){let e=d.useContext(Pe).outlet;return e&&d.createElement(Jf.Provider,{value:t},e)}function RS(){let{matches:t}=d.useContext(Pe),e=t[t.length-1];return e?e.params:{}}function hr(t,{relative:e}={}){let{matches:n}=d.useContext(Pe),{pathname:r}=Me(),s=JSON.stringify(Li(n));return d.useMemo(()=>$i(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Zf(t,e){return Oc(t,e)}function Oc(t,e,n,r){var _;X(kn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=d.useContext(Be),{matches:o}=d.useContext(Pe),a=o[o.length-1],c=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let w=f&&f.path||"";jc(l,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Me(),p;if(e){let w=typeof e=="string"?Wt(e):e;X(u==="/"||((_=w.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let m=p.pathname||"/",g=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=!i&&n&&n.matches&&n.matches.length>0?n.matches:Tc(t,{pathname:g});Te(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Te(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=sh(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:rt([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:rt([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&v?d.createElement(fr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function eh(){let t=lh(),e=Wf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=d.createElement(d.Fragment,null,d.createElement("p",null,"💿 Hey developer 👋"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:i},"ErrorBoundary")," or"," ",d.createElement("code",{style:i},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,o)}var th=d.createElement(eh,null),nh=class extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?d.createElement(Pe.Provider,{value:this.props.routeContext},d.createElement(Fi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rh({routeContext:t,match:e,children:n}){let r=d.useContext(An);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),d.createElement(Pe.Provider,{value:t},n)}function sh(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id])!==void 0);X(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let l=s[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(a=c),l.route.id){let{loaderData:u,errors:f}=n,h=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!f||f[l.route.id]===void 0);if(l.route.lazy||h){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,l,u)=>{let f,h=!1,p=null,m=null;n&&(f=i&&l.route.id?i[l.route.id]:void 0,p=l.route.errorElement||th,o&&(a<0&&u===0?(jc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===u&&(h=!0,m=l.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,u+1)),b=()=>{let v;return f?v=p:h?v=m:l.route.Component?v=d.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=c,d.createElement(rh,{match:l,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?d.createElement(nh,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}function Bi(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ih(t){let e=d.useContext(An);return X(e,Bi(t)),e}function oh(t){let e=d.useContext(ss);return X(e,Bi(t)),e}function ah(t){let e=d.useContext(Pe);return X(e,Bi(t)),e}function zi(t){let e=ah(t),n=e.matches[e.matches.length-1];return X(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ch(){return zi("useRouteId")}function lh(){var r;let t=d.useContext(Fi),e=oh("useRouteError"),n=zi("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function uh(){let{router:t}=ih("useNavigate"),e=zi("useNavigate"),n=d.useRef(!1);return Mc(()=>{n.current=!0}),d.useCallback(async(s,i={})=>{Te(n.current,Pc),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Wo={};function jc(t,e,n){!e&&!Wo[t]&&(Wo[t]=!0,Te(!1,n))}d.memo(dh);function dh({routes:t,future:e,state:n}){return Oc(t,void 0,n,e)}function PS({to:t,replace:e,state:n,relative:r}){X(kn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=d.useContext(Be);Te(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=d.useContext(Pe),{pathname:o}=Me(),a=Ui(),c=$i(t,Li(i),o,r==="path"),l=JSON.stringify(c);return d.useEffect(()=>{a(JSON.parse(l),{replace:e,state:n,relative:r})},[a,l,r,e,n]),null}function is(t){return Xf(t.context)}function te(t){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fh({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){X(!kn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=d.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Wt(n));let{pathname:c="/",search:l="",hash:u="",state:f=null,key:h="default"}=n,p=d.useMemo(()=>{let m=Et(c,o);return m==null?null:{location:{pathname:m,search:l,hash:u,state:f,key:h},navigationType:r}},[o,c,l,u,f,h,r]);return Te(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Be.Provider,{value:a},d.createElement(fr.Provider,{children:e,value:p}))}function hh({children:t,location:e}){return Zf(oi(t),e)}function oi(t,e=[]){let n=[];return d.Children.forEach(t,(r,s)=>{if(!d.isValidElement(r))return;let i=[...e,s];if(r.type===d.Fragment){n.push.apply(n,oi(r.props.children,i));return}X(r.type===te,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=oi(r.props.children,i)),n.push(o)}),n}var $r="get",Fr="application/x-www-form-urlencoded";function os(t){return t!=null&&typeof t.tagName=="string"}function ph(t){return os(t)&&t.tagName.toLowerCase()==="button"}function mh(t){return os(t)&&t.tagName.toLowerCase()==="form"}function gh(t){return os(t)&&t.tagName.toLowerCase()==="input"}function yh(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bh(t,e){return t.button===0&&(!e||e==="_self")&&!yh(t)}function ai(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function vh(t,e){let n=ai(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var _r=null;function wh(){if(_r===null)try{new FormData(document.createElement("form"),0),_r=!1}catch{_r=!0}return _r}var _h=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ps(t){return t!=null&&!_h.has(t)?(Te(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fr}"`),null):t}function xh(t,e){let n,r,s,i,o;if(mh(t)){let a=t.getAttribute("action");r=a?Et(a,e):null,n=t.getAttribute("method")||$r,s=Ps(t.getAttribute("enctype"))||Fr,i=new FormData(t)}else if(ph(t)||gh(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Et(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||$r,s=Ps(t.getAttribute("formenctype"))||Ps(a.getAttribute("enctype"))||Fr,i=new FormData(a,t),!wh()){let{name:l,type:u,value:f}=t;if(u==="image"){let h=l?`${l}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else l&&i.append(l,f)}}else{if(os(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$r,r=null,s=Fr,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function Hi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Eh(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sh(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ch(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Eh(i,n);return o.links?o.links():[]}return[]}));return Ih(r.flat(1).filter(Sh).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qo(t,e,n,r,s,i){let o=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,a=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,l)=>o(c,l)||a(c,l)):i==="data"?e.filter((c,l)=>{var f;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,l)||a(c,l))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Th(t,e){return Ah(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Ah(t){return[...new Set(t)]}function kh(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Ih(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(kh(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Rh(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Ph(){let t=d.useContext(An);return Hi(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Mh(){let t=d.useContext(ss);return Hi(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vi=d.createContext(void 0);Vi.displayName="FrameworkContext";function Nc(){let t=d.useContext(Vi);return Hi(t,"You must render this element inside a <HydratedRouter> element"),t}function Oh(t,e){let n=d.useContext(Vi),[r,s]=d.useState(!1),[i,o]=d.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:f}=e,h=d.useRef(null);d.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=v=>{v.forEach(_=>{o(_.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[t]),d.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Un(a,p),onBlur:Un(c,m),onMouseEnter:Un(l,p),onMouseLeave:Un(u,m),onTouchStart:Un(f,p)}]:[!1,h,{}]}function Un(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jh({page:t,...e}){let{router:n}=Ph(),r=d.useMemo(()=>Tc(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?d.createElement(Dh,{page:t,matches:r,...e}):null}function Nh(t){let{manifest:e,routeModules:n}=Nc(),[r,s]=d.useState([]);return d.useEffect(()=>{let i=!1;return Ch(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Dh({page:t,matches:e,...n}){let r=Me(),{manifest:s,routeModules:i}=Nc(),{loaderData:o,matches:a}=Mh(),c=d.useMemo(()=>qo(t,e,a,s,r,"data"),[t,e,a,s,r]),l=d.useMemo(()=>qo(t,e,a,s,r,"assets"),[t,e,a,s,r]),u=d.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(e.forEach(b=>{var _;let v=s.routes[b.route.id];!v||!v.hasLoader||(!c.some(w=>w.route.id===b.route.id)&&b.route.id in o&&((_=i[b.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?m=!0:p.add(b.route.id))}),p.size===0)return[];let g=Rh(t);return m&&p.size>0&&g.searchParams.set("_routes",e.filter(b=>p.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[o,r,s,c,e,t,i]),f=d.useMemo(()=>Th(l,s),[l,s]),h=Nh(l);return d.createElement(d.Fragment,null,u.map(p=>d.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>d.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>d.createElement("link",{key:p,...m})))}function Lh(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dc&&(window.__reactRouterVersion="7.1.5")}catch{}function $h({basename:t,children:e,window:n}){let r=d.useRef();r.current==null&&(r.current=Ef({window:n,v5Compat:!0}));let s=r.current,[i,o]=d.useState({action:s.action,location:s.location}),a=d.useCallback(c=>{d.startTransition(()=>o(c))},[o]);return d.useLayoutEffect(()=>s.listen(a),[s,a]),d.createElement(fh,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Lc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=d.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:f,...h},p){let{basename:m}=d.useContext(Be),g=typeof l=="string"&&Lc.test(l),b,v=!1;if(typeof l=="string"&&g&&(b=l,Dc))try{let A=new URL(window.location.href),R=l.startsWith("//")?new URL(A.protocol+l):new URL(l),U=Et(R.pathname,m);R.origin===A.origin&&U!=null?l=U+R.search+R.hash:v=!0}catch{Te(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Yf(l,{relative:s}),[w,x,E]=Oh(r,h),k=zh(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:f});function T(A){e&&e(A),A.defaultPrevented||k(A)}let C=d.createElement("a",{...h,...E,href:b||_,onClick:v||i?e:T,ref:Lh(p,x),target:c,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?d.createElement(d.Fragment,null,C,d.createElement(jh,{page:_})):C});qe.displayName="Link";var Fh=d.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...l},u){let f=hr(o,{relative:l.relative}),h=Me(),p=d.useContext(ss),{navigator:m,basename:g}=d.useContext(Be),b=p!=null&&Kh(f)&&a===!0,v=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&g&&(w=Et(w,g)||w);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=_===v||!s&&_.startsWith(v)&&_.charAt(x)==="/",k=w!=null&&(w===v||!s&&w.startsWith(v)&&w.charAt(v.length)==="/"),T={isActive:E,isPending:k,isTransitioning:b},C=E?e:void 0,A;typeof r=="function"?A=r(T):A=[r,E?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(T):i;return d.createElement(qe,{...l,"aria-current":C,className:A,ref:u,style:R,to:o,viewTransition:a},typeof c=="function"?c(T):c)});Fh.displayName="NavLink";var Uh=d.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=$r,action:a,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:f,...h},p)=>{let m=Wh(),g=qh(a,{relative:l}),b=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&Lc.test(a),_=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let x=w.nativeEvent.submitter,E=(x==null?void 0:x.getAttribute("formmethod"))||o;m(x||w.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:l,preventScrollReset:u,viewTransition:f})};return d.createElement("form",{ref:p,method:b,action:g,onSubmit:r?c:_,...h,"data-discover":!v&&t==="render"?"true":void 0})});Uh.displayName="Form";function Bh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $c(t){let e=d.useContext(An);return X(e,Bh(t)),e}function zh(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Ui(),c=Me(),l=hr(t,{relative:i});return d.useCallback(u=>{if(bh(u,e)){u.preventDefault();let f=n!==void 0?n:Jn(c)===Jn(l);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,l,n,r,e,t,s,i,o])}function MS(t){Te(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=d.useRef(ai(t)),n=d.useRef(!1),r=Me(),s=d.useMemo(()=>vh(r.search,n.current?null:e.current),[r.search]),i=Ui(),o=d.useCallback((a,c)=>{const l=ai(typeof a=="function"?a(s):a);n.current=!0,i("?"+l,c)},[i,s]);return[s,o]}var Hh=0,Vh=()=>`__${String(++Hh)}__`;function Wh(){let{router:t}=$c("useSubmit"),{basename:e}=d.useContext(Be),n=ch();return d.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:l}=xh(r,e);if(s.navigate===!1){let u=s.fetcherKey||Vh();await t.fetch(u,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function qh(t,{relative:e}={}){let{basename:n}=d.useContext(Be),r=d.useContext(Pe);X(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...hr(t||".",{relative:e})},o=Me();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(u=>u==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:rt([n,i.pathname])),Jn(i)}function Kh(t,e={}){let n=d.useContext(Rc);X(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$c("useViewTransitionState"),s=hr(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Et(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Et(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wr(s.pathname,o)!=null||Wr(s.pathname,i)!=null}new TextEncoder;var as=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cs=typeof window>"u"||"Deno"in globalThis;function je(){}function Gh(t,e){return typeof t=="function"?t(e):t}function Yh(t){return typeof t=="number"&&t>=0&&t!==1/0}function Qh(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ko(t,e){return typeof t=="function"?t(e):t}function Jh(t,e){return typeof t=="function"?t(e):t}function Go(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Wi(o,e.options))return!1}else if(!Zn(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Yo(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xn(e.options.mutationKey)!==Xn(i))return!1}else if(!Zn(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Wi(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xn)(t)}function Xn(t){return JSON.stringify(t,(e,n)=>ci(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Zn(t[n],e[n])):!1}function Fc(t,e){if(t===e)return t;const n=Qo(t)&&Qo(e);if(n||ci(t)&&ci(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=Fc(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Qo(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ci(t){if(!Jo(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Jo(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jo(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xh(t){return new Promise(e=>{setTimeout(e,t)})}function Zh(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Fc(t,e):e}function ep(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tp(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qi=Symbol();function Uc(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qi?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jt,gt,pn,gc,np=(gc=class extends as{constructor(){super();q(this,jt);q(this,gt);q(this,pn);j(this,pn,e=>{if(!cs&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,gt)||this.setEventListener(S(this,pn))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,gt))==null||e.call(this),j(this,gt,void 0))}setEventListener(e){var n;j(this,pn,e),(n=S(this,gt))==null||n.call(this),j(this,gt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){S(this,jt)!==e&&(j(this,jt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof S(this,jt)=="boolean"?S(this,jt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jt=new WeakMap,gt=new WeakMap,pn=new WeakMap,gc),Bc=new np,mn,yt,gn,yc,rp=(yc=class extends as{constructor(){super();q(this,mn,!0);q(this,yt);q(this,gn);j(this,gn,e=>{if(!cs&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,yt)||this.setEventListener(S(this,gn))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,yt))==null||e.call(this),j(this,yt,void 0))}setEventListener(e){var n;j(this,gn,e),(n=S(this,yt))==null||n.call(this),j(this,yt,e(this.setOnline.bind(this)))}setOnline(e){S(this,mn)!==e&&(j(this,mn,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return S(this,mn)}},mn=new WeakMap,yt=new WeakMap,gn=new WeakMap,yc),qr=new rp;function sp(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ip(t){return Math.min(1e3*2**t,3e4)}function zc(t){return(t??"online")==="online"?qr.isOnline():!0}var Hc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ms(t){return t instanceof Hc}function Vc(t){let e=!1,n=0,r=!1,s;const i=sp(),o=g=>{var b;r||(h(new Hc(g)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>Bc.isFocused()&&(t.networkMode==="always"||qr.isOnline())&&t.canRun(),u=()=>zc(t.networkMode)&&t.canRun(),f=g=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var b;s=v=>{(r||l())&&g(v)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const b=n===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var k;if(r)return;const _=t.retry??(cs?0:3),w=t.retryDelay??ip,x=typeof w=="function"?w(n,v):w,E=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!E){h(v);return}n++,(k=t.onFail)==null||k.call(t,n,v),Xh(x).then(()=>l()?void 0:p()).then(()=>{e?h(v):m()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?m():p().then(m),i)}}function op(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ye=op(),Nt,bc,Wc=(bc=class{constructor(){q(this,Nt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yh(this.gcTime)&&j(this,Nt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cs?1/0:5*60*1e3))}clearGcTimeout(){S(this,Nt)&&(clearTimeout(S(this,Nt)),j(this,Nt,void 0))}},Nt=new WeakMap,bc),yn,bn,Ie,Dt,le,ur,Lt,Ne,Ze,vc,ap=(vc=class extends Wc{constructor(e){super();q(this,Ne);q(this,yn);q(this,bn);q(this,Ie);q(this,Dt);q(this,le);q(this,ur);q(this,Lt);j(this,Lt,!1),j(this,ur,e.defaultOptions),this.setOptions(e.options),this.observers=[],j(this,Dt,e.client),j(this,Ie,S(this,Dt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,j(this,yn,lp(this.options)),this.state=e.state??S(this,yn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,le))==null?void 0:e.promise}setOptions(e){this.options={...S(this,ur),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Ie).remove(this)}setData(e,n){const r=Zh(this.state.data,e,this.options);return ce(this,Ne,Ze).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ce(this,Ne,Ze).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=S(this,le))==null?void 0:r.promise;return(s=S(this,le))==null||s.cancel(e),n?n.then(je).catch(je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,yn))}isActive(){return this.observers.some(e=>Jh(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Qh(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,le))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,le))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,Ie).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(S(this,le)&&(S(this,Lt)?S(this,le).cancel({revert:!0}):S(this,le).cancelRetry()),this.scheduleGc()),S(this,Ie).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,Ne,Ze).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,le))return S(this,le).continueRetry(),S(this,le).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(j(this,Lt,!0),r.signal)})},i=()=>{const f=Uc(this.options,n),h={client:S(this,Dt),queryKey:this.queryKey,meta:this.meta};return s(h),j(this,Lt,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,Dt),state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),j(this,bn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&ce(this,Ne,Ze).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var h,p,m,g;Ms(f)&&f.silent||ce(this,Ne,Ze).call(this,{type:"error",error:f}),Ms(f)||((p=(h=S(this,Ie).config).onError)==null||p.call(h,f,this),(g=(m=S(this,Ie).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return j(this,le,Vc({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(p=(h=S(this,Ie).config).onSuccess)==null||p.call(h,f,this),(g=(m=S(this,Ie).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{ce(this,Ne,Ze).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ce(this,Ne,Ze).call(this,{type:"pause"})},onContinue:()=>{ce(this,Ne,Ze).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),S(this,le).start()}},yn=new WeakMap,bn=new WeakMap,Ie=new WeakMap,Dt=new WeakMap,le=new WeakMap,ur=new WeakMap,Lt=new WeakMap,Ne=new WeakSet,Ze=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cp(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Ms(s)&&s.revert&&S(this,bn)?{...S(this,bn),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ye.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Ie).notify({query:this,type:"updated",action:e})})},vc);function cp(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zc(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lp(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var He,wc,up=(wc=class extends as{constructor(e={}){super();q(this,He);this.config=e,j(this,He,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Wi(s,n);let o=this.get(i);return o||(o=new ap({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){S(this,He).has(e.queryHash)||(S(this,He).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=S(this,He).get(e.queryHash);n&&(e.destroy(),n===e&&S(this,He).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ye.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,He).get(e)}getAll(){return[...S(this,He).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Go(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Go(e,r)):n}notify(e){ye.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ye.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ye.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},He=new WeakMap,wc),Ve,ge,$t,We,ut,_c,dp=(_c=class extends Wc{constructor(e){super();q(this,We);q(this,Ve);q(this,ge);q(this,$t);this.mutationId=e.mutationId,j(this,ge,e.mutationCache),j(this,Ve,[]),this.state=e.state||fp(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,Ve).includes(e)||(S(this,Ve).push(e),this.clearGcTimeout(),S(this,ge).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){j(this,Ve,S(this,Ve).filter(n=>n!==e)),this.scheduleGc(),S(this,ge).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,Ve).length||(this.state.status==="pending"?this.scheduleGc():S(this,ge).remove(this))}continue(){var e;return((e=S(this,$t))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,c,l,u,f,h,p,m,g,b,v,_,w,x,E,k,T;j(this,$t,Vc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{ce(this,We,ut).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{ce(this,We,ut).call(this,{type:"pause"})},onContinue:()=>{ce(this,We,ut).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,ge).canRun(this)}));const n=this.state.status==="pending",r=!S(this,$t).canStart();try{if(!n){ce(this,We,ut).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=S(this,ge).config).onMutate)==null?void 0:i.call(s,e,this));const A=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));A!==this.state.context&&ce(this,We,ut).call(this,{type:"pending",context:A,variables:e,isPaused:r})}const C=await S(this,$t).start();return await((l=(c=S(this,ge).config).onSuccess)==null?void 0:l.call(c,C,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,C,e,this.state.context)),await((p=(h=S(this,ge).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,C,null,e,this.state.context)),ce(this,We,ut).call(this,{type:"success",data:C}),C}catch(C){try{throw await((v=(b=S(this,ge).config).onError)==null?void 0:v.call(b,C,e,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,C,e,this.state.context)),await((E=(x=S(this,ge).config).onSettled)==null?void 0:E.call(x,void 0,C,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,C,e,this.state.context)),C}finally{ce(this,We,ut).call(this,{type:"error",error:C})}}finally{S(this,ge).runNext(this)}}},Ve=new WeakMap,ge=new WeakMap,$t=new WeakMap,We=new WeakSet,ut=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ye.batch(()=>{S(this,Ve).forEach(r=>{r.onMutationUpdate(e)}),S(this,ge).notify({mutation:this,type:"updated",action:e})})},_c);function fp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nt,De,dr,xc,hp=(xc=class extends as{constructor(e={}){super();q(this,nt);q(this,De);q(this,dr);this.config=e,j(this,nt,new Set),j(this,De,new Map),j(this,dr,0)}build(e,n,r){const s=new dp({mutationCache:this,mutationId:++vr(this,dr)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){S(this,nt).add(e);const n=xr(e);if(typeof n=="string"){const r=S(this,De).get(n);r?r.push(e):S(this,De).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(S(this,nt).delete(e)){const n=xr(e);if(typeof n=="string"){const r=S(this,De).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&S(this,De).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=xr(e);if(typeof n=="string"){const r=S(this,De).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=xr(e);if(typeof n=="string"){const s=(r=S(this,De).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ye.batch(()=>{S(this,nt).forEach(e=>{this.notify({type:"removed",mutation:e})}),S(this,nt).clear(),S(this,De).clear()})}getAll(){return Array.from(S(this,nt))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yo(n,r))}findAll(e={}){return this.getAll().filter(n=>Yo(e,n))}notify(e){ye.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ye.batch(()=>Promise.all(e.map(n=>n.continue().catch(je))))}},nt=new WeakMap,De=new WeakMap,dr=new WeakMap,xc);function xr(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Xo(t){return{onFetch:(e,n)=>{var u,f,h,p,m;const r=e.options,s=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=Uc(e.options,e.fetchOptions),_=async(w,x,E)=>{if(g)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const k={client:e.client,queryKey:e.queryKey,pageParam:x,direction:E?"backward":"forward",meta:e.options.meta};b(k);const T=await v(k),{maxPages:C}=e.options,A=E?tp:ep;return{pages:A(w.pages,T,C),pageParams:A(w.pageParams,x,C)}};if(s&&i.length){const w=s==="backward",x=w?pp:Zo,E={pages:i,pageParams:o},k=x(r,E);a=await _(E,k,w)}else{const w=t??i.length;do{const x=c===0?o[0]??r.initialPageParam:Zo(r,a);if(c>0&&x==null)break;a=await _(a,x),c++}while(c<w)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function Zo(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pp(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Z,bt,vt,vn,wn,wt,_n,xn,Ec,mp=(Ec=class{constructor(t={}){q(this,Z);q(this,bt);q(this,vt);q(this,vn);q(this,wn);q(this,wt);q(this,_n);q(this,xn);j(this,Z,t.queryCache||new up),j(this,bt,t.mutationCache||new hp),j(this,vt,t.defaultOptions||{}),j(this,vn,new Map),j(this,wn,new Map),j(this,wt,0)}mount(){vr(this,wt)._++,S(this,wt)===1&&(j(this,_n,Bc.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,Z).onFocus())})),j(this,xn,qr.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,Z).onOnline())})))}unmount(){var t,e;vr(this,wt)._--,S(this,wt)===0&&((t=S(this,_n))==null||t.call(this),j(this,_n,void 0),(e=S(this,xn))==null||e.call(this),j(this,xn,void 0))}isFetching(t){return S(this,Z).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,bt).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,Z).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=S(this,Z).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ko(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return S(this,Z).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=S(this,Z).get(r.queryHash),i=s==null?void 0:s.state.data,o=Gh(e,i);if(o!==void 0)return S(this,Z).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ye.batch(()=>S(this,Z).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,Z).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=S(this,Z);ye.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=S(this,Z),r={type:"active",...t};return ye.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ye.batch(()=>S(this,Z).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(je).catch(je)}invalidateQueries(t,e={}){return ye.batch(()=>{if(S(this,Z).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const n={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ye.batch(()=>S(this,Z).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(je)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(je)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=S(this,Z).build(this,e);return n.isStaleByTime(Ko(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(je).catch(je)}fetchInfiniteQuery(t){return t.behavior=Xo(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(je).catch(je)}ensureInfiniteQueryData(t){return t.behavior=Xo(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qr.isOnline()?S(this,bt).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Z)}getMutationCache(){return S(this,bt)}getDefaultOptions(){return S(this,vt)}setDefaultOptions(t){j(this,vt,t)}setQueryDefaults(t,e){S(this,vn).set(Xn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,vn).values()],n={};return e.forEach(r=>{Zn(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){S(this,wn).set(Xn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,wn).values()];let n={};return e.forEach(r=>{Zn(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,vt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Wi(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qi&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,vt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,Z).clear(),S(this,bt).clear()}},Z=new WeakMap,bt=new WeakMap,vt=new WeakMap,vn=new WeakMap,wn=new WeakMap,wt=new WeakMap,_n=new WeakMap,xn=new WeakMap,Ec),gp=d.createContext(void 0),yp=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(gp.Provider,{value:t,children:e}));function qc(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=qc(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ge(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=qc(t))&&(r&&(r+=" "),r+=e);return r}const er=t=>typeof t=="number"&&!isNaN(t),Ft=t=>typeof t=="string",Se=t=>typeof t=="function",Ur=t=>Ft(t)||Se(t)?t:null,li=t=>d.isValidElement(t)||Ft(t)||Se(t)||er(t);function bp(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function ls(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:c,preventExitTransition:l,done:u,nodeRef:f,isIn:h,playToast:p}=o;const m=r?`${e}--${c}`:e,g=r?`${n}--${c}`:n,b=d.useRef(0);return d.useLayoutEffect(()=>{const v=f.current,_=m.split(" "),w=x=>{x.target===f.current&&(p(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),b.current===0&&x.type!=="animationcancel"&&v.classList.remove(..._))};v.classList.add(..._),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),d.useEffect(()=>{const v=f.current,_=()=>{v.removeEventListener("animationend",_),s?bp(v,u,i):u()};h||(l?_():(b.current=1,v.className+=` ${g}`,v.addEventListener("animationend",_)))},[h]),O.createElement(O.Fragment,null,a)}}function ea(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const be=new Map;let tr=[];const ui=new Set,vp=t=>ui.forEach(e=>e(t)),Kc=()=>be.size>0;function Gc(t,e){var n;if(e)return!((n=be.get(e))==null||!n.isToastActive(t));let r=!1;return be.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function Yc(t,e){li(t)&&(Kc()||tr.push({content:t,options:e}),be.forEach(n=>{n.buildToast(t,e)}))}function ta(t,e){be.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function wp(t){const{subscribe:e,getSnapshot:n,setProps:r}=d.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const c=function(u,f,h){let p=1,m=0,g=[],b=[],v=[],_=f;const w=new Map,x=new Set,E=()=>{v=Array.from(w.values()),x.forEach(C=>C())},k=C=>{b=C==null?[]:b.filter(A=>A!==C),E()},T=C=>{const{toastId:A,onOpen:R,updateId:U,children:P}=C.props,z=U==null;C.staleId&&w.delete(C.staleId),w.set(A,C),b=[...b,C.props.toastId].filter(D=>D!==C.staleId),E(),h(ea(C,z?"added":"updated")),z&&Se(R)&&R(d.isValidElement(P)&&P.props)};return{id:u,props:_,observe:C=>(x.add(C),()=>x.delete(C)),toggle:(C,A)=>{w.forEach(R=>{A!=null&&A!==R.props.toastId||Se(R.toggle)&&R.toggle(C)})},removeToast:k,toasts:w,clearQueue:()=>{m-=g.length,g=[]},buildToast:(C,A)=>{if((ee=>{let{containerId:re,toastId:oe,updateId:he}=ee;const pe=re?re!==u:u!==1,me=w.has(oe)&&he==null;return pe||me})(A))return;const{toastId:R,updateId:U,data:P,staleId:z,delay:D}=A,G=()=>{k(R)},F=U==null;F&&m++;const H={..._,style:_.toastStyle,key:p++,...Object.fromEntries(Object.entries(A).filter(ee=>{let[re,oe]=ee;return oe!=null})),toastId:R,updateId:U,data:P,closeToast:G,isIn:!1,className:Ur(A.className||_.toastClassName),bodyClassName:Ur(A.bodyClassName||_.bodyClassName),progressClassName:Ur(A.progressClassName||_.progressClassName),autoClose:!A.isLoading&&(M=A.autoClose,I=_.autoClose,M===!1||er(M)&&M>0?M:I),deleteToast(){const ee=w.get(R),{onClose:re,children:oe}=ee.props;Se(re)&&re(d.isValidElement(oe)&&oe.props),h(ea(ee,"removed")),w.delete(R),m--,m<0&&(m=0),g.length>0?T(g.shift()):E()}};var M,I;H.closeButton=_.closeButton,A.closeButton===!1||li(A.closeButton)?H.closeButton=A.closeButton:A.closeButton===!0&&(H.closeButton=!li(_.closeButton)||_.closeButton);let V=C;d.isValidElement(C)&&!Ft(C.type)?V=d.cloneElement(C,{closeToast:G,toastProps:H,data:P}):Se(C)&&(V=C({closeToast:G,toastProps:H,data:P}));const W={content:V,props:H,staleId:z};_.limit&&_.limit>0&&m>_.limit&&F?g.push(W):er(D)?setTimeout(()=>{T(W)},D):T(W)},setProps(C){_=C},setToggle:(C,A)=>{w.get(C).toggle=A},isToastActive:C=>b.some(A=>A===C),getSnapshot:()=>v}}(o,i,vp);be.set(o,c);const l=c.observe(a);return tr.forEach(u=>Yc(u.content,u.options)),tr=[],()=>{l(),be.delete(o)}},setProps(a){var c;(c=be.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=be.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=d.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return t.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:Gc,count:s==null?void 0:s.length}}function _p(t){const[e,n]=d.useState(!1),[r,s]=d.useState(!1),i=d.useRef(null),o=d.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:l,onClick:u,closeOnClick:f}=t;var h,p;function m(){n(!0)}function g(){n(!1)}function b(w){const x=i.current;o.canDrag&&x&&(o.didMove=!0,e&&g(),o.delta=t.draggableDirection==="x"?w.clientX-o.start:w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1),x.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",v);const w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}(p=be.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||p.setToggle(h.id,h.fn),d.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(w){if(t.draggable===!0||t.draggable===w.pointerType){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",v);const x=i.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=x.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(w){const{top:x,bottom:E,left:k,right:T}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&w.clientX>=k&&w.clientX<=T&&w.clientY>=x&&w.clientY<=E?g():m()}};return a&&c&&(_.onMouseEnter=g,t.stacked||(_.onMouseLeave=m)),f&&(_.onClick=w=>{u&&u(w),o.canCloseOnClick&&l()}),{playToast:m,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:_}}function xp(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:c,progress:l,rtl:u,isIn:f,theme:h}=t;const p=i||c&&l===0,m={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(m.transform=`scaleX(${l})`);const g=Ge("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),b=Se(o)?o({rtl:u,type:s,defaultClassName:g}):Ge(g,o),v={[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{f&&r()}};return O.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},O.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${s}`}),O.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:m,...v}))}let Ep=1;const Qc=()=>""+Ep++;function Sp(t){return t&&(Ft(t.toastId)||er(t.toastId))?t.toastId:Qc()}function Gn(t,e){return Yc(t,e),e.toastId}function Kr(t,e){return{...e,type:e&&e.type||t,toastId:Sp(e)}}function Er(t){return(e,n)=>Gn(e,Kr(t,n))}function K(t,e){return Gn(t,Kr("default",e))}K.loading=(t,e)=>Gn(t,Kr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),K.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=Ft(s)?K.loading(s,n):K.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,f,h)=>{if(f==null)return void K.dismiss(r);const p={type:u,...a,...n,data:h},m=Ft(f)?{render:f}:f;return r?K.update(r,{...p,...m}):K(m.render,{...p,...m}),h},l=Se(t)?t():t;return l.then(u=>c("success",o,u)).catch(u=>c("error",i,u)),l},K.success=Er("success"),K.info=Er("info"),K.error=Er("error"),K.warning=Er("warning"),K.warn=K.warning,K.dark=(t,e)=>Gn(t,Kr("default",{theme:"dark",...e})),K.dismiss=function(t){(function(e){var n;if(Kc()){if(e==null||Ft(n=e)||er(n))be.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=be.get(e.containerId);r?r.removeToast(e.id):be.forEach(s=>{s.removeToast(e.id)})}}else tr=tr.filter(r=>e!=null&&r.options.toastId!==e)})(t)},K.clearWaitingQueue=function(t){t===void 0&&(t={}),be.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},K.isActive=Gc,K.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=be.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:Qc()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,Gn(o,i)}},K.done=t=>{K.update(t,{progress:1})},K.onChange=function(t){return ui.add(t),()=>{ui.delete(t)}},K.play=t=>ta(!0,t),K.pause=t=>ta(!1,t);const Cp=typeof window<"u"?d.useLayoutEffect:d.useEffect,Sr=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return O.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Os={info:function(t){return O.createElement(Sr,{...t},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return O.createElement(Sr,{...t},O.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return O.createElement(Sr,{...t},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return O.createElement(Sr,{...t},O.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return O.createElement("div",{className:"Toastify__spinner"})}},Tp=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=_p(t),{closeButton:o,children:a,autoClose:c,onClick:l,type:u,hideProgressBar:f,closeToast:h,transition:p,position:m,className:g,style:b,bodyClassName:v,bodyStyle:_,progressClassName:w,progressStyle:x,updateId:E,role:k,progress:T,rtl:C,toastId:A,deleteToast:R,isIn:U,isLoading:P,closeOnClick:z,theme:D}=t,G=Ge("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":z}),F=Se(g)?g({rtl:C,position:m,type:u,defaultClassName:G}):Ge(G,g),H=function(W){let{theme:ee,type:re,isLoading:oe,icon:he}=W,pe=null;const me={theme:ee,type:re};return he===!1||(Se(he)?pe=he({...me,isLoading:oe}):d.isValidElement(he)?pe=d.cloneElement(he,me):oe?pe=Os.spinner():(kt=>kt in Os)(re)&&(pe=Os[re](me))),pe}(t),M=!!T||!c,I={closeToast:h,type:u,theme:D};let V=null;return o===!1||(V=Se(o)?o(I):d.isValidElement(o)?d.cloneElement(o,I):function(W){let{closeToast:ee,theme:re,ariaLabel:oe="close"}=W;return O.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:he=>{he.stopPropagation(),ee(he)},"aria-label":oe},O.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},O.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(I)),O.createElement(p,{isIn:U,done:R,position:m,preventExitTransition:n,nodeRef:r,playToast:i},O.createElement("div",{id:A,onClick:l,"data-in":U,className:F,...s,style:b,ref:r},O.createElement("div",{...U&&{role:k},className:Se(v)?v({type:u}):Ge("Toastify__toast-body",v),style:_},H!=null&&O.createElement("div",{className:Ge("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},H),O.createElement("div",null,a)),V,O.createElement(xp,{...E&&!M?{key:`pb-${E}`}:{},rtl:C,theme:D,delay:c,isRunning:e,isIn:U,closeToast:h,hide:f,type:u,style:x,className:w,controlledProgress:M,progress:T||0})))},us=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Ap=ls(us("bounce",!0));ls(us("slide",!0));ls(us("zoom"));ls(us("flip"));const kp={position:"top-right",transition:Ap,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Ip(t){let e={...kp,...t};const n=t.stacked,[r,s]=d.useState(!0),i=d.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=wp(e),{className:l,style:u,rtl:f,containerId:h}=e;function p(g){const b=Ge("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":f});return Se(l)?l({position:g,rtl:f,defaultClassName:b}):Ge(b,Ur(l))}function m(){n&&(s(!0),K.play())}return Cp(()=>{if(n){var g;const b=i.current.querySelectorAll('[data-in="true"]'),v=12,_=(g=e.position)==null?void 0:g.includes("top");let w=0,x=0;Array.from(b).reverse().forEach((E,k)=>{const T=E;T.classList.add("Toastify__toast--stacked"),k>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=_?"top":"bot");const C=w*(r?.2:1)+(r?0:v*k);T.style.setProperty("--y",`${_?C:-1*C}px`),T.style.setProperty("--g",`${v}`),T.style.setProperty("--s",""+(1-(r?x:0))),w+=T.offsetHeight,x+=.025})}},[r,c,n]),O.createElement("div",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),K.pause())},onMouseLeave:m},o((g,b)=>{const v=b.length?{...u}:{...u,pointerEvents:"none"};return O.createElement("div",{className:p(g),style:v,key:`container-${g}`},b.map(_=>{let{content:w,props:x}=_;return O.createElement(Tp,{...x,stacked:n,collapseAll:m,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},w)}))}))}const Rp="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyAgUFVCTElDICctLy9XM0MvL0RURCBTVkcgMS4xLy9FTicgICdodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQnPgo8c3ZnIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2RkIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ4MSA1NzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Im0yMzYuNSAxMy41YzEuNjk5LTAuMTYwMiAzLjM2NiAwLjAwNjUgNSAwLjUgMTQuMjM4IDkuMjg3NSAyOS4yMzggMTcuMjg4IDQ1IDI0IDUzLjM3MSAyMS42MDkgMTA4LjcgMzUuNjA5IDE2NiA0MiA2Ljg1OSAyLjg1ODkgMTEuNjkyIDcuNjkyMyAxNC41IDE0LjUgMi4wNTkgNDQuNjY4IDEuNzI2IDg5LjMzNS0xIDEzNC05Ljk3OCAxMjIuMTgtNjIuODExIDIyMC4zNC0xNTguNSAyOTQuNS0xOS4xMjggMTQuMDc2LTM5LjQ2MSAyNi40MDktNjEgMzctMi4yNDQgMC45MDYtNC41NzcgMS40MDYtNyAxLjUtNTUuMzA2LTIzLjU4OS0xMDEuODEtNTguOTIyLTEzOS41LTEwNi01NS4yNjYtNjguNzUyLTg0Ljc2Ni0xNDcuNTktODguNS0yMzYuNSAwLjYzMzktNC44NCAxLjMwMDYtOS42NzQgMi0xNC41IDAuMzY3OC0xLjQxIDEuMjAxMS0yLjQxIDIuNS0zIDEuNjY2NyAxLjMzMyAzLjMzMzMgMi42NjcgNSA0IDUuNjU2OCAxMi4zMjEgMTQuMTU3IDIyLjE1NSAyNS41IDI5LjUgMS44NTg5IDEuNTU4IDMuMzU4OSAzLjM5MSA0LjUgNS41IDIuNzQgMjQuNyA3LjQwNjcgNDkuMDM0IDE0IDczIDcuNjg0NiAyMy43MzIgMTcuNjg1IDQ2LjM5OSAzMCA2OCAxLjE2NjcgMS4xNjcgMi4zMzMzIDIuMzMzIDMuNSAzLjUgNjAuMzE2IDIuNzYxIDEwNi44Mi0yMC43MzkgMTM5LjUtNzAuNSAwLjk5MS0xLjk0NyAxLjMyNS0zLjk0NyAxLTYtMTUuNTA5IDcuOTAyLTMyLjE3NiAxMS4yMzUtNTAgMTAtMzUuMDc4IDAuNTUyLTYxLjI0NS0xNC4yODEtNzguNS00NC41bDEtMWM5LjgzNCAyLjYyNCAxOS44MzQgNC45NTcgMzAgNyAxOS45NjUgMi44NTYgMzkuMjk4IDAuNTIyIDU4LTcgMi40OTMtMi4wOCA1LjE1OS0zLjkxNCA4LTUuNSAxLjYyMy0xLjYxMyAyLjc5LTMuMjggMy41LTUtMS40Ni0xLjkyMi0zLjEyNy0yLjU4OS01LTItMjAuNDA2IDYuMTI2LTQxLjIzOSA2LjYyNi02Mi41IDEuNS01NS45ODQtMTIuNjMtOTMuMTUxLTQ2LjQ2My0xMTEuNS0xMDEuNS0yLjMyNDQtNy44NTQtMi45OTEtMTUuODU0LTItMjQgMC4zMDc2LTAuODA4IDAuODA3Ni0xLjQ3NSAxLjUtMiA1LjgxMiAyLjk0NCAxMC4zMTIgNy4yNzcgMTMuNSAxMyAzMi43MzcgMzIuMjQgNzEuOTA0IDQ3LjA3MyAxMTcuNSA0NC41IDIuOTU2LTAuOTYyIDUuMjktMi42MjggNy01LTEuMDItMi4wMjYtMi42ODctMy4zNTktNS00LTQ0LjM1OS03LjA5NC04MS44NTktMjYuOTI3LTExMi41LTU5LjUtMTIuOTk1LTE2LjgyNy0yMS44MjktMzUuNjYtMjYuNS01Ni41IDAuMTQ0OC0xLjIyNTkgMC40NzgxLTIuMzkyNiAxLTMuNS0yLjg0Ny0xMy4xMDgtMi4zNDctMjYuMTA4IDEuNS0zOSAxLjE2NjItMy4wMDMyIDIuODMyOC01LjY2OTggNS04IDEuNTEyMiAwLjc1NjcgMi44NDU1IDEuNzU2NyA0IDMgMjYgNDIgNjAuNSA3NS4xNjYgMTAzLjUgOTkuNSAyNC40MzMgMTIuMDg0IDQ5LjEgMjMuNzUxIDc0IDM1IDE5Ljk5OSAxMC42NjYgMzYuMTY2IDI1LjUgNDguNSA0NC41IDMuMjAyIDYuNjE3IDYuMjAyIDEzLjI4NCA5IDIwIDEuNTg5LTMuMjU3IDMuMDg5LTYuNTkgNC41LTEwLTAuMzMzLTAuNjY3LTAuNjY3LTEuMzMzLTEtMiAwLjgwMy03Ljk1MSAxLjMwMy0xNS45NTEgMS41LTI0IDAuNzQ3LTI1LjMxMyAxMi41ODEtNDMuMTQ2IDM1LjUtNTMuNSAxNy4yNS00Ljg5IDMyLjkxNy0xLjg5IDQ3IDkgOS4zNTggMS42ODQgMTguMDI0IDUuMDE4IDI2IDEwIDEuODUxIDEuNjg0IDMuNTE4IDMuNTE3IDUgNS41bC0xLjUgM2MtMjYuMjM2IDQuNzUzLTM2LjkwMyAyMC40Mi0zMiA0NyAyLjg2NyAxMy4xMzQgNi4yIDI2LjEzNCAxMCAzOSA3LjcxIDUyLjU1LTguNzkgOTUuNzE3LTQ5LjUgMTI5LjUtMzUuNjg1IDI3Ljc5Mi03Ni4zNTEgNDIuNzkyLTEyMiA0NS0xNS41ODYgMTEuOTE1LTMwLjU4NiAyNC41ODItNDUgMzggMjUuMTc4IDI3LjUyMyA1NC42NzggNDkuMzU2IDg4LjUgNjUuNSA3Mi4zMDEtMzcuOTY4IDEyNC45Ny05NC4zMDEgMTU4LTE2OSAyMi4yODUtNTQuNzYgMzMuMjg1LTExMS43NiAzMy0xNzEgMC42NjctMjEuMzMzIDAuNjY3LTQyLjY2NyAwLTY0LTY3LjA4My03LjY5Ni0xMzAuNzUtMjYuNjk2LTE5MS01Ny0yOS4yNzYgMTQuNDI1LTU5LjYxIDI2LjA5Mi05MSAzNS0zLjIxMi0xLjM1NTQtNi4zNzgtMi44NTU0LTkuNS00LjUtNS44NzQtNS41NDI5LTEyLjA0MS0xMC43MS0xOC41LTE1LjUtMS41ODYtMi4xNzA1LTIuOTItNC41MDM4LTQtNy0wLjc5OC0xLjc1ODgtMC42MzEtMy40MjU1IDAuNS01IDM2LjkyLTguOTE3NSA3Mi4yNTMtMjIuMDg0IDEwNi0zOS41IDQuNTU5LTMuNDM3MSA5LjIyNi02LjYwMzcgMTQtOS41eiIgZmlsbD0iI2ZlZmZmZSIgb3BhY2l0eT0iLjkyOSIvPgo8L3N2Zz4K",Pp="/prote-ja-app/assets/proteja_name-D6S49Xxc.svg";function na(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ds(...t){return e=>{let n=!1;const r=t.map(s=>{const i=na(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():na(t[s],null)}}}}function de(...t){return d.useCallback(ds(...t),t)}var En=d.forwardRef((t,e)=>{const{children:n,...r}=t,s=d.Children.toArray(n),i=s.find(Mp);if(i){const o=i.props.children,a=s.map(c=>c===i?d.Children.count(o)>1?d.Children.only(null):d.isValidElement(o)?o.props.children:null:c);return y.jsx(di,{...r,ref:e,children:d.isValidElement(o)?d.cloneElement(o,void 0,a):null})}return y.jsx(di,{...r,ref:e,children:n})});En.displayName="Slot";var di=d.forwardRef((t,e)=>{const{children:n,...r}=t;if(d.isValidElement(n)){const s=jp(n);return d.cloneElement(n,{...Op(r,n.props),ref:e?ds(e,s):s})}return d.Children.count(n)>1?d.Children.only(null):null});di.displayName="SlotClone";var Jc=({children:t})=>y.jsx(y.Fragment,{children:t});function Mp(t){return d.isValidElement(t)&&t.type===Jc}function Op(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jp(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ra=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sa=Ge,Np=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sa(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],f=i==null?void 0:i[l];if(u===null)return null;const h=ra(u)||ra(f);return s[l][h]}),a=n&&Object.entries(n).reduce((l,u)=>{let[f,h]=u;return h===void 0||(l[f]=h),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(m=>{let[g,b]=m;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...l,f,h]:l},[]);return sa(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Ki="-",Dp=t=>{const e=$p(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ki);return a[0]===""&&a.length!==1&&a.shift(),Xc(a,e)||Lp(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Xc=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Xc(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ki);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ia=/^\[(.+)\]$/,Lp=t=>{if(ia.test(t)){const e=ia.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$p=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Up(Object.entries(t.classGroups),n).forEach(([i,o])=>{fi(o,r,i,e)}),r},fi=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:oa(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Fp(s)){fi(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{fi(o,oa(e,i),n,r)})})},oa=(t,e)=>{let n=t;return e.split(Ki).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Fp=t=>t.isThemeGetter,Up=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Bp=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Zc="!",zp=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let l=0,u=0,f;for(let b=0;b<a.length;b++){let v=a[b];if(l===0){if(v===s&&(r||a.slice(b,b+i)===e)){c.push(a.slice(u,b)),u=b+i;continue}if(v==="/"){f=b;continue}}v==="["?l++:v==="]"&&l--}const h=c.length===0?a:a.substring(u),p=h.startsWith(Zc),m=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},Hp=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Vp=t=>({cache:Bp(t.cacheSize),parseClassName:zp(t),...Dp(t)}),Wp=/\s+/,qp=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Wp);let a="";for(let c=o.length-1;c>=0;c-=1){const l=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(l);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){a=l+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=l+(a.length>0?" "+a:a);continue}m=!1}const b=Hp(u).join(":"),v=f?b+Zc:b,_=v+g;if(i.includes(_))continue;i.push(_);const w=s(g,m);for(let x=0;x<w.length;++x){const E=w[x];i.push(v+E)}a=l+(a.length>0?" "+a:a)}return a};function Kp(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=el(e))&&(r&&(r+=" "),r+=n);return r}const el=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=el(t[r]))&&(n&&(n+=" "),n+=e);return n};function Gp(t,...e){let n,r,s,i=o;function o(c){const l=e.reduce((u,f)=>f(u),t());return n=Vp(l),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=qp(c,n);return s(c,u),u}return function(){return i(Kp.apply(null,arguments))}}const Q=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yp=/^\d+\/\d+$/,Qp=new Set(["px","full","screen"]),Jp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,em=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xe=t=>ln(t)||Qp.has(t)||Yp.test(t),ct=t=>In(t,"length",lm),ln=t=>!!t&&!Number.isNaN(Number(t)),js=t=>In(t,"number",ln),Bn=t=>!!t&&Number.isInteger(Number(t)),nm=t=>t.endsWith("%")&&ln(t.slice(0,-1)),N=t=>tl.test(t),lt=t=>Jp.test(t),rm=new Set(["length","size","percentage"]),sm=t=>In(t,rm,nl),im=t=>In(t,"position",nl),om=new Set(["image","url"]),am=t=>In(t,om,dm),cm=t=>In(t,"",um),zn=()=>!0,In=(t,e,n)=>{const r=tl.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},lm=t=>Xp.test(t)&&!Zp.test(t),nl=()=>!1,um=t=>em.test(t),dm=t=>tm.test(t),fm=()=>{const t=Q("colors"),e=Q("spacing"),n=Q("blur"),r=Q("brightness"),s=Q("borderColor"),i=Q("borderRadius"),o=Q("borderSpacing"),a=Q("borderWidth"),c=Q("contrast"),l=Q("grayscale"),u=Q("hueRotate"),f=Q("invert"),h=Q("gap"),p=Q("gradientColorStops"),m=Q("gradientColorStopPositions"),g=Q("inset"),b=Q("margin"),v=Q("opacity"),_=Q("padding"),w=Q("saturate"),x=Q("scale"),E=Q("sepia"),k=Q("skew"),T=Q("space"),C=Q("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",N,e],P=()=>[N,e],z=()=>["",Xe,ct],D=()=>["auto",ln,N],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",N],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ln,N];return{cacheSize:500,separator:":",theme:{colors:[zn],spacing:[Xe,ct],blur:["none","",lt,N],brightness:W(),borderColor:[t],borderRadius:["none","","full",lt,N],borderSpacing:P(),borderWidth:z(),contrast:W(),grayscale:I(),hueRotate:W(),invert:I(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[nm,ct],inset:U(),margin:U(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:I(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",N]}],container:["container"],columns:[{columns:[lt]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),N]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bn,N]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",N]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Bn,N]}],"grid-cols":[{"grid-cols":[zn]}],"col-start-end":[{col:["auto",{span:["full",Bn,N]},N]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[zn]}],"row-start-end":[{row:["auto",{span:[Bn,N]},N]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",N]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",N]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",N,e]}],"min-w":[{"min-w":[N,e,"min","max","fit"]}],"max-w":[{"max-w":[N,e,"none","full","min","max","fit","prose",{screen:[lt]},lt]}],h:[{h:[N,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[N,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[N,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[N,e,"auto","min","max","fit"]}],"font-size":[{text:["base",lt,ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",js]}],"font-family":[{font:[zn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",N]}],"line-clamp":[{"line-clamp":["none",ln,js]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xe,N]}],"list-image":[{"list-image":["none",N]}],"list-style-type":[{list:["none","disc","decimal",N]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xe,ct]}],"underline-offset":[{"underline-offset":["auto",Xe,N]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",N]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",N]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),im]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},am]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Xe,N]}],"outline-w":[{outline:[Xe,ct]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xe,ct]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",lt,cm]}],"shadow-color":[{shadow:[zn]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lt,N]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",N]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",N]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",N]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Bn,N]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",N]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",N]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",N]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xe,ct,js]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hm=Gp(fm);function fe(...t){return hm(Ge(t))}const pm=Np("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:opacity-80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border hover:bg-background",secondary:"bg-secondary text-secondary-foreground border hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",positive:"bg-secondary text-positive border border-positive hover:bg-secondary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),un=d.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?En:"button";return y.jsx(o,{className:fe(pm({variant:e,size:n,className:t}),{"border-0":s.borderless}),ref:i,...s})});un.displayName="Button";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rl=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>d.createElement("svg",{ref:c,...gm,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rl("lucide",s),...a},[...o.map(([l,u])=>d.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(ym,{ref:i,iconNode:e,className:rl(`lucide-${mm(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ne(async()=>{const{default:r}=await Promise.resolve().then(()=>Rn);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Gi extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Om extends Gi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jm extends Gi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nm extends Gi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hi||(hi={}));var Dm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Lm{constructor(e,{headers:n={},customFetch:r,region:s=hi.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Mm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Dm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(m=>{throw new Om(m)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new jm(u);if(!u.ok)throw new Nm(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var se={},Qt={},Jt={},Xt={},Zt={},en={},$m=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sn=$m();const Fm=Sn.fetch,sl=Sn.fetch.bind(Sn),il=Sn.Headers,Um=Sn.Request,Bm=Sn.Response,Rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:il,Request:Um,Response:Bm,default:sl,fetch:Fm},Symbol.toStringTag,{value:"Module"})),zm=hf(Rn);var Cr={},aa;function ol(){if(aa)return Cr;aa=1,Object.defineProperty(Cr,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Cr.default=t,Cr}var ca;function al(){if(ca)return en;ca=1;var t=en&&en.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(en,"__esModule",{value:!0});const e=t(zm),n=t(ol());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,f,h;let p=null,m=null,g=null,b=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=E:m=JSON.parse(E))}const w=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,b=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const w=await l.text();try{p=JSON.parse(w),Array.isArray(p)&&l.status===404&&(m=[],p=null,b=200,v="OK")}catch{l.status===404&&w===""?(b=204,v="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,b=200,v="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:m,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,f,h;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}}return en.default=r,en}var la;function cl(){if(la)return Zt;la=1;var t=Zt&&Zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});const e=t(al());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(l,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:l="text"}={}){var u;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${f};`,l==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Zt.default=n,Zt}var ua;function Yi(){if(ua)return Xt;ua=1;var t=Xt&&Xt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xt,"__esModule",{value:!0});const e=t(cl());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const l=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${l}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Xt.default=n,Xt}var da;function ll(){if(da)return Jt;da=1;var t=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const e=t(Yi());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let c=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",l),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(s)){const l=s.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){const l="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),c||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Jt.default=n,Jt}var Hn={},Vn={},fa;function Hm(){return fa||(fa=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.version=void 0,Vn.version="0.0.0-automated"),Vn}var ha;function Vm(){if(ha)return Hn;ha=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.DEFAULT_HEADERS=void 0;const t=Hm();return Hn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Hn}var pa;function Wm(){if(pa)return Qt;pa=1;var t=Qt&&Qt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qt,"__esModule",{value:!0});const e=t(ll()),n=t(Yi()),r=Vm();class s{constructor(o,{headers:a={},schema:c,fetch:l}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:c=!1,get:l=!1,count:u}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let p;c||l?(f=c?"HEAD":"GET",Object.entries(a).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{h.searchParams.append(g,b)})):(f="POST",p=a);const m=Object.assign({},this.headers);return u&&(m.Prefer=`count=${u}`),new n.default({method:f,url:h,headers:m,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return Qt.default=s,Qt}var ma;function qm(){if(ma)return se;ma=1;var t=se&&se.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(se,"__esModule",{value:!0}),se.PostgrestError=se.PostgrestBuilder=se.PostgrestTransformBuilder=se.PostgrestFilterBuilder=se.PostgrestQueryBuilder=se.PostgrestClient=void 0;const e=t(Wm());se.PostgrestClient=e.default;const n=t(ll());se.PostgrestQueryBuilder=n.default;const r=t(Yi());se.PostgrestFilterBuilder=r.default;const s=t(cl());se.PostgrestTransformBuilder=s.default;const i=t(al());se.PostgrestBuilder=i.default;const o=t(ol());return se.PostgrestError=o.default,se.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},se}var Km=qm();const Gm=Di(Km),{PostgrestClient:Ym,PostgrestQueryBuilder:OS,PostgrestFilterBuilder:jS,PostgrestTransformBuilder:NS,PostgrestBuilder:DS,PostgrestError:LS}=Gm,Qm="2.11.2",Jm={"X-Client-Info":`realtime-js/${Qm}`},Xm="1.0.0",ul=1e4,Zm=1e3;var dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(dn||(dn={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var Le;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Le||(Le={}));var pi;(function(t){t.websocket="websocket"})(pi||(pi={}));var Mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mt||(Mt={}));class eg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class dl{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const ga=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=tg(o,t,e,s),i),{})},tg=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?fl(i,o):mi(o)},fl=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ig(e,n)}switch(t){case Y.bool:return ng(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return rg(e);case Y.json:case Y.jsonb:return sg(e);case Y.timestamp:return og(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return mi(e);default:return mi(e)}},mi=t=>t,ng=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ig=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>fl(e,a))}return t},og=t=>typeof t=="string"?t.replace(" ","T"):t,hl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ns{constructor(e,n,r={},s=ul){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ya;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ya||(ya={}));class Yn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Yn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const f=i[l];if(f){const h=u.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),m=u.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);m.length>0&&(a[l]=m),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const f=e[a].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(f=>f.presence_ref);l=l.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ba;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ba||(ba={}));var va;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(va||(va={}));var et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(et||(et={}));class Qi{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ns(this,Le.join,this.params,this.timeout),this.rejoinTimer=new dl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Le.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Yn(this),this.broadcastEndpointURL=hl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(et.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(et.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(et.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const b=h[g],{filter:{event:v,schema:_,table:w,filter:x}}=b,E=u&&u[g];if(E&&E.event===v&&E.schema===_&&E.table===w&&E.filter===x)m.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),e==null||e(et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(et.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Le.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ns(this,Le.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ns(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Le;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,g,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,g,b,v,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,E=(m=p.filter)===null||m===void 0?void 0:m.event;return x&&((g=n.ids)===null||g===void 0?void 0:g.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(_=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return x==="*"||x===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:b,commit_timestamp:v,type:_,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qi.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Le.close,{},e)}_onError(e){this._on(Le.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ga(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ga(e.columns,e.old_record)),n}}const ag=()=>{},cg=typeof WebSocket<"u",lg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ug{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Jm,this.params={},this.timeout=ul,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ag,this.conn=null,this.sendBuffer=[],this.serializer=new eg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ne(async()=>{const{default:c}=await Promise.resolve().then(()=>Rn);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${pi.websocket}`,this.httpEndpoint=hl(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(cg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new dg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ne(async()=>{const{default:e}=await import("./browser-nFtbaKDj.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xm}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return Mt.Connecting;case dn.open:return Mt.Open;case dn.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(e,n={config:{}}){const r=new Qi(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Le.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Zm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Le.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([lg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class dg{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ji extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fg extends Ji{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gi extends Ji{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var hg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const pl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ne(async()=>{const{default:r}=await Promise.resolve().then(()=>Rn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},pg=()=>hg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ne(()=>Promise.resolve().then(()=>Rn),void 0)).Response:Response}),yi=t=>{if(Array.isArray(t))return t.map(n=>yi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=yi(r)}),e};var qt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Ds=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mg=(t,e,n)=>qt(void 0,void 0,void 0,function*(){const r=yield pg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new fg(Ds(s),t.status||500))}).catch(s=>{e(new gi(Ds(s),s))}):e(new gi(Ds(t),t))}),gg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function pr(t,e,n,r,s,i){return qt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,gg(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>mg(c,a,r))})})}function Gr(t,e,n,r){return qt(this,void 0,void 0,function*(){return pr(t,"GET",e,n,r)})}function pt(t,e,n,r,s){return qt(this,void 0,void 0,function*(){return pr(t,"POST",e,r,s,n)})}function yg(t,e,n,r,s){return qt(this,void 0,void 0,function*(){return pr(t,"PUT",e,r,s,n)})}function bg(t,e,n,r){return qt(this,void 0,void 0,function*(){return pr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ml(t,e,n,r,s){return qt(this,void 0,void 0,function*(){return pr(t,"DELETE",e,r,s,n)})}var we=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const vg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=pl(s)}uploadOrUpdate(e,n,r,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wa),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:wa.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ie(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ji("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}update(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}copy(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return we(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}download(e,n){return we(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Gr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Gr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yi(r),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ie(r)&&r instanceof gi){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}list(e,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vg),n),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _g="2.7.1",xg={"X-Client-Info":`storage-js/${_g}`};var tn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Eg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},xg),n),this.fetch=pl(r)}listBuckets(){return tn(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return tn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return tn(this,void 0,void 0,function*(){try{return{data:yield yg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}emptyBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}}class Sg extends Eg{constructor(e,n={},r){super(e,n,r)}from(e){return new wg(this.url,this.headers,e,this.fetch)}}const Cg="2.48.1";let qn="";typeof Deno<"u"?qn="deno":typeof document<"u"?qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qn="react-native":qn="node";const Tg={"X-Client-Info":`supabase-js-${qn}/${Cg}`},Ag={headers:Tg},kg={schema:"public"},Ig={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rg={};var Pg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Mg=t=>{let e;return t?e=t:typeof fetch>"u"?e=sl:e=fetch,(...n)=>e(...n)},Og=()=>typeof Headers>"u"?il:Headers,jg=(t,e,n)=>{const r=Mg(n),s=Og();return(i,o)=>Pg(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Ng=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function Dg(t){return t.replace(/\/$/,"")}function Lg(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>Ng(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const gl="2.67.3",$g="http://localhost:9999",Fg="supabase.auth.token",Ug={"X-Client-Info":`gotrue-js/${gl}`},_a=10,bi="X-Supabase-Api-Version",yl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Bg(t){return Math.round(Date.now()/1e3)+t}function zg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},Qn=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function Hg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const bl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ne(async()=>{const{default:r}=await Promise.resolve().then(()=>Rn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Vg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Tr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ar=async(t,e)=>{await t.removeItem(e)};function Wg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}let wl=class _l{constructor(){this.promise=new _l.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};wl.promiseConstructor=Promise;function xa(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Wg(r))}async function qg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Kg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Gg(t){return("0"+t.toString(16)).substr(-2)}function Yg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Gg).join("")}async function Qg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Jg(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Qg(t);return Jg(n)}async function nn(t,e,n=!1){const r=Yg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vl(t,`${e}-code-verifier`,s);const i=await Xg(r);return[i,r===i?"plain":"s256"]}const Zg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ey(t){const e=t.headers.get(bi);if(!e||!e.match(Zg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Xi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ty extends Xi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ny(t){return L(t)&&t.name==="AuthApiError"}class xl extends Xi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kt extends Xi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class dt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ry(t){return L(t)&&t.name==="AuthSessionMissingError"}class Ls extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kr extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ir extends Kt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sy(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ea extends Kt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vi extends Kt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $s(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Sa extends Kt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var iy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Rt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oy=[502,503,504];async function Ca(t){var e;if(!Vg(t))throw new vi(Rt(t),0);if(oy.includes(t.status))throw new vi(Rt(t),t.status);let n;try{n=await t.json()}catch(i){throw new xl(Rt(i),i)}let r;const s=ey(t);if(s&&s.getTime()>=yl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sa(Rt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sa(Rt(n),t.status,n.weak_password.reasons);throw new ty(Rt(n),t.status||500,r)}const ay=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function B(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[bi]||(i[bi]=yl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cy(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function cy(t,e,n,r,s,i){const o=ay(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new vi(Rt(c),0)}if(a.ok||await Ca(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Ca(c)}}function ft(t){var e;let n=null;fy(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Bg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ta(t){const e=ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ly(t){return{data:t,error:null}}function uy(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=iy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function dy(t){return t}function fy(t){return t.access_token&&t.refresh_token&&t.expires_in}var hy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class py{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=bl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=hy(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dy});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);l[`${b}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(L(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:mt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:mt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const my={getItem:t=>Qn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Qn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Qn()&&globalThis.localStorage.removeItem(t)}};function Aa(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function gy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rn={debug:!!(globalThis&&Qn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class El extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yy extends El{}async function by(t,e,n){rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gy();const vy={url:$g,storageKey:Fg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ug,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Wn=30*1e3,ka=3;async function Ia(t,e,n){return await n()}class nr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nr.nextInstanceID,nr.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},vy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new py({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bl(s.fetch),this.lock=s.lock||Ia,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=by:this.lock=Ia,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Qn()?this.storage=my:(this.memoryStorage={},this.storage=Aa(this.memoryStorage)):(this.memoryStorage={},this.storage=Aa(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Hg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sy(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new xl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await nn(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:ft})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new kr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ta})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ta})}else throw new kr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ls}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Tr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ft});if(await Ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ls}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ft}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ls}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await nn(this.storage,this.storageKey));const{error:f}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new kr("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nn(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ly})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new dt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new kr("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:mt})})}catch(n){if(L(n))return ry(n)&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new dt;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await nn(this.storage,this.storageKey));const{data:l,error:u}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:mt});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return xa(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=xa(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new dt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ze())throw new Ir("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ir(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ea("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ir("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ea("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new Ir("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;c&&(h=parseInt(c));const p=h-u;p*1e3<=Wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ny(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=zg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await nn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ze()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Kg(async s=>(s>0&&await qg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$s(i)&&Date.now()+o-r<Wn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Tr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+_a;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_a}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$s(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return $s(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ar(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wn}ms, refresh threshold is ${ka} ticks`),s<=ka&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof El)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await nn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}nr.nextInstanceID=0;const wy=nr;class _y extends wy{constructor(e){super(e)}}var xy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class Ey{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Dg(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:kg,realtime:Rg,auth:Object.assign(Object.assign({},Ig),{storageKey:c}),global:Ag},u=Lg(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=jg(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ym(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Lm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sg(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return xy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _y({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ug(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sy=(t,e,n)=>new Ey(t,e,n),Cy="https://czhgcnahnjyzimgtcrqx.supabase.co",Ty="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6aGdjbmFobmp5emltZ3RjcnF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU0MTMzNTksImV4cCI6MjA1MDk4OTM1OX0.M-N5P5B4njMDftt6ErPCjKs05ik4eh7goMShs551Fjw",Ae=Sy(Cy,Ty,{auth:{persistSession:!0,autoRefreshToken:!0}});async function Ay(t,e){return await Ae.from("users").update(e).eq("id",t).select().returns()}async function ky(t){return await Ae.from("users").select("*").match({id:t}).single()}async function $S(t){return await Ae.from("users").select("*").in("id",t).returns()}var Ra={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Iy=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Cl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sl(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Iy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||f==null)throw new Ry;const h=i<<2|a>>4;if(r.push(h),l!==64){const p=a<<4&240|l>>2;if(r.push(p),f!==64){const m=l<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ry extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Py=function(t){const e=Sl(t);return Cl.encodeByteArray(e,!0)},Tl=function(t){return Py(t).replace(/\./g,"")},My=function(t){try{return Cl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=()=>Oy().__FIREBASE_DEFAULTS__,Ny=()=>{if(typeof process>"u"||typeof Ra>"u")return;const t=Ra.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&My(t[1]);return e&&JSON.parse(e)},Ly=()=>{try{return jy()||Ny()||Dy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Al=()=>{var t;return(t=Ly())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function kl(){try{return typeof indexedDB=="object"}catch{return!1}}function Il(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Fy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Uy,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}}class fs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?By(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function By(t,e){return t.replace(zy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zy=/\{\$([^}]+)}/g;function wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Pa(i)&&Pa(o)){if(!wi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Pa(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return t&&t._delegate?t._delegate:t}class St{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $y;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wy(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Vy(t){return t===Pt?void 0:t}function Wy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const Ky={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Gy=J.INFO,Yy={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Qy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Yy[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=Gy,this._logHandler=Qy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ky[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const Xy=(t,e)=>e.some(n=>t instanceof n);let Ma,Oa;function Zy(){return Ma||(Ma=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Oa||(Oa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rl=new WeakMap,_i=new WeakMap,Pl=new WeakMap,Fs=new WeakMap,eo=new WeakMap;function tb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(st(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rl.set(n,t)}).catch(()=>{}),eo.set(e,t),e}function nb(t){if(_i.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});_i.set(t,e)}let xi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _i.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pl.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return st(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rb(t){xi=t(xi)}function sb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Us(this),e,...n);return Pl.set(r,e.sort?e.sort():[e]),st(r)}:eb().includes(t)?function(...e){return t.apply(Us(this),e),st(Rl.get(this))}:function(...e){return st(t.apply(Us(this),e))}}function ib(t){return typeof t=="function"?sb(t):(t instanceof IDBTransaction&&nb(t),Xy(t,Zy())?new Proxy(t,xi):t)}function st(t){if(t instanceof IDBRequest)return tb(t);if(Fs.has(t))return Fs.get(t);const e=ib(t);return e!==t&&(Fs.set(t,e),eo.set(e,t)),e}const Us=t=>eo.get(t);function hs(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=st(o);return r&&o.addEventListener("upgradeneeded",c=>{r(st(o.result),c.oldVersion,c.newVersion,st(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Bs(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),st(n).then(()=>{})}const ob=["get","getKey","getAll","getAllKeys","count"],ab=["put","add","delete","clear"],zs=new Map;function ja(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zs.get(e))return zs.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ab.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ob.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return zs.set(e,i),i}rb(t=>({...t,get:(e,n,r)=>ja(e,n)||t.get(e,n,r),has:(e,n)=>!!ja(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ei="@firebase/app",Na="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new Jy("@firebase/app"),ub="@firebase/app-compat",db="@firebase/analytics-compat",fb="@firebase/analytics",hb="@firebase/app-check-compat",pb="@firebase/app-check",mb="@firebase/auth",gb="@firebase/auth-compat",yb="@firebase/database",bb="@firebase/data-connect",vb="@firebase/database-compat",wb="@firebase/functions",_b="@firebase/functions-compat",xb="@firebase/installations",Eb="@firebase/installations-compat",Sb="@firebase/messaging",Cb="@firebase/messaging-compat",Tb="@firebase/performance",Ab="@firebase/performance-compat",kb="@firebase/remote-config",Ib="@firebase/remote-config-compat",Rb="@firebase/storage",Pb="@firebase/storage-compat",Mb="@firebase/firestore",Ob="@firebase/vertexai",jb="@firebase/firestore-compat",Nb="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]",Db={[Ei]:"fire-core",[ub]:"fire-core-compat",[fb]:"fire-analytics",[db]:"fire-analytics-compat",[pb]:"fire-app-check",[hb]:"fire-app-check-compat",[mb]:"fire-auth",[gb]:"fire-auth-compat",[yb]:"fire-rtdb",[bb]:"fire-data-connect",[vb]:"fire-rtdb-compat",[wb]:"fire-fn",[_b]:"fire-fn-compat",[xb]:"fire-iid",[Eb]:"fire-iid-compat",[Sb]:"fire-fcm",[Cb]:"fire-fcm-compat",[Tb]:"fire-perf",[Ab]:"fire-perf-compat",[kb]:"fire-rc",[Ib]:"fire-rc-compat",[Rb]:"fire-gcs",[Pb]:"fire-gcs-compat",[Mb]:"fire-fst",[jb]:"fire-fst-compat",[Ob]:"fire-vertex","fire-js":"fire-js",[Nb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Map,Lb=new Map,Ci=new Map;function Da(t,e){try{t.container.addComponent(e)}catch(n){it.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ut(t){const e=t.name;if(Ci.has(e))return it.debug(`There were multiple attempts to register component ${e}.`),!1;Ci.set(e,t);for(const n of Yr.values())Da(n,t);for(const n of Lb.values())Da(n,t);return!0}function to(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_t=new fs("app","Firebase",$b);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}function Ml(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Si,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _t.create("bad-app-name",{appName:String(s)});if(n||(n=Al()),!n)throw _t.create("no-options");const i=Yr.get(s);if(i){if(wi(n,i.options)&&wi(r,i.config))return i;throw _t.create("duplicate-app",{appName:s})}const o=new qy(s);for(const c of Ci.values())o.addComponent(c);const a=new Fb(n,r,o);return Yr.set(s,a),a}function Ub(t=Si){const e=Yr.get(t);if(!e&&t===Si&&Al())return Ml();if(!e)throw _t.create("no-app",{appName:t});return e}function xt(t,e,n){var r;let s=(r=Db[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),it.warn(a.join(" "));return}Ut(new St(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebase-heartbeat-database",zb=1,rr="firebase-heartbeat-store";let Hs=null;function Ol(){return Hs||(Hs=hs(Bb,zb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rr)}catch(n){console.warn(n)}}}}).catch(t=>{throw _t.create("idb-open",{originalErrorMessage:t.message})})),Hs}async function Hb(t){try{const n=(await Ol()).transaction(rr),r=await n.objectStore(rr).get(jl(t));return await n.done,r}catch(e){if(e instanceof Pn)it.warn(e.message);else{const n=_t.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});it.warn(n.message)}}}async function La(t,e){try{const r=(await Ol()).transaction(rr,"readwrite");await r.objectStore(rr).put(e,jl(t)),await r.done}catch(n){if(n instanceof Pn)it.warn(n.message);else{const r=_t.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});it.warn(r.message)}}}function jl(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=1024,Wb=30*24*60*60*1e3;class qb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$a();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Wb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){it.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$a(),{heartbeatsToSend:r,unsentEntries:s}=Kb(this._heartbeatsCache.heartbeats),i=Tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return it.warn(n),""}}}function $a(){return new Date().toISOString().substring(0,10)}function Kb(t,e=Vb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Fa(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fa(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kl()?Il().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return La(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return La(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fa(t){return Tl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){Ut(new St("platform-logger",e=>new cb(e),"PRIVATE")),Ut(new St("heartbeat",e=>new qb(e),"PRIVATE")),xt(Ei,Na,t),xt(Ei,Na,"esm2017"),xt("fire-js","")}Yb("");var Qb="firebase",Jb="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt(Qb,Jb,"app");const Nl="@firebase/installations",no="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=1e4,Ll=`w:${no}`,$l="FIS_v2",Xb="https://firebaseinstallations.googleapis.com/v1",Zb=60*60*1e3,ev="installations",tv="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bt=new fs(ev,tv,nv);function Fl(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul({projectId:t}){return`${Xb}/projects/${t}/installations`}function Bl(t){return{token:t.token,requestStatus:2,expiresIn:sv(t.expiresIn),creationTime:Date.now()}}async function zl(t,e){const r=(await e.json()).error;return Bt.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Hl({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rv(t,{refreshToken:e}){const n=Hl(t);return n.append("Authorization",iv(e)),n}async function Vl(t){const e=await t();return e.status>=500&&e.status<600?t():e}function sv(t){return Number(t.replace("s","000"))}function iv(t){return`${$l} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ov({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ul(t),s=Hl(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={fid:n,authVersion:$l,appId:t.appId,sdkVersion:Ll},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await Vl(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Bl(l.authToken)}}else throw await zl("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=/^[cdef][\w-]{21}$/,Ti="";function lv(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=uv(t);return cv.test(n)?n:Ti}catch{return Ti}}function uv(t){return av(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Map;function Kl(t,e){const n=ps(t);Gl(n,e),dv(n,e)}function Gl(t,e){const n=ql.get(t);if(n)for(const r of n)r(e)}function dv(t,e){const n=fv();n&&n.postMessage({key:t,fid:e}),hv()}let Ot=null;function fv(){return!Ot&&"BroadcastChannel"in self&&(Ot=new BroadcastChannel("[Firebase] FID Change"),Ot.onmessage=t=>{Gl(t.data.key,t.data.fid)}),Ot}function hv(){ql.size===0&&Ot&&(Ot.close(),Ot=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firebase-installations-database",mv=1,zt="firebase-installations-store";let Vs=null;function ro(){return Vs||(Vs=hs(pv,mv,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zt)}}})),Vs}async function Qr(t,e){const n=ps(t),s=(await ro()).transaction(zt,"readwrite"),i=s.objectStore(zt),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&Kl(t,e.fid),e}async function Yl(t){const e=ps(t),r=(await ro()).transaction(zt,"readwrite");await r.objectStore(zt).delete(e),await r.done}async function ms(t,e){const n=ps(t),s=(await ro()).transaction(zt,"readwrite"),i=s.objectStore(zt),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Kl(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){let e;const n=await ms(t.appConfig,r=>{const s=gv(r),i=yv(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ti?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gv(t){const e=t||{fid:lv(),registrationStatus:0};return Ql(e)}function yv(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Bt.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=bv(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:vv(t)}:{installationEntry:e}}async function bv(t,e){try{const n=await ov(t,e);return Qr(t.appConfig,n)}catch(n){throw Fl(n)&&n.customData.serverCode===409?await Yl(t.appConfig):await Qr(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function vv(t){let e=await Ua(t.appConfig);for(;e.registrationStatus===1;)await Wl(100),e=await Ua(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await so(t);return r||n}return e}function Ua(t){return ms(t,e=>{if(!e)throw Bt.create("installation-not-found");return Ql(e)})}function Ql(t){return wv(t)?{fid:t.fid,registrationStatus:0}:t}function wv(t){return t.registrationStatus===1&&t.registrationTime+Dl<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v({appConfig:t,heartbeatServiceProvider:e},n){const r=xv(t,n),s=rv(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={installation:{sdkVersion:Ll,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await Vl(()=>fetch(r,a));if(c.ok){const l=await c.json();return Bl(l)}else throw await zl("Generate Auth Token",c)}function xv(t,{fid:e}){return`${Ul(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t,e=!1){let n;const r=await ms(t.appConfig,i=>{if(!Jl(i))throw Bt.create("not-registered");const o=i.authToken;if(!e&&Cv(o))return i;if(o.requestStatus===1)return n=Ev(t,e),i;{if(!navigator.onLine)throw Bt.create("app-offline");const a=Av(i);return n=Sv(t,a),a}});return n?await n:r.authToken}async function Ev(t,e){let n=await Ba(t.appConfig);for(;n.authToken.requestStatus===1;)await Wl(100),n=await Ba(t.appConfig);const r=n.authToken;return r.requestStatus===0?io(t,e):r}function Ba(t){return ms(t,e=>{if(!Jl(e))throw Bt.create("not-registered");const n=e.authToken;return kv(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Sv(t,e){try{const n=await _v(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Qr(t.appConfig,r),n}catch(n){if(Fl(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Yl(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qr(t.appConfig,r)}throw n}}function Jl(t){return t!==void 0&&t.registrationStatus===2}function Cv(t){return t.requestStatus===2&&!Tv(t)}function Tv(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zb}function Av(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function kv(t){return t.requestStatus===1&&t.requestTime+Dl<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(t){const e=t,{installationEntry:n,registrationPromise:r}=await so(e);return r?r.catch(console.error):io(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(t,e=!1){const n=t;return await Pv(n),(await io(n,e)).token}async function Pv(t){const{registrationPromise:e}=await so(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){if(!t||!t.options)throw Ws("App Configuration");if(!t.name)throw Ws("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ws(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ws(t){return Bt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="installations",Ov="installations-internal",jv=t=>{const e=t.getProvider("app").getImmediate(),n=Mv(e),r=to(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Nv=t=>{const e=t.getProvider("app").getImmediate(),n=to(e,Xl).getImmediate();return{getId:()=>Iv(n),getToken:s=>Rv(n,s)}};function Dv(){Ut(new St(Xl,jv,"PUBLIC")),Ut(new St(Ov,Nv,"PRIVATE"))}Dv();xt(Nl,no);xt(Nl,no,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="/firebase-messaging-sw.js",$v="/firebase-cloud-messaging-push-scope",Zl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fv="https://fcmregistrations.googleapis.com/v1",eu="google.c.a.c_id",Uv="google.c.a.c_l",Bv="google.c.a.ts",zv="google.c.a.e",za=1e4;var Ha;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var sr;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(sr||(sr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hv(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="fcm_token_details_db",Vv=5,Va="fcm_token_object_Store";async function Wv(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(qs))return null;let e=null;return(await hs(qs,Vv,{upgrade:async(r,s,i,o)=>{var a;if(s<2||!r.objectStoreNames.contains(Va))return;const c=o.objectStore(Va),l=await c.index("fcmSenderId").get(t);if(await c.clear(),!!l){if(s===2){const u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:tt(u.vapidKey)}}}else if(s===3){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tt(u.auth),p256dh:tt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tt(u.vapidKey)}}}else if(s===4){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tt(u.auth),p256dh:tt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tt(u.vapidKey)}}}}}})).close(),await Bs(qs),await Bs("fcm_vapid_details_db"),await Bs("undefined"),qv(e)?e:null}function qv(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firebase-messaging-database",Gv=1,ir="firebase-messaging-store";let Ks=null;function tu(){return Ks||(Ks=hs(Kv,Gv,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ir)}}})),Ks}async function Yv(t){const e=nu(t),r=await(await tu()).transaction(ir).objectStore(ir).get(e);if(r)return r;{const s=await Wv(t.appConfig.senderId);if(s)return await oo(t,s),s}}async function oo(t,e){const n=nu(t),s=(await tu()).transaction(ir,"readwrite");return await s.objectStore(ir).put(e,n),await s.done,e}function nu({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ue=new fs("messaging","Messaging",Qv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(t,e){const n=await co(t),r=ru(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(ao(t.appConfig),s)).json()}catch(o){throw ue.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw ue.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw ue.create("token-subscribe-no-token");return i.token}async function Xv(t,e){const n=await co(t),r=ru(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${ao(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw ue.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw ue.create("token-update-failed",{errorInfo:o})}if(!i.token)throw ue.create("token-update-no-token");return i.token}async function Zv(t,e){const r={method:"DELETE",headers:await co(t)};try{const i=await(await fetch(`${ao(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw ue.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw ue.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function ao({projectId:t}){return`${Fv}/projects/${t}/registrations`}async function co({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ru({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==Zl&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=7*24*60*60*1e3;async function tw(t){const e=await rw(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:tt(e.getKey("auth")),p256dh:tt(e.getKey("p256dh"))},r=await Yv(t.firebaseDependencies);if(r){if(sw(r.subscriptionOptions,n))return Date.now()>=r.createTime+ew?nw(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Zv(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Wa(t.firebaseDependencies,n)}else return Wa(t.firebaseDependencies,n)}async function nw(t,e){try{const n=await Xv(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await oo(t.firebaseDependencies,r),n}catch(n){throw n}}async function Wa(t,e){const r={token:await Jv(t,e),createTime:Date.now(),subscriptionOptions:e};return await oo(t,r),r.token}async function rw(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hv(e)})}function sw(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return iw(e,t),ow(e,t),aw(e,t),e}function iw(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function ow(t,e){e.data&&(t.data=e.data)}function aw(t,e){var n,r,s,i,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(i=e.notification)===null||i===void 0?void 0:i.click_action;a&&(t.fcmOptions.link=a);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){return typeof t=="object"&&!!t&&eu in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){if(!t||!t.options)throw Gs("App Configuration Object");if(!t.name)throw Gs("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Gs(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Gs(t){return ue.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=lw(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t){try{t.swRegistration=await navigator.serviceWorker.register(Lv,{scope:$v}),t.swRegistration.update().catch(()=>{}),await fw(t.swRegistration)}catch(e){throw ue.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function fw(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${za} ms`)),za),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{var o;((o=i.target)===null||o===void 0?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t,e){if(!e&&!t.swRegistration&&await dw(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw ue.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Zl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e){if(!navigator)throw ue.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ue.create("permission-blocked");return await pw(t,e==null?void 0:e.vapidKey),await hw(t,e==null?void 0:e.serviceWorkerRegistration),tw(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t,e,n){const r=gw(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[eu],message_name:n[Uv],message_time:n[Bv],message_device_time:Math.floor(Date.now()/1e3)})}function gw(t){switch(t){case sr.NOTIFICATION_CLICKED:return"notification_open";case sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===sr.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(qa(n)):t.onMessageHandler.next(qa(n)));const r=n.data;cw(r)&&r[zv]==="1"&&await mw(t,n.messageType,r)}const Ka="@firebase/messaging",Ga="0.12.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=t=>{const e=new uw(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>yw(e,n)),e},vw=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>su(e,r)}};function ww(){Ut(new St("messaging",bw,"PUBLIC")),Ut(new St("messaging-internal",vw,"PRIVATE")),xt(Ka,Ga),xt(Ka,Ga,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(){try{await Il()}catch{return!1}return typeof window<"u"&&kl()&&Fy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e){if(!navigator)throw ue.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t=Ub()){return _w().then(e=>{if(!e)throw ue.create("unsupported-browser")},e=>{throw ue.create("indexed-db-unsupported")}),to(Zi(t),"messaging").getImmediate()}async function Sw(t,e){return t=Zi(t),su(t,e)}function Cw(t,e){return t=Zi(t),xw(t,e)}ww();const Tw={apiKey:"AIzaSyAXpWOQnAVfru7c-aUth_ythwosDhXJiRo",authDomain:"prote-ja.firebaseapp.com",projectId:"prote-ja",storageBucket:"prote-ja.firebasestorage.app",messagingSenderId:"783248319174",appId:"1:783248319174:web:a1617a492c49619c266dc7",measurementId:"G-001BPXX6L9"},Aw=Ml(Tw),iu=Ew(Aw);async function kw(){return Sw(iu,{vapidKey:"BDUYigFK-dBL_5IvQnZZ6suRSnM7IRRkCWNQLVbjVMrj9goU7N4S8qLzqBEb0xd-DJsOh0Nn_dMY2RAwrZmRfbg",serviceWorkerRegistration:await navigator.serviceWorker.register("../prote-ja-app/firebase-messaging-sw.js")})}async function Iw(t){const e=await kw();if(t.fcm_token===e)return;const n=await Ay(t.id,{fcm_token:e});return console.log("updateUserFcmToken",n),n}const ou=d.createContext({session:null,user:null,loading:!1,setUser:()=>{}}),Rw=({children:t})=>{const[e,n]=d.useState(null),[r,s]=d.useState(null),[i,o]=d.useState(!1);return d.useEffect(()=>{o(!0),Ae.auth.getSession().then(({data:{session:c}})=>{n(c)}).finally(()=>{o(!1)});const{data:{subscription:a}}=Ae.auth.onAuthStateChange(async(c,l)=>{n(l)});return()=>a.unsubscribe()},[]),d.useEffect(()=>{e&&(o(!0),ky(e.user.id).then(({data:a,error:c})=>{if(c){console.error(c);return}s(a??null),a&&Iw(a).catch(l=>{console.error(l)})}).finally(()=>{o(!1)}))},[e]),y.jsx(ou.Provider,{value:{session:e,user:r,loading:i,setUser:s},children:t})},lo=()=>d.useContext(ou);function Pw(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})}function Mw(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Ow=function(){function t(){var e=this;this.event=null,this.callbacks=[],this.install=function(){return Pw(e,void 0,void 0,function(){var n=this;return Mw(this,function(r){switch(r.label){case 0:return this.event?(this.event.prompt(),[4,this.event.userChoice.then(function(s){var i=s.outcome;return n.updateEvent(null),i==="accepted"})]):[3,2];case 1:return[2,r.sent()];case 2:throw new Error("Not allowed to prompt.")}})})},!(typeof window>"u")&&(window.addEventListener("beforeinstallprompt",function(n){n.preventDefault(),e.updateEvent(n)}),window.addEventListener("appinstalled",function(){e.updateEvent(null)}))}return t.prototype.getEvent=function(){return this.event},t.prototype.canInstall=function(){return this.event!==null},t.prototype.updateEvent=function(e){var n=this;e!==this.event&&(this.event=e,this.callbacks.forEach(function(r){return r(n.canInstall())}))},t.prototype.addListener=function(e){e(this.canInstall()),this.callbacks.push(e)},t.prototype.removeListener=function(e){this.callbacks=this.callbacks.filter(function(n){return e!==n})},t}(),Rr=new Ow,jw=function(){var t=d.useCallback(function(r){return Rr.addListener(r),function(){Rr.removeListener(r)}},[]),e=d.useCallback(function(){return Rr.canInstall()?Rr.install:null},[]),n=d.useCallback(function(){return null},[]);return d.useSyncExternalStore(t,e,n)};function $(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function US(t,e){const n=d.createContext(e),r=i=>{const{children:o,...a}=i,c=d.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=d.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Mn(t,e=[]){let n=[];function r(i,o){const a=d.createContext(o),c=n.length;n=[...n,o];const l=f=>{var v;const{scope:h,children:p,...m}=f,g=((v=h==null?void 0:h[t])==null?void 0:v[c])||a,b=d.useMemo(()=>m,Object.values(m));return y.jsx(g.Provider,{value:b,children:p})};l.displayName=i+"Provider";function u(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,m=d.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Nw(s,...e)]}function Nw(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $e(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function uo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Dw({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=$e(n),c=d.useCallback(l=>{if(i){const f=typeof l=="function"?l(t):l;f!==t&&a(f)}else s(l)},[i,t,s,a]);return[o,c]}function Dw({defaultProp:t,onChange:e}){const n=d.useState(t),[r]=n,s=d.useRef(r),i=$e(e);return d.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var fo=Cc();const Lw=Di(fo);var $w=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=$w.reduce((t,e)=>{const n=d.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?En:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function au(t,e){t&&fo.flushSync(()=>t.dispatchEvent(e))}function cu(t){const e=t+"CollectionProvider",[n,r]=Mn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,b=O.useRef(null),v=O.useRef(new Map).current;return y.jsx(s,{scope:m,itemMap:v,collectionRef:b,children:g})};o.displayName=e;const a=t+"CollectionSlot",c=O.forwardRef((p,m)=>{const{scope:g,children:b}=p,v=i(a,g),_=de(m,v.collectionRef);return y.jsx(En,{ref:_,children:b})});c.displayName=a;const l=t+"CollectionItemSlot",u="data-radix-collection-item",f=O.forwardRef((p,m)=>{const{scope:g,children:b,...v}=p,_=O.useRef(null),w=de(m,_),x=i(l,g);return O.useEffect(()=>(x.itemMap.set(_,{ref:_,...v}),()=>void x.itemMap.delete(_))),y.jsx(En,{[u]:"",ref:w,children:b})});f.displayName=l;function h(p){const m=i(t+"CollectionConsumer",p);return O.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((x,E)=>v.indexOf(x.ref.current)-v.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}var Fw=d.createContext(void 0);function lu(t){const e=d.useContext(Fw);return t||e||"ltr"}function Uw(t,e=globalThis==null?void 0:globalThis.document){const n=$e(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Bw="DismissableLayer",Ai="dismissableLayer.update",zw="dismissableLayer.pointerDownOutside",Hw="dismissableLayer.focusOutside",Ya,uu=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ho=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,l=d.useContext(uu),[u,f]=d.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),m=de(e,T=>f(T)),g=Array.from(l.layers),[b]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),_=u?g.indexOf(u):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,x=_>=v,E=qw(T=>{const C=T.target,A=[...l.branches].some(R=>R.contains(C));!x||A||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),k=Kw(T=>{const C=T.target;[...l.branches].some(R=>R.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return Uw(T=>{_===l.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),d.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Ya=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Qa(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ya)}},[u,h,n,l]),d.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Qa())},[u,l]),d.useEffect(()=>{const T=()=>p({});return document.addEventListener(Ai,T),()=>document.removeEventListener(Ai,T)},[]),y.jsx(ae.div,{...c,ref:m,style:{pointerEvents:w?x?"auto":"none":void 0,...t.style},onFocusCapture:$(t.onFocusCapture,k.onFocusCapture),onBlurCapture:$(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:$(t.onPointerDownCapture,E.onPointerDownCapture)})});ho.displayName=Bw;var Vw="DismissableLayerBranch",Ww=d.forwardRef((t,e)=>{const n=d.useContext(uu),r=d.useRef(null),s=de(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.jsx(ae.div,{...t,ref:s})});Ww.displayName=Vw;function qw(t,e=globalThis==null?void 0:globalThis.document){const n=$e(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){du(zw,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Kw(t,e=globalThis==null?void 0:globalThis.document){const n=$e(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&du(Hw,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qa(){const t=new CustomEvent(Ai);document.dispatchEvent(t)}function du(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?au(s,i):s.dispatchEvent(i)}var Ys=0;function Gw(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ja()),document.body.insertAdjacentElement("beforeend",t[1]??Ja()),Ys++,()=>{Ys===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ys--}},[])}function Ja(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qs="focusScope.autoFocusOnMount",Js="focusScope.autoFocusOnUnmount",Xa={bubbles:!1,cancelable:!0},Yw="FocusScope",fu=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=d.useState(null),l=$e(s),u=$e(i),f=d.useRef(null),h=de(e,g=>c(g)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let g=function(w){if(p.paused||!a)return;const x=w.target;a.contains(x)?f.current=x:ht(f.current,{select:!0})},b=function(w){if(p.paused||!a)return;const x=w.relatedTarget;x!==null&&(a.contains(x)||ht(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&ht(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),_.disconnect()}}},[r,a,p.paused]),d.useEffect(()=>{if(a){ec.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Qs,Xa);a.addEventListener(Qs,l),a.dispatchEvent(v),v.defaultPrevented||(Qw(t_(hu(a)),{select:!0}),document.activeElement===g&&ht(a))}return()=>{a.removeEventListener(Qs,l),setTimeout(()=>{const v=new CustomEvent(Js,Xa);a.addEventListener(Js,u),a.dispatchEvent(v),v.defaultPrevented||ht(g??document.body,{select:!0}),a.removeEventListener(Js,u),ec.remove(p)},0)}}},[a,l,u,p]);const m=d.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const _=g.currentTarget,[w,x]=Jw(_);w&&x?!g.shiftKey&&v===x?(g.preventDefault(),n&&ht(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&ht(x,{select:!0})):v===_&&g.preventDefault()}},[n,r,p.paused]);return y.jsx(ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});fu.displayName=Yw;function Qw(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ht(r,{select:e}),document.activeElement!==n)return}function Jw(t){const e=hu(t),n=Za(e,t),r=Za(e.reverse(),t);return[n,r]}function hu(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Za(t,e){for(const n of t)if(!Xw(n,{upTo:e}))return n}function Xw(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Zw(t){return t instanceof HTMLInputElement&&"select"in t}function ht(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Zw(t)&&e&&t.select()}}var ec=e_();function e_(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tc(t,e),t.unshift(e)},remove(e){var n;t=tc(t,e),(n=t[0])==null||n.resume()}}}function tc(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function t_(t){return t.filter(e=>e.tagName!=="A")}var Ht=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},n_=vf.useId||(()=>{}),r_=0;function Jr(t){const[e,n]=d.useState(n_());return Ht(()=>{n(r=>r??String(r_++))},[t]),e?`radix-${e}`:""}const s_=["top","right","bottom","left"],Ct=Math.min,Ee=Math.max,Xr=Math.round,Pr=Math.floor,Ye=t=>({x:t,y:t}),i_={left:"right",right:"left",bottom:"top",top:"bottom"},o_={start:"end",end:"start"};function ki(t,e,n){return Ee(t,Ct(e,n))}function ot(t,e){return typeof t=="function"?t(e):t}function at(t){return t.split("-")[0]}function On(t){return t.split("-")[1]}function po(t){return t==="x"?"y":"x"}function mo(t){return t==="y"?"height":"width"}function Tt(t){return["top","bottom"].includes(at(t))?"y":"x"}function go(t){return po(Tt(t))}function a_(t,e,n){n===void 0&&(n=!1);const r=On(t),s=go(t),i=mo(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Zr(o)),[o,Zr(o)]}function c_(t){const e=Zr(t);return[Ii(t),e,Ii(e)]}function Ii(t){return t.replace(/start|end/g,e=>o_[e])}function l_(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function u_(t,e,n,r){const s=On(t);let i=l_(at(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ii)))),i}function Zr(t){return t.replace(/left|right|bottom|top/g,e=>i_[e])}function d_(t){return{top:0,right:0,bottom:0,left:0,...t}}function pu(t){return typeof t!="number"?d_(t):{top:t,right:t,bottom:t,left:t}}function es(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function nc(t,e,n){let{reference:r,floating:s}=t;const i=Tt(e),o=go(e),a=mo(o),c=at(e),l=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(On(e)){case"start":p[o]-=h*(n&&l?-1:1);break;case"end":p[o]+=h*(n&&l?-1:1);break}return p}const f_=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=nc(l,r,c),h=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:_,y:w,data:x,reset:E}=await v({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});u=_??u,f=w??f,p={...p,[b]:{...p[b],...x}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(l=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:u,y:f}=nc(l,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:p}};async function or(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ot(e,t),m=pu(p),b=a[h?f==="floating"?"reference":"floating":f],v=es(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=es(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:c}):_);return{top:(v.top-E.top+m.top)/x.y,bottom:(E.bottom-v.bottom+m.bottom)/x.y,left:(v.left-E.left+m.left)/x.x,right:(E.right-v.right+m.right)/x.x}}const h_=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=ot(t,e)||{};if(l==null)return{};const f=pu(u),h={x:n,y:r},p=go(s),m=mo(p),g=await o.getDimensions(l),b=p==="y",v=b?"top":"left",_=b?"bottom":"right",w=b?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[p]-h[p]-i.floating[m],E=h[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=k?k[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=a.floating[w]||i.floating[m]);const C=x/2-E/2,A=T/2-g[m]/2-1,R=Ct(f[v],A),U=Ct(f[_],A),P=R,z=T-g[m]-U,D=T/2-g[m]/2+C,G=ki(P,D,z),F=!c.arrow&&On(s)!=null&&D!==G&&i.reference[m]/2-(D<P?R:U)-g[m]/2<0,H=F?D<P?D-P:D-z:0;return{[p]:h[p]+H,data:{[p]:G,centerOffset:D-G-H,...F&&{alignmentOffset:H}},reset:F}}}),p_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=ot(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=at(s),_=Tt(a),w=at(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(l.floating)),E=h||(w||!g?[Zr(a)]:c_(a)),k=m!=="none";!h&&k&&E.push(...u_(a,g,m,x));const T=[a,...E],C=await or(e,b),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(C[v]),f){const D=a_(s,o,x);A.push(C[D[0]],C[D[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(D=>D<=0)){var U,P;const D=(((U=i.flip)==null?void 0:U.index)||0)+1,G=T[D];if(G)return{data:{index:D,overflows:R},reset:{placement:G}};let F=(P=R.filter(H=>H.overflows[0]<=0).sort((H,M)=>H.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(p){case"bestFit":{var z;const H=(z=R.filter(M=>{if(k){const I=Tt(M.placement);return I===_||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:z[0];H&&(F=H);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function rc(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sc(t){return s_.some(e=>t[e]>=0)}const m_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ot(t,e);switch(r){case"referenceHidden":{const i=await or(e,{...s,elementContext:"reference"}),o=rc(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sc(o)}}}case"escaped":{const i=await or(e,{...s,altBoundary:!0}),o=rc(i,n.floating);return{data:{escapedOffsets:o,escaped:sc(o)}}}default:return{}}}}};async function g_(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=at(n),a=On(n),c=Tt(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=ot(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}const y_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await g_(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},b_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:_}=b;return{x:v,y:_}}},...c}=ot(t,e),l={x:n,y:r},u=await or(e,c),f=Tt(at(s)),h=po(f);let p=l[h],m=l[f];if(i){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=p+u[b],w=p-u[v];p=ki(_,p,w)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=m+u[b],w=m-u[v];m=ki(_,m,w)}const g=a.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},v_=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ot(t,e),u={x:n,y:r},f=Tt(s),h=po(f);let p=u[h],m=u[f];const g=ot(a,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",x=i.reference[h]-i.floating[w]+b.mainAxis,E=i.reference[h]+i.reference[w]-b.mainAxis;p<x?p=x:p>E&&(p=E)}if(l){var v,_;const w=h==="y"?"width":"height",x=["top","left"].includes(at(s)),E=i.reference[f]-i.floating[w]+(x&&((v=o.offset)==null?void 0:v[f])||0)+(x?0:b.crossAxis),k=i.reference[f]+i.reference[w]+(x?0:((_=o.offset)==null?void 0:_[f])||0)-(x?b.crossAxis:0);m<E?m=E:m>k&&(m=k)}return{[h]:p,[f]:m}}}},w_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=ot(t,e),u=await or(e,l),f=at(s),h=On(s),p=Tt(s)==="y",{width:m,height:g}=i.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,b=h==="end"?"top":"bottom");const _=g-u.top-u.bottom,w=m-u.left-u.right,x=Ct(g-u[b],_),E=Ct(m-u[v],w),k=!e.middlewareData.shift;let T=x,C=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=_),k&&!h){const R=Ee(u.left,0),U=Ee(u.right,0),P=Ee(u.top,0),z=Ee(u.bottom,0);p?C=m-2*(R!==0||U!==0?R+U:Ee(u.left,u.right)):T=g-2*(P!==0||z!==0?P+z:Ee(u.top,u.bottom))}await c({...e,availableWidth:C,availableHeight:T});const A=await o.getDimensions(a.floating);return m!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function gs(){return typeof window<"u"}function jn(t){return mu(t)?(t.nodeName||"").toLowerCase():"#document"}function Ce(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Je(t){var e;return(e=(mu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mu(t){return gs()?t instanceof Node||t instanceof Ce(t).Node:!1}function Fe(t){return gs()?t instanceof Element||t instanceof Ce(t).Element:!1}function Qe(t){return gs()?t instanceof HTMLElement||t instanceof Ce(t).HTMLElement:!1}function ic(t){return!gs()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ce(t).ShadowRoot}function mr(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ue(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function __(t){return["table","td","th"].includes(jn(t))}function ys(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function yo(t){const e=bo(),n=Fe(t)?Ue(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function x_(t){let e=At(t);for(;Qe(e)&&!Cn(e);){if(yo(e))return e;if(ys(e))return null;e=At(e)}return null}function bo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cn(t){return["html","body","#document"].includes(jn(t))}function Ue(t){return Ce(t).getComputedStyle(t)}function bs(t){return Fe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function At(t){if(jn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ic(t)&&t.host||Je(t);return ic(e)?e.host:e}function gu(t){const e=At(t);return Cn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qe(e)&&mr(e)?e:gu(e)}function ar(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=gu(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ce(s);if(i){const a=Ri(o);return e.concat(o,o.visualViewport||[],mr(s)?s:[],a&&n?ar(a):[])}return e.concat(s,ar(s,[],n))}function Ri(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yu(t){const e=Ue(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qe(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Xr(n)!==i||Xr(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function vo(t){return Fe(t)?t:t.contextElement}function fn(t){const e=vo(t);if(!Qe(e))return Ye(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=yu(e);let o=(i?Xr(n.width):n.width)/r,a=(i?Xr(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const E_=Ye(0);function bu(t){const e=Ce(t);return!bo()||!e.visualViewport?E_:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S_(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ce(t)?!1:e}function Vt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=vo(t);let o=Ye(1);e&&(r?Fe(r)&&(o=fn(r)):o=fn(t));const a=S_(i,n,r)?bu(i):Ye(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const h=Ce(i),p=r&&Fe(r)?Ce(r):r;let m=h,g=Ri(m);for(;g&&r&&p!==m;){const b=fn(g),v=g.getBoundingClientRect(),_=Ue(g),w=v.left+(g.clientLeft+parseFloat(_.paddingLeft))*b.x,x=v.top+(g.clientTop+parseFloat(_.paddingTop))*b.y;c*=b.x,l*=b.y,u*=b.x,f*=b.y,c+=w,l+=x,m=Ce(g),g=Ri(m)}}return es({width:u,height:f,x:c,y:l})}function wo(t,e){const n=bs(t).scrollLeft;return e?e.left+n:Vt(Je(t)).left+n}function vu(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:wo(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function C_(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Je(r),a=e?ys(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Ye(1);const u=Ye(0),f=Qe(r);if((f||!f&&!i)&&((jn(r)!=="body"||mr(o))&&(c=bs(r)),Qe(r))){const p=Vt(r);l=fn(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!f&&!i?vu(o,c,!0):Ye(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function T_(t){return Array.from(t.getClientRects())}function A_(t){const e=Je(t),n=bs(t),r=t.ownerDocument.body,s=Ee(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ee(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wo(t);const a=-n.scrollTop;return Ue(r).direction==="rtl"&&(o+=Ee(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function k_(t,e){const n=Ce(t),r=Je(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=bo();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function I_(t,e){const n=Vt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qe(t)?fn(t):Ye(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function oc(t,e,n){let r;if(e==="viewport")r=k_(t,n);else if(e==="document")r=A_(Je(t));else if(Fe(e))r=I_(e,n);else{const s=bu(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return es(r)}function wu(t,e){const n=At(t);return n===e||!Fe(n)||Cn(n)?!1:Ue(n).position==="fixed"||wu(n,e)}function R_(t,e){const n=e.get(t);if(n)return n;let r=ar(t,[],!1).filter(a=>Fe(a)&&jn(a)!=="body"),s=null;const i=Ue(t).position==="fixed";let o=i?At(t):t;for(;Fe(o)&&!Cn(o);){const a=Ue(o),c=yo(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||mr(o)&&!c&&wu(t,o))?r=r.filter(u=>u!==o):s=a,o=At(o)}return e.set(t,r),r}function P_(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ys(e)?[]:R_(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=oc(e,u,s);return l.top=Ee(f.top,l.top),l.right=Ct(f.right,l.right),l.bottom=Ct(f.bottom,l.bottom),l.left=Ee(f.left,l.left),l},oc(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function M_(t){const{width:e,height:n}=yu(t);return{width:e,height:n}}function O_(t,e,n){const r=Qe(e),s=Je(e),i=n==="fixed",o=Vt(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Ye(0);if(r||!r&&!i)if((jn(e)!=="body"||mr(s))&&(a=bs(e)),r){const h=Vt(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=wo(s));const l=s&&!r&&!i?vu(s,a):Ye(0),u=o.left+a.scrollLeft-c.x-l.x,f=o.top+a.scrollTop-c.y-l.y;return{x:u,y:f,width:o.width,height:o.height}}function Xs(t){return Ue(t).position==="static"}function ac(t,e){if(!Qe(t)||Ue(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Je(t)===n&&(n=n.ownerDocument.body),n}function _u(t,e){const n=Ce(t);if(ys(t))return n;if(!Qe(t)){let s=At(t);for(;s&&!Cn(s);){if(Fe(s)&&!Xs(s))return s;s=At(s)}return n}let r=ac(t,e);for(;r&&__(r)&&Xs(r);)r=ac(r,e);return r&&Cn(r)&&Xs(r)&&!yo(r)?n:r||x_(t)||n}const j_=async function(t){const e=this.getOffsetParent||_u,n=this.getDimensions,r=await n(t.floating);return{reference:O_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function N_(t){return Ue(t).direction==="rtl"}const D_={convertOffsetParentRelativeRectToViewportRelativeRect:C_,getDocumentElement:Je,getClippingRect:P_,getOffsetParent:_u,getElementRects:j_,getClientRects:T_,getDimensions:M_,getScale:fn,isElement:Fe,isRTL:N_};function xu(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function L_(t,e){let n=null,r;const s=Je(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=l;if(a||e(),!h||!p)return;const m=Pr(f),g=Pr(s.clientWidth-(u+h)),b=Pr(s.clientHeight-(f+p)),v=Pr(u),w={rootMargin:-m+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Ee(0,Ct(1,c))||1};let x=!0;function E(k){const T=k[0].intersectionRatio;if(T!==c){if(!x)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!xu(l,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(t)}return o(!0),i}function $_(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=vo(t),u=s||i?[...l?ar(l):[],...ar(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=l&&a?L_(l,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let m,g=c?Vt(t):null;c&&b();function b(){const v=Vt(t);g&&!xu(g,v)&&n(),g=v,m=requestAnimationFrame(b)}return n(),()=>{var v;u.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const F_=y_,U_=b_,B_=p_,z_=w_,H_=m_,cc=h_,V_=v_,W_=(t,e,n)=>{const r=new Map,s={platform:D_,...n},i={...s.platform,_c:r};return f_(t,e,{...s,platform:i})};var Br=typeof document<"u"?d.useLayoutEffect:d.useEffect;function ts(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ts(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ts(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Eu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lc(t,e){const n=Eu(t);return Math.round(e*n)/n}function Zs(t){const e=d.useRef(t);return Br(()=>{e.current=t}),e}function q_(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,f]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=d.useState(r);ts(h,r)||p(r);const[m,g]=d.useState(null),[b,v]=d.useState(null),_=d.useCallback(M=>{M!==k.current&&(k.current=M,g(M))},[]),w=d.useCallback(M=>{M!==T.current&&(T.current=M,v(M))},[]),x=i||m,E=o||b,k=d.useRef(null),T=d.useRef(null),C=d.useRef(u),A=c!=null,R=Zs(c),U=Zs(s),P=Zs(l),z=d.useCallback(()=>{if(!k.current||!T.current)return;const M={placement:e,strategy:n,middleware:h};U.current&&(M.platform=U.current),W_(k.current,T.current,M).then(I=>{const V={...I,isPositioned:P.current!==!1};D.current&&!ts(C.current,V)&&(C.current=V,fo.flushSync(()=>{f(V)}))})},[h,e,n,U,P]);Br(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[l]);const D=d.useRef(!1);Br(()=>(D.current=!0,()=>{D.current=!1}),[]),Br(()=>{if(x&&(k.current=x),E&&(T.current=E),x&&E){if(R.current)return R.current(x,E,z);z()}},[x,E,z,R,A]);const G=d.useMemo(()=>({reference:k,floating:T,setReference:_,setFloating:w}),[_,w]),F=d.useMemo(()=>({reference:x,floating:E}),[x,E]),H=d.useMemo(()=>{const M={position:n,left:0,top:0};if(!F.floating)return M;const I=lc(F.floating,u.x),V=lc(F.floating,u.y);return a?{...M,transform:"translate("+I+"px, "+V+"px)",...Eu(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:V}},[n,a,F.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:z,refs:G,elements:F,floatingStyles:H}),[u,z,G,F,H])}const K_=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cc({element:r.current,padding:s}).fn(n):{}:r?cc({element:r,padding:s}).fn(n):{}}}},G_=(t,e)=>({...F_(t),options:[t,e]}),Y_=(t,e)=>({...U_(t),options:[t,e]}),Q_=(t,e)=>({...V_(t),options:[t,e]}),J_=(t,e)=>({...B_(t),options:[t,e]}),X_=(t,e)=>({...z_(t),options:[t,e]}),Z_=(t,e)=>({...H_(t),options:[t,e]}),ex=(t,e)=>({...K_(t),options:[t,e]});var tx="Arrow",Su=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return y.jsx(ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});Su.displayName=tx;var nx=Su;function rx(t){const[e,n]=d.useState(void 0);return Ht(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _o="Popper",[Cu,vs]=Mn(_o),[sx,Tu]=Cu(_o),Au=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return y.jsx(sx,{scope:e,anchor:r,onAnchorChange:s,children:n})};Au.displayName=_o;var ku="PopperAnchor",Iu=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Tu(ku,n),o=d.useRef(null),a=de(e,o);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.jsx(ae.div,{...s,ref:a})});Iu.displayName=ku;var xo="PopperContent",[ix,ox]=Cu(xo),Ru=d.forwardRef((t,e)=>{var me,kt,ke,Dn,Oo,jo;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,b=Tu(xo,n),[v,_]=d.useState(null),w=de(e,Ln=>_(Ln)),[x,E]=d.useState(null),k=rx(x),T=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(l)?l:[l],P=U.length>0,z={padding:R,boundary:U.filter(cx),altBoundary:P},{refs:D,floatingStyles:G,placement:F,isPositioned:H,middlewareData:M}=q_({strategy:"fixed",placement:A,whileElementsMounted:(...Ln)=>$_(...Ln,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[G_({mainAxis:s+C,alignmentAxis:o}),c&&Y_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Q_():void 0,...z}),c&&J_({...z}),X_({...z,apply:({elements:Ln,rects:No,availableWidth:lf,availableHeight:uf})=>{const{width:df,height:ff}=No.reference,br=Ln.floating.style;br.setProperty("--radix-popper-available-width",`${lf}px`),br.setProperty("--radix-popper-available-height",`${uf}px`),br.setProperty("--radix-popper-anchor-width",`${df}px`),br.setProperty("--radix-popper-anchor-height",`${ff}px`)}}),x&&ex({element:x,padding:a}),lx({arrowWidth:T,arrowHeight:C}),h&&Z_({strategy:"referenceHidden",...z})]}),[I,V]=Ou(F),W=$e(m);Ht(()=>{H&&(W==null||W())},[H,W]);const ee=(me=M.arrow)==null?void 0:me.x,re=(kt=M.arrow)==null?void 0:kt.y,oe=((ke=M.arrow)==null?void 0:ke.centerOffset)!==0,[he,pe]=d.useState();return Ht(()=>{v&&pe(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Dn=M.transformOrigin)==null?void 0:Dn.x,(Oo=M.transformOrigin)==null?void 0:Oo.y].join(" "),...((jo=M.hide)==null?void 0:jo.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(ix,{scope:n,placedSide:I,onArrowChange:E,arrowX:ee,arrowY:re,shouldHideArrow:oe,children:y.jsx(ae.div,{"data-side":I,"data-align":V,...g,ref:w,style:{...g.style,animation:H?void 0:"none"}})})})});Ru.displayName=xo;var Pu="PopperArrow",ax={top:"bottom",right:"left",bottom:"top",left:"right"},Mu=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=ox(Pu,r),o=ax[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(nx,{...s,ref:n,style:{...s.style,display:"block"}})})});Mu.displayName=Pu;function cx(t){return t!==null}var lx=t=>({name:"transformOrigin",options:t,fn(e){var b,v,_;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=Ou(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((_=s.arrow)==null?void 0:_.y)??0)+c/2;let m="",g="";return l==="bottom"?(m=o?f:`${h}px`,g=`${-c}px`):l==="top"?(m=o?f:`${h}px`,g=`${r.floating.height+c}px`):l==="right"?(m=`${-c}px`,g=o?f:`${p}px`):l==="left"&&(m=`${r.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function Ou(t){const[e,n="center"]=t.split("-");return[e,n]}var ju=Au,Nu=Iu,Du=Ru,Lu=Mu,ux="Portal",$u=d.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=d.useState(!1);Ht(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Lw.createPortal(y.jsx(ae.div,{...r,ref:e}),o):null});$u.displayName=ux;function dx(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var Nn=t=>{const{present:e,children:n}=t,r=fx(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=de(r.ref,hx(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};Nn.displayName="Presence";function fx(t){const[e,n]=d.useState(),r=d.useRef({}),s=d.useRef(t),i=d.useRef("none"),o=t?"mounted":"unmounted",[a,c]=dx(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=Mr(r.current);i.current=a==="mounted"?l:"none"},[a]),Ht(()=>{const l=r.current,u=s.current;if(u!==t){const h=i.current,p=Mr(l);t?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ht(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,f=p=>{const g=Mr(r.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=p=>{p.target===e&&(i.current=Mr(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Mr(t){return(t==null?void 0:t.animationName)||"none"}function hx(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ei="rovingFocusGroup.onEntryFocus",px={bubbles:!1,cancelable:!0},ws="RovingFocusGroup",[Pi,Fu,mx]=cu(ws),[gx,Uu]=Mn(ws,[mx]),[yx,bx]=gx(ws),Bu=d.forwardRef((t,e)=>y.jsx(Pi.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(Pi.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(vx,{...t,ref:e})})}));Bu.displayName=ws;var vx=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=t,h=d.useRef(null),p=de(e,h),m=lu(i),[g=null,b]=uo({prop:o,defaultProp:a,onChange:c}),[v,_]=d.useState(!1),w=$e(l),x=Fu(n),E=d.useRef(!1),[k,T]=d.useState(0);return d.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(ei,w),()=>C.removeEventListener(ei,w)},[w]),y.jsx(yx,{scope:n,orientation:r,dir:m,loop:s,currentTabStopId:g,onItemFocus:d.useCallback(C=>b(C),[b]),onItemShiftTab:d.useCallback(()=>_(!0),[]),onFocusableItemAdd:d.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:d.useCallback(()=>T(C=>C-1),[]),children:y.jsx(ae.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:$(t.onMouseDown,()=>{E.current=!0}),onFocus:$(t.onFocus,C=>{const A=!E.current;if(C.target===C.currentTarget&&A&&!v){const R=new CustomEvent(ei,px);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const U=x().filter(F=>F.focusable),P=U.find(F=>F.active),z=U.find(F=>F.id===g),G=[P,z,...U].filter(Boolean).map(F=>F.ref.current);Vu(G,u)}}E.current=!1}),onBlur:$(t.onBlur,()=>_(!1))})})}),zu="RovingFocusGroupItem",Hu=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Jr(),c=i||a,l=bx(zu,n),u=l.currentTabStopId===c,f=Fu(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=l;return d.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),y.jsx(Pi.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:y.jsx(ae.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...o,ref:e,onMouseDown:$(t.onMouseDown,m=>{r?l.onItemFocus(c):m.preventDefault()}),onFocus:$(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:$(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=xx(m,l.orientation,l.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=f().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const _=v.indexOf(m.currentTarget);v=l.loop?Ex(v,_+1):v.slice(_+1)}setTimeout(()=>Vu(v))}})})})});Hu.displayName=zu;var wx={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _x(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xx(t,e,n){const r=_x(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wx[r]}function Vu(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ex(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Sx=Bu,Cx=Hu,Tx=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sn=new WeakMap,Or=new WeakMap,jr={},ti=0,Wu=function(t){return t&&(t.host||Wu(t.parentNode))},Ax=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Wu(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},kx=function(t,e,n,r){var s=Ax(e,Array.isArray(t)?t:[t]);jr[n]||(jr[n]=new WeakMap);var i=jr[n],o=[],a=new Set,c=new Set(s),l=function(f){!f||a.has(f)||(a.add(f),l(f.parentNode))};s.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(sn.get(h)||0)+1,b=(i.get(h)||0)+1;sn.set(h,g),i.set(h,b),o.push(h),g===1&&m&&Or.set(h,!0),b===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),a.clear(),ti++,function(){o.forEach(function(f){var h=sn.get(f)-1,p=i.get(f)-1;sn.set(f,h),i.set(f,p),h||(Or.has(f)||f.removeAttribute(r),Or.delete(f)),p||f.removeAttribute(n)}),ti--,ti||(sn=new WeakMap,sn=new WeakMap,Or=new WeakMap,jr={})}},Ix=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Tx(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),kx(r,s,n,"aria-hidden")):function(){return null}},Ke=function(){return Ke=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ke.apply(this,arguments)};function qu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Rx(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zr="right-scroll-bar-position",Hr="width-before-scroll-bar",Px="with-scroll-bars-hidden",Mx="--removed-body-scroll-bar-size";function ni(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ox(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var jx=typeof window<"u"?d.useLayoutEffect:d.useEffect,uc=new WeakMap;function Nx(t,e){var n=Ox(null,function(r){return t.forEach(function(s){return ni(s,r)})});return jx(function(){var r=uc.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ni(a,null)}),i.forEach(function(a){s.has(a)||ni(a,o)})}uc.set(n,t)},[t]),n}function Dx(t){return t}function Lx(t,e){e===void 0&&(e=Dx);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function $x(t){t===void 0&&(t={});var e=Lx(null);return e.options=Ke({async:!0,ssr:!1},t),e}var Ku=function(t){var e=t.sideCar,n=qu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ke({},n))};Ku.isSideCarExport=!0;function Fx(t,e){return t.useMedium(e),Ku}var Gu=$x(),ri=function(){},_s=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:ri,onWheelCapture:ri,onTouchMoveCapture:ri}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,_=t.gapMode,w=qu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,E=Nx([n,e]),k=Ke(Ke({},w),s);return d.createElement(d.Fragment,null,u&&d.createElement(x,{sideCar:Gu,removeScrollBar:l,shards:f,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?d.cloneElement(d.Children.only(a),Ke(Ke({},k),{ref:E})):d.createElement(v,Ke({},k,{className:c,ref:E}),a))});_s.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_s.classNames={fullWidth:Hr,zeroRight:zr};var Ux=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bx(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ux();return e&&t.setAttribute("nonce",e),t}function zx(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Hx(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Vx=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Bx())&&(zx(e,n),Hx(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Wx=function(){var t=Vx();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Yu=function(){var t=Wx(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},qx={left:0,top:0,right:0,gap:0},si=function(t){return parseInt(t||"",10)||0},Kx=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[si(n),si(r),si(s)]},Gx=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qx;var e=Kx(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Yx=Yu(),hn="data-scroll-locked",Qx=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Px,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(hn,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zr,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hr,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zr," .").concat(zr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hr," .").concat(Hr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hn,`] {
    `).concat(Mx,": ").concat(a,`px;
  }
`)},dc=function(){var t=parseInt(document.body.getAttribute(hn)||"0",10);return isFinite(t)?t:0},Jx=function(){d.useEffect(function(){return document.body.setAttribute(hn,(dc()+1).toString()),function(){var t=dc()-1;t<=0?document.body.removeAttribute(hn):document.body.setAttribute(hn,t.toString())}},[])},Xx=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Jx();var i=d.useMemo(function(){return Gx(s)},[s]);return d.createElement(Yx,{styles:Qx(i,!e,s,n?"":"!important")})},Mi=!1;if(typeof window<"u")try{var Nr=Object.defineProperty({},"passive",{get:function(){return Mi=!0,!0}});window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Mi=!1}var on=Mi?{passive:!1}:!1,Zx=function(t){return t.tagName==="TEXTAREA"},Qu=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zx(t)&&n[e]==="visible")},eE=function(t){return Qu(t,"overflowY")},tE=function(t){return Qu(t,"overflowX")},fc=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ju(t,r);if(s){var i=Xu(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nE=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rE=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ju=function(t,e){return t==="v"?eE(e):tE(e)},Xu=function(t,e){return t==="v"?nE(e):rE(e)},sE=function(t,e){return t==="h"&&e==="rtl"?-1:1},iE=function(t,e,n,r,s){var i=sE(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),l=!1,u=o>0,f=0,h=0;do{var p=Xu(t,a),m=p[0],g=p[1],b=p[2],v=g-b-i*m;(m||v)&&Ju(t,a)&&(f+=v,h+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(l=!0),l},Dr=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hc=function(t){return[t.deltaX,t.deltaY]},pc=function(t){return t&&"current"in t?t.current:t},oE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},cE=0,an=[];function lE(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(cE++)[0],i=d.useState(Yu)[0],o=d.useRef(t);d.useEffect(function(){o.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Rx([t.lockRef.current],(t.shards||[]).map(pc),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=d.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Dr(g),_=n.current,w="deltaX"in g?g.deltaX:_[0]-v[0],x="deltaY"in g?g.deltaY:_[1]-v[1],E,k=g.target,T=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in g&&T==="h"&&k.type==="range")return!1;var C=fc(T,k);if(!C)return!0;if(C?E=T:(E=T==="v"?"h":"v",C=fc(T,k)),!C)return!1;if(!r.current&&"changedTouches"in g&&(w||x)&&(r.current=E),!E)return!0;var A=r.current||E;return iE(A,b,g,A==="h"?w:x)},[]),c=d.useCallback(function(g){var b=g;if(!(!an.length||an[an.length-1]!==i)){var v="deltaY"in b?hc(b):Dr(b),_=e.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&oE(E.delta,v)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(pc).filter(Boolean).filter(function(E){return E.contains(b.target)}),x=w.length>0?a(b,w[0]):!o.current.noIsolation;x&&b.cancelable&&b.preventDefault()}}},[]),l=d.useCallback(function(g,b,v,_){var w={name:g,delta:b,target:v,should:_,shadowParent:uE(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(x){return x!==w})},1)},[]),u=d.useCallback(function(g){n.current=Dr(g),r.current=void 0},[]),f=d.useCallback(function(g){l(g.type,hc(g),g.target,a(g,t.lockRef.current))},[]),h=d.useCallback(function(g){l(g.type,Dr(g),g.target,a(g,t.lockRef.current))},[]);d.useEffect(function(){return an.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,on),document.addEventListener("touchmove",c,on),document.addEventListener("touchstart",u,on),function(){an=an.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,on),document.removeEventListener("touchmove",c,on),document.removeEventListener("touchstart",u,on)}},[]);var p=t.removeScrollBar,m=t.inert;return d.createElement(d.Fragment,null,m?d.createElement(i,{styles:aE(s)}):null,p?d.createElement(Xx,{gapMode:t.gapMode}):null)}function uE(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dE=Fx(Gu,lE);var Zu=d.forwardRef(function(t,e){return d.createElement(_s,Ke({},t,{ref:e,sideCar:dE}))});Zu.classNames=_s.classNames;var Oi=["Enter"," "],fE=["ArrowDown","PageUp","Home"],ed=["ArrowUp","PageDown","End"],hE=[...fE,...ed],pE={ltr:[...Oi,"ArrowRight"],rtl:[...Oi,"ArrowLeft"]},mE={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gr="Menu",[cr,gE,yE]=cu(gr),[Gt,td]=Mn(gr,[yE,vs,Uu]),xs=vs(),nd=Uu(),[bE,Yt]=Gt(gr),[vE,yr]=Gt(gr),rd=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=xs(e),[c,l]=d.useState(null),u=d.useRef(!1),f=$e(i),h=lu(s);return d.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),y.jsx(ju,{...a,children:y.jsx(bE,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:l,children:y.jsx(vE,{scope:e,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};rd.displayName=gr;var wE="MenuAnchor",Eo=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=xs(n);return y.jsx(Nu,{...s,...r,ref:e})});Eo.displayName=wE;var So="MenuPortal",[_E,sd]=Gt(So,{forceMount:void 0}),id=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Yt(So,e);return y.jsx(_E,{scope:e,forceMount:n,children:y.jsx(Nn,{present:n||i.open,children:y.jsx($u,{asChild:!0,container:s,children:r})})})};id.displayName=So;var Re="MenuContent",[xE,Co]=Gt(Re),od=d.forwardRef((t,e)=>{const n=sd(Re,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Yt(Re,t.__scopeMenu),o=yr(Re,t.__scopeMenu);return y.jsx(cr.Provider,{scope:t.__scopeMenu,children:y.jsx(Nn,{present:r||i.open,children:y.jsx(cr.Slot,{scope:t.__scopeMenu,children:o.modal?y.jsx(EE,{...s,ref:e}):y.jsx(SE,{...s,ref:e})})})})}),EE=d.forwardRef((t,e)=>{const n=Yt(Re,t.__scopeMenu),r=d.useRef(null),s=de(e,r);return d.useEffect(()=>{const i=r.current;if(i)return Ix(i)},[]),y.jsx(To,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),SE=d.forwardRef((t,e)=>{const n=Yt(Re,t.__scopeMenu);return y.jsx(To,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),To=d.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,b=Yt(Re,n),v=yr(Re,n),_=xs(n),w=nd(n),x=gE(n),[E,k]=d.useState(null),T=d.useRef(null),C=de(e,T,b.onContentChange),A=d.useRef(0),R=d.useRef(""),U=d.useRef(0),P=d.useRef(null),z=d.useRef("right"),D=d.useRef(0),G=m?Zu:d.Fragment,F=m?{as:En,allowPinchZoom:!0}:void 0,H=I=>{var me,kt;const V=R.current+I,W=x().filter(ke=>!ke.disabled),ee=document.activeElement,re=(me=W.find(ke=>ke.ref.current===ee))==null?void 0:me.textValue,oe=W.map(ke=>ke.textValue),he=DE(oe,V,re),pe=(kt=W.find(ke=>ke.textValue===he))==null?void 0:kt.ref.current;(function ke(Dn){R.current=Dn,window.clearTimeout(A.current),Dn!==""&&(A.current=window.setTimeout(()=>ke(""),1e3))})(V),pe&&setTimeout(()=>pe.focus())};d.useEffect(()=>()=>window.clearTimeout(A.current),[]),Gw();const M=d.useCallback(I=>{var W,ee;return z.current===((W=P.current)==null?void 0:W.side)&&$E(I,(ee=P.current)==null?void 0:ee.area)},[]);return y.jsx(xE,{scope:n,searchRef:R,onItemEnter:d.useCallback(I=>{M(I)&&I.preventDefault()},[M]),onItemLeave:d.useCallback(I=>{var V;M(I)||((V=T.current)==null||V.focus(),k(null))},[M]),onTriggerLeave:d.useCallback(I=>{M(I)&&I.preventDefault()},[M]),pointerGraceTimerRef:U,onPointerGraceIntentChange:d.useCallback(I=>{P.current=I},[]),children:y.jsx(G,{...F,children:y.jsx(fu,{asChild:!0,trapped:s,onMountAutoFocus:$(i,I=>{var V;I.preventDefault(),(V=T.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(ho,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:y.jsx(Sx,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:$(c,I=>{v.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(Du,{role:"menu","aria-orientation":"vertical","data-state":xd(b.open),"data-radix-menu-content":"",dir:v.dir,..._,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:$(g.onKeyDown,I=>{const W=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ee=I.ctrlKey||I.altKey||I.metaKey,re=I.key.length===1;W&&(I.key==="Tab"&&I.preventDefault(),!ee&&re&&H(I.key));const oe=T.current;if(I.target!==oe||!hE.includes(I.key))return;I.preventDefault();const pe=x().filter(me=>!me.disabled).map(me=>me.ref.current);ed.includes(I.key)&&pe.reverse(),jE(pe)}),onBlur:$(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:$(t.onPointerMove,lr(I=>{const V=I.target,W=D.current!==I.clientX;if(I.currentTarget.contains(V)&&W){const ee=I.clientX>D.current?"right":"left";z.current=ee,D.current=I.clientX}}))})})})})})})});od.displayName=Re;var CE="MenuGroup",Ao=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ae.div,{role:"group",...r,ref:e})});Ao.displayName=CE;var TE="MenuLabel",ad=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ae.div,{...r,ref:e})});ad.displayName=TE;var ns="MenuItem",mc="menu.itemSelect",Es=d.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=d.useRef(null),o=yr(ns,t.__scopeMenu),a=Co(ns,t.__scopeMenu),c=de(e,i),l=d.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(mc,{bubbles:!0,cancelable:!0});f.addEventListener(mc,p=>r==null?void 0:r(p),{once:!0}),au(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return y.jsx(cd,{...s,ref:c,disabled:n,onClick:$(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),l.current=!0},onPointerUp:$(t.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:$(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||Oi.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Es.displayName=ns;var cd=d.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Co(ns,n),a=nd(n),c=d.useRef(null),l=de(e,c),[u,f]=d.useState(!1),[h,p]=d.useState("");return d.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[i.children]),y.jsx(cr.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:y.jsx(Cx,{asChild:!0,...a,focusable:!r,children:y.jsx(ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:l,onPointerMove:$(t.onPointerMove,lr(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$(t.onPointerLeave,lr(m=>o.onItemLeave(m))),onFocus:$(t.onFocus,()=>f(!0)),onBlur:$(t.onBlur,()=>f(!1))})})})}),AE="MenuCheckboxItem",ld=d.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return y.jsx(pd,{scope:t.__scopeMenu,checked:n,children:y.jsx(Es,{role:"menuitemcheckbox","aria-checked":rs(n)?"mixed":n,...s,ref:e,"data-state":Io(n),onSelect:$(s.onSelect,()=>r==null?void 0:r(rs(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ld.displayName=AE;var ud="MenuRadioGroup",[kE,IE]=Gt(ud,{value:void 0,onValueChange:()=>{}}),dd=d.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=$e(r);return y.jsx(kE,{scope:t.__scopeMenu,value:n,onValueChange:i,children:y.jsx(Ao,{...s,ref:e})})});dd.displayName=ud;var fd="MenuRadioItem",hd=d.forwardRef((t,e)=>{const{value:n,...r}=t,s=IE(fd,t.__scopeMenu),i=n===s.value;return y.jsx(pd,{scope:t.__scopeMenu,checked:i,children:y.jsx(Es,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Io(i),onSelect:$(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});hd.displayName=fd;var ko="MenuItemIndicator",[pd,RE]=Gt(ko,{checked:!1}),md=d.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=RE(ko,n);return y.jsx(Nn,{present:r||rs(i.checked)||i.checked===!0,children:y.jsx(ae.span,{...s,ref:e,"data-state":Io(i.checked)})})});md.displayName=ko;var PE="MenuSeparator",gd=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});gd.displayName=PE;var ME="MenuArrow",yd=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=xs(n);return y.jsx(Lu,{...s,...r,ref:e})});yd.displayName=ME;var OE="MenuSub",[BS,bd]=Gt(OE),Kn="MenuSubTrigger",vd=d.forwardRef((t,e)=>{const n=Yt(Kn,t.__scopeMenu),r=yr(Kn,t.__scopeMenu),s=bd(Kn,t.__scopeMenu),i=Co(Kn,t.__scopeMenu),o=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,l={__scopeMenu:t.__scopeMenu},u=d.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return d.useEffect(()=>u,[u]),d.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),y.jsx(Eo,{asChild:!0,...l,children:y.jsx(cd,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":xd(n.open),...t,ref:ds(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$(t.onPointerMove,lr(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:$(t.onPointerLeave,lr(f=>{var p,m;u();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,b=g==="right",v=b?-5:5,_=h[b?"left":"right"],w=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:_,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:_,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:$(t.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||pE[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});vd.displayName=Kn;var wd="MenuSubContent",_d=d.forwardRef((t,e)=>{const n=sd(Re,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Yt(Re,t.__scopeMenu),o=yr(Re,t.__scopeMenu),a=bd(wd,t.__scopeMenu),c=d.useRef(null),l=de(e,c);return y.jsx(cr.Provider,{scope:t.__scopeMenu,children:y.jsx(Nn,{present:r||i.open,children:y.jsx(cr.Slot,{scope:t.__scopeMenu,children:y.jsx(To,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:$(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:$(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:$(t.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=mE[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),u.preventDefault())})})})})})});_d.displayName=wd;function xd(t){return t?"open":"closed"}function rs(t){return t==="indeterminate"}function Io(t){return rs(t)?"indeterminate":t?"checked":"unchecked"}function jE(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function NE(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function DE(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=NE(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function LE(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,l=e[o].x,u=e[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function $E(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return LE(n,e)}function lr(t){return e=>e.pointerType==="mouse"?t(e):void 0}var FE=rd,UE=Eo,BE=id,zE=od,HE=Ao,VE=ad,WE=Es,qE=ld,KE=dd,GE=hd,YE=md,QE=gd,JE=yd,XE=vd,ZE=_d,Ro="DropdownMenu",[e0,zS]=Mn(Ro,[td]),ve=td(),[t0,Ed]=e0(Ro),Sd=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=ve(e),l=d.useRef(null),[u=!1,f]=uo({prop:s,defaultProp:i,onChange:o});return y.jsx(t0,{scope:e,triggerId:Jr(),triggerRef:l,contentId:Jr(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:a,children:y.jsx(FE,{...c,open:u,onOpenChange:f,dir:r,modal:a,children:n})})};Sd.displayName=Ro;var Cd="DropdownMenuTrigger",Td=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Ed(Cd,n),o=ve(n);return y.jsx(UE,{asChild:!0,...o,children:y.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ds(e,i.triggerRef),onPointerDown:$(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:$(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Td.displayName=Cd;var n0="DropdownMenuPortal",Ad=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ve(e);return y.jsx(BE,{...r,...n})};Ad.displayName=n0;var kd="DropdownMenuContent",Id=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ed(kd,n),i=ve(n),o=d.useRef(!1);return y.jsx(zE,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:$(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:$(t.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Id.displayName=kd;var r0="DropdownMenuGroup",s0=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(HE,{...s,...r,ref:e})});s0.displayName=r0;var i0="DropdownMenuLabel",Rd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(VE,{...s,...r,ref:e})});Rd.displayName=i0;var o0="DropdownMenuItem",Pd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(WE,{...s,...r,ref:e})});Pd.displayName=o0;var a0="DropdownMenuCheckboxItem",Md=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(qE,{...s,...r,ref:e})});Md.displayName=a0;var c0="DropdownMenuRadioGroup",l0=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(KE,{...s,...r,ref:e})});l0.displayName=c0;var u0="DropdownMenuRadioItem",Od=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(GE,{...s,...r,ref:e})});Od.displayName=u0;var d0="DropdownMenuItemIndicator",jd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(YE,{...s,...r,ref:e})});jd.displayName=d0;var f0="DropdownMenuSeparator",Nd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(QE,{...s,...r,ref:e})});Nd.displayName=f0;var h0="DropdownMenuArrow",p0=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(JE,{...s,...r,ref:e})});p0.displayName=h0;var m0="DropdownMenuSubTrigger",Dd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(XE,{...s,...r,ref:e})});Dd.displayName=m0;var g0="DropdownMenuSubContent",Ld=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ve(n);return y.jsx(ZE,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ld.displayName=g0;var y0=Sd,b0=Td,v0=Ad,$d=Id,Fd=Rd,Ud=Pd,Bd=Md,zd=Od,Hd=jd,Vd=Nd,Wd=Dd,qd=Ld;const w0=y0,_0=b0,x0=d.forwardRef(({className:t,inset:e,children:n,...r},s)=>y.jsxs(Wd,{ref:s,className:fe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,y.jsx(_m,{className:"ml-auto"})]}));x0.displayName=Wd.displayName;const E0=d.forwardRef(({className:t,...e},n)=>y.jsx(qd,{ref:n,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));E0.displayName=qd.displayName;const Kd=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(v0,{children:y.jsx($d,{ref:r,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Kd.displayName=$d.displayName;const cn=d.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(Ud,{ref:r,className:fe("relative flex select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));cn.displayName=Ud.displayName;const S0=d.forwardRef(({className:t,children:e,checked:n,...r},s)=>y.jsxs(Bd,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Hd,{children:y.jsx(vm,{className:"h-4 w-4"})})}),e]}));S0.displayName=Bd.displayName;const C0=d.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(zd,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Hd,{children:y.jsx(xm,{className:"h-2 w-2 fill-current"})})}),e]}));C0.displayName=zd.displayName;const Gd=d.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(Fd,{ref:r,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Gd.displayName=Fd.displayName;const Vr=d.forwardRef(({className:t,...e},n)=>y.jsx(Vd,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));Vr.displayName=Vd.displayName;function HS(t){switch(t.code){case"conflict":return"Conflito.";case"email_address_invalid":return"Email inválido.";case"email_exists":return"Email já cadastrado.";case"no_authorization":return"Sem autorização.";case"weak_password":return"Senha fraca.";case"invalid_credentials":return"Credenciais inválidas.";case"provider_disabled":return"Provedor desabilitado.";case"validation_failed":return"Falha na validação, verifique as credenciais.";case"email_not_confirmed":return"Email não confirmado.";case"phone_not_confirmed":return"Telefone não confirmado.";default:return"Houve um problema. Tente novamente mais tarde."}}function T0(t){return t==null?void 0:t.split(" ")[0]}function VS(t){return t==null?void 0:t.toUpperCase().split(" ").map(e=>e[0]).join("")}function WS(t){const n=t.replace(/[^\d]/g,"").split(""),r=new Date().getFullYear();if(n.length>=2&&parseInt(n.slice(0,2).join(""),10)>31&&(n[0]="3",n[1]="1"),n.length>=4&&parseInt(n.slice(2,4).join(""),10)>12&&(n[2]="1",n[3]="2"),n.length>4&&parseInt(n.slice(4,8).join(""),10)>r){const i=r.toString();for(let o=4;o<8;o++)n[o]=i[o-4]}return n.length>2&&n.splice(2,0,"/"),n.length>5&&n.splice(5,0,"/"),n.join("")}async function qS(t,e){return new Promise((n,r)=>{const s=document.createElement("canvas"),i=s.getContext("2d"),o=new Image;o.src=URL.createObjectURL(t),o.onload=()=>{const a=o.width/o.height;let c,l;o.width>o.height?(c=e,l=e/a):(l=e,c=e*a),s.width=Math.round(c),s.height=Math.round(l),i==null||i.drawImage(o,0,0,s.width,s.height),s.toBlob(u=>{if(u){const f=new Blob([u],{type:"image/jpeg"}),h=new File([f],`${t.name.split(".").slice(0,-1).join(".")}.jpeg`,{type:"image/jpeg"});n(h)}else r(new Error("Failed to create a blob from the canvas."))},"image/jpeg")},o.onerror=()=>{r(new Error("Failed to load the image."))}})}async function KS(t,e,n,r){console.log({name:t,email:e,phone:n,password:r});const s=`${window.location.origin}/prote-ja-app/dashboard`;console.log("Redirection URL: ",s);const i={type:"user",name:t,phone:n};return console.log({...i}),await Ae.auth.signUp({email:e,password:r,options:{emailRedirectTo:s,data:{...i}}})}async function GS(t,e){return await Ae.auth.signInWithPassword({email:t,password:e})}async function A0(){return await Ae.auth.signOut()}async function YS(t){return await Ae.auth.resetPasswordForEmail(t)}const k0=()=>{const{session:t,user:e}=lo(),n=Me(),[r,s]=d.useState(!1),i=jw();d.useEffect(()=>{t&&n.pathname!=="/dashboard"?s(!0):s(!1)},[n.pathname,t]);const o=async()=>{const a=await A0();if(a.error){console.error("Error signing out: ",a.error),K.error("Erro ao sair. Tente novamente.");return}};return y.jsx("div",{className:"border-b flex items-center sticky top-0 z-[1] backdrop-blur md:shadow",children:y.jsxs("div",{className:"p-2 justify-between flex items-center h-16 md:px-4 lg:px-10 w-full mx-auto",children:[y.jsxs("div",{className:fe("flex w-32 rounded-md items-center absolute py-1",""),children:[y.jsx(qe,{to:"..",className:fe("flex items-center w-32 absolute h-12 rounded-md hover:bg-secondary/80",r?"translate-x-0 opacity-100 bg-background border":"-translate-x-full opacity-0 pointer-events-none"),style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out"},children:y.jsxs("div",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 py-2 w-20 text-white",children:[y.jsx(wm,{className:"w-6 h-6"}),"Voltar"]})}),y.jsx("img",{src:Rp,alt:"proteja-logo",className:`max-h-10 absolute ${r?"translate-x-[5.25rem] pointer-events-none":""}`,style:{transition:"transform 500ms ease-in-out"}}),y.jsx("img",{src:Pp,alt:"proteja-name",className:`max-w-32 h-8 mb-2 ${r?"opacity-0 scale-50 translate-x-24":"opacity-100 scale-100 translate-x-10"}`,style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out"}})]}),y.jsxs("div",{className:"gap-2 sm:gap-3 flex items-center ml-auto",children:[i?y.jsxs(un,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5 border-white",onClick:i,children:[y.jsx(Em,{}),y.jsx("span",{className:"hidden md:block",children:"Download"})]}):null,t?y.jsxs(y.Fragment,{children:[y.jsx(qe,{to:"/dashboard/alerts",children:y.jsxs(un,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5",children:[y.jsx(bm,{className:"fill-white"}),y.jsx("span",{className:"hidden md:block",children:"Notificações"})]})}),y.jsxs(w0,{children:[y.jsx(_0,{asChild:!0,children:y.jsxs(un,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5",children:[y.jsx(Rm,{}),y.jsx("span",{className:"hidden md:block",children:"Menu"})]})}),y.jsxs(Kd,{className:"mx-4 text-md",children:[y.jsxs(Gd,{children:["Olá ",T0(e==null?void 0:e.name)]}),y.jsx(Vr,{}),y.jsx(qe,{to:"/dashboard/profile",children:y.jsxs(cn,{children:[y.jsx(Pm,{})," Meu Perfil"]})}),y.jsx(qe,{to:"/dashboard/subscribe",children:y.jsxs(cn,{children:[y.jsx(Cm,{}),"ProteJÁ+"]})}),y.jsx(Vr,{}),y.jsx(qe,{to:"/first-login",children:y.jsxs(cn,{children:[y.jsx(Sm,{})," Tutorial"]})}),y.jsx(qe,{to:"/about",children:y.jsxs(cn,{children:[y.jsx(Tm,{})," Sobre"]})}),y.jsx(Vr,{}),y.jsxs(cn,{className:"text-destructive font-medium",onClick:o,children:[y.jsx(Im,{}),"Sair"]})]})]})]}):null]})]})})},I0=({isBlack:t})=>y.jsx("div",{className:fe("fixed top-0 left-0 w-full h-full -z-1",t?"bg-gradient-to-b from-[#000000] to-[#000000]":"bg-gradient-to-b from-[#7357FF] to-[#4b33be]")}),R0=()=>(console.log("MainLayout"),Cw(iu,t=>{var e,n;console.log("Message received. ",t),K.success((e=t.notification)==null?void 0:e.title),K((n=t.notification)==null?void 0:n.body)}),y.jsxs(y.Fragment,{children:[y.jsx(I0,{}),y.jsx(k0,{}),y.jsx(is,{})]})),Po=({title:t,children:e,preIcon:n,postIcon:r,className:s="",titleBackground:i,border:o,clickable:a,onClick:c,cornerType:l,style:u})=>{const f=()=>{switch(l){case"square":return"";case"rounded":return"rounded-md";case"auto-md":return"md:rounded-md"}return"rounded-md"},h=n&&r?"col-span-6":n||r?"col-span-8":"col-span-10";return y.jsxs("div",{className:fe("dashboard-item bg-background",o?"border":"",a?"transition-all cursor-pointer hover:shadow-md hover:scale-[1.01] active:scale-[1] active:shadow-inner active:opacity-60":"",f(),s),style:u,onClick:c,children:[t&&y.jsxs("div",{className:fe("grid grid-cols-10 items-center py-1 px-2 sm:py-2 rounded-t-lg",`${i?"bg-background":""}`),children:[y.jsx("div",{className:"col-span-2",children:n&&y.jsx("div",{children:n})}),y.jsx("div",{className:h,children:y.jsx("h2",{className:"text-xl font-medium text-white text-center line-clamp-1 ",children:t})}),r&&y.jsx("div",{className:"col-span-2 justify-end flex",children:y.jsx("div",{children:r})})]}),e]})},P0=()=>y.jsx(Po,{title:"Você já está autenticado",children:y.jsxs("div",{className:"p-4",children:[y.jsx("p",{className:"text-white",children:"Você já está autenticado, acesse o dashboard para continuar."}),y.jsx(qe,{to:"/dashboard",children:y.jsxs(un,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",children:[y.jsx(Am,{}),"Ir para dashboard"]})})]})}),Yd="/prote-ja-app/assets/biopark-DuBn1T6g.png",Qd="/prote-ja-app/assets/hugo-DeN0uC9g.png",Jd="/prote-ja-app/assets/utfpr-Dj1F4QfZ.png",Xd="/prote-ja-app/assets/sapatilhas-BCc3XB-M.png",Oe={sizeRange:{min:20,max:40},speedYRange:{min:.8,max:1},speedXRange:{min:-.3,max:.3},animationInterval:100,partnerLogos:[Yd,Jd,Xd,Qd]};function M0(){const[t,e]=d.useState([]),n=d.useRef(null),r=()=>Oe.partnerLogos.map((s,i)=>({id:i,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*(Oe.sizeRange.max-Oe.sizeRange.min)+Oe.sizeRange.min,speedY:(Math.random()*(Oe.speedYRange.max-Oe.speedYRange.min)+Oe.speedYRange.min)*(Math.random()>.5?1:-1),speedX:Math.random()*(Oe.speedXRange.max-Oe.speedXRange.min)+Oe.speedXRange.min,logo:s}));return d.useEffect(()=>{e(r());const i=setInterval(()=>{e(o=>o.map(a=>({...a,y:(a.y+a.speedY+window.innerHeight)%window.innerHeight,x:(a.x+a.speedX+window.innerWidth)%window.innerWidth})))},Oe.animationInterval);return()=>{clearInterval(i)}},[]),d.useEffect(()=>{const s=()=>{e(i=>i.map(o=>({...o,x:Math.min(o.x,window.innerWidth),y:Math.min(o.y,window.innerHeight)})))};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),y.jsx("div",{ref:n,className:"fixed inset-0 pointer-events-none",style:{zIndex:0},children:t.map(s=>y.jsx("div",{className:"absolute rounded-full bg-white/5 backdrop-blur-sm flex items-center justify-center",style:{left:`${s.x}px`,top:`${s.y}px`,width:`${s.size}px`,height:`${s.size}px`},children:y.jsx("img",{src:s.logo,alt:"Partner Logo",className:"w-2/3 h-2/3 object-contain opacity-30"})},s.id))})}const Lr=({logo:t,name:e,description:n})=>y.jsxs("div",{className:"bg-white/10 p-6 rounded-lg backdrop-blur-sm",children:[y.jsx("img",{src:t,alt:`${e} Logo`,className:"h-12 w-auto mx-auto mb-4"}),y.jsx("h4",{className:"text-lg font-semibold text-white text-center mb-2",children:e}),y.jsx("p",{className:"text-sm text-white/80 text-center",children:n})]}),O0=()=>{const{pathname:t}=Me(),{session:e}=lo();return y.jsxs(y.Fragment,{children:[y.jsx(M0,{}),y.jsx("div",{className:"p-6 max-w-xl justify-center lg:max-w-6xl mx-auto",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsx("div",{className:"col-span-1 lg:col-span-2 animated-container",children:e?y.jsx(P0,{}):y.jsx(is,{})},t),y.jsx(Po,{border:!0,className:"col-span-1 lg:col-span-3 h-min p-4",children:y.jsxs("div",{children:[y.jsx("h2",{className:"text-center text-3xl font-bold leading-9 tracking-tight text-white mb-6",children:"Apoiado por"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(Lr,{name:"UTFPR",logo:Jd,description:"Universidade Tecnológica Federal do Paraná"}),y.jsx(Lr,{name:"Biopark Educação",logo:Yd,description:""}),y.jsx(Lr,{name:"Use Sapatilhas",logo:Xd,description:""}),y.jsx(Lr,{name:"Hugo Transportes",logo:Qd,description:""})]})]})})]})})]})},j0=({className:t,children:e})=>y.jsx("div",{className:"w-full md:px-4",children:y.jsx("div",{className:fe(t,"relative py-6 px-2 md:border md:rounded-md md:py-6 md:px-4 lg:px-6 md:mt-4 md:mb-4 md:max-w-4xl md:mx-auto md:shadow-md"),children:e})}),N0=()=>{const{pathname:t}=Me();return y.jsx("div",{className:"fade-in-container",children:y.jsx(j0,{children:y.jsx(is,{})})},t)},D0=()=>y.jsx(Po,{border:!0,className:"max-w-lg mx-auto h-full mt-8",title:"Não autenticado",children:y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-white",children:"Você precisa estar logado para acessar esta página. Por favor, faça login para acessar este conteúdo."}),y.jsx(qe,{to:"/login",children:y.jsxs(un,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",children:[y.jsx(km,{}),"Fazer Login"]})})]})});async function L0(){return await Ae.from("totems_view").select().order("name",{ascending:!0}).returns()}async function $0(){return await Ae.from("wearables_view").select().order("name",{ascending:!0}).returns()}async function QS(t){return await Ae.from("wearables_view").select().eq("id",t).single()}async function JS(t,e){return await Ae.from("wearables").update(e).eq("id",t)}const F0=d.createContext({totems:[],wearables:[],loading:!1,refresh:()=>{}}),U0=5,B0=({children:t})=>{const[e,n]=d.useState([]),[r,s]=d.useState([]),[i,o]=d.useState(!1),a=d.useCallback(async()=>{o(!0);try{const{data:l,error:u}=await $0();if(u)throw u;s(l??[])}catch(l){console.error("Error fetching wearables:",l)}try{const{data:l,error:u}=await L0();if(u)throw u;n(l??[])}catch(l){console.error("Error fetching totems:",l)}o(!1)},[]),c=d.useCallback(()=>{a()},[a]);return d.useEffect(()=>{a();const l=setInterval(()=>{a()},U0*1e3);return()=>clearInterval(l)},[a]),y.jsx(F0.Provider,{value:{totems:e,wearables:r,loading:i,refresh:c},children:t})},z0=()=>{const{session:t}=lo();return y.jsx(y.Fragment,{children:t?y.jsx(B0,{children:y.jsx(is,{})}):y.jsx("div",{className:"px-3",children:y.jsx(D0,{})})})};var H0="VisuallyHidden",Zd=d.forwardRef((t,e)=>y.jsx(ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Zd.displayName=H0;var V0=Zd,[Ss,XS]=Mn("Tooltip",[vs]),Cs=vs(),ef="TooltipProvider",W0=700,ji="tooltip.open",[q0,Mo]=Ss(ef),tf=t=>{const{__scopeTooltip:e,delayDuration:n=W0,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=d.useState(!0),c=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),y.jsx(q0,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};tf.displayName=ef;var Ts="Tooltip",[K0,As]=Ss(Ts),nf=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,c=Mo(Ts,t.__scopeTooltip),l=Cs(e),[u,f]=d.useState(null),h=Jr(),p=d.useRef(0),m=o??c.disableHoverableContent,g=a??c.delayDuration,b=d.useRef(!1),[v=!1,_]=uo({prop:r,defaultProp:s,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(ji))):c.onClose(),i==null||i(T)}}),w=d.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),x=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,_(!0)},[_]),E=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_(!1)},[_]),k=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,_(!0),p.current=0},g)},[g,_]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),y.jsx(ju,{...l,children:y.jsx(K0,{scope:e,contentId:h,open:v,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?k():x()},[c.isOpenDelayed,k,x]),onTriggerLeave:d.useCallback(()=>{m?E():(window.clearTimeout(p.current),p.current=0)},[E,m]),onOpen:x,onClose:E,disableHoverableContent:m,children:n})})};nf.displayName=Ts;var Ni="TooltipTrigger",rf=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=As(Ni,n),i=Mo(Ni,n),o=Cs(n),a=d.useRef(null),c=de(e,a,s.onTriggerChange),l=d.useRef(!1),u=d.useRef(!1),f=d.useCallback(()=>l.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(Nu,{asChild:!0,...o,children:y.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:$(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:$(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:$(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:$(t.onBlur,s.onClose),onClick:$(t.onClick,s.onClose)})})});rf.displayName=Ni;var G0="TooltipPortal",[ZS,Y0]=Ss(G0,{forceMount:void 0}),Tn="TooltipContent",sf=d.forwardRef((t,e)=>{const n=Y0(Tn,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=As(Tn,t.__scopeTooltip);return y.jsx(Nn,{present:r||o.open,children:o.disableHoverableContent?y.jsx(of,{side:s,...i,ref:e}):y.jsx(Q0,{side:s,...i,ref:e})})}),Q0=d.forwardRef((t,e)=>{const n=As(Tn,t.__scopeTooltip),r=Mo(Tn,t.__scopeTooltip),s=d.useRef(null),i=de(e,s),[o,a]=d.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:f}=r,h=d.useCallback(()=>{a(null),f(!1)},[f]),p=d.useCallback((m,g)=>{const b=m.currentTarget,v={x:m.clientX,y:m.clientY},_=eS(v,b.getBoundingClientRect()),w=tS(v,_),x=nS(g.getBoundingClientRect()),E=sS([...w,...x]);a(E),f(!0)},[f]);return d.useEffect(()=>()=>h(),[h]),d.useEffect(()=>{if(c&&u){const m=b=>p(b,u),g=b=>p(b,c);return c.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[c,u,p,h]),d.useEffect(()=>{if(o){const m=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},_=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),w=!rS(v,o);_?h():w&&(h(),l())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,u,o,l,h]),y.jsx(of,{...t,ref:i})}),[J0,X0]=Ss(Ts,{isInside:!1}),of=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=As(Tn,n),l=Cs(n),{onClose:u}=c;return d.useEffect(()=>(document.addEventListener(ji,u),()=>document.removeEventListener(ji,u)),[u]),d.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),y.jsx(ho,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:y.jsxs(Du,{"data-state":c.stateAttribute,...l,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Jc,{children:r}),y.jsx(J0,{scope:n,isInside:!0,children:y.jsx(V0,{id:c.contentId,role:"tooltip",children:s||r})})]})})});sf.displayName=Tn;var af="TooltipArrow",Z0=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Cs(n);return X0(af,n).isInside?null:y.jsx(Lu,{...s,...r,ref:e})});Z0.displayName=af;function eS(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tS(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nS(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function rS(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,l=e[o].x,u=e[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function sS(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iS(e)}function iS(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oS=tf,aS=nf,cS=rf,cf=sf;const lS=oS,eC=aS,tC=cS,uS=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(cf,{ref:r,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));uS.displayName=cf.displayName;const dS=O.lazy(()=>ne(()=>import("./Home-B6HG1J4H.js"),__vite__mapDeps([2,3,1,4]))),fS=O.lazy(()=>ne(()=>import("./NotAuthorized-RwpE3uNt.js"),__vite__mapDeps([5,6,1,4]))),hS=O.lazy(()=>ne(()=>import("./Dashboard-hMMPHP5o.js"),__vite__mapDeps([7,8,9,10,11,12,3,13,14,1,4]))),pS=O.lazy(()=>ne(()=>import("./Pairing-CllucSKh.js"),__vite__mapDeps([15,1,4]))),mS=O.lazy(()=>ne(()=>import("./Login-Du-2bxOR.js"),__vite__mapDeps([16,17,18,19,3,1,4]))),gS=O.lazy(()=>ne(()=>import("./Register-DLTG3ev3.js"),__vite__mapDeps([20,17,18,19,3,21,22,1,4]))),yS=O.lazy(()=>ne(()=>import("./Profile-DatnRLSS.js"),__vite__mapDeps([23,11,24,25,1,13,21,18,12,3,26,27,28,4,29]))),bS=O.lazy(()=>ne(()=>import("./FirstLogin-3sYJT3UU.js"),__vite__mapDeps([30,1,4,31]))),vS=O.lazy(()=>ne(()=>import("./AddDevice-DbtVYAJP.js"),__vite__mapDeps([32,1,18,33,3,22,4]))),wS=O.lazy(()=>ne(()=>import("./EditWearable-BZdLXZKa.js"),__vite__mapDeps([34,11,35,24,25,1,13,3,18,12,10,19,22,36,4]))),_S=O.lazy(()=>ne(()=>import("./OutOfRange-CdMeyaE6.js"),__vite__mapDeps([37,11,8,9,10,35,38,39,1,4]))),xS=O.lazy(()=>ne(()=>import("./FallDetected-DeHDRYPG.js"),__vite__mapDeps([40,11,8,9,10,35,38,39,1,4]))),ES=O.lazy(()=>ne(()=>import("./Wearable-Beh6JCRl.js"),__vite__mapDeps([41,6,1,28,42,33,35,9,10,12,36,29,38,4]))),SS=O.lazy(()=>ne(()=>import("./AlertPage-tv9kTzyt.js"),__vite__mapDeps([43,42,33,11,38,1,4]))),CS=O.lazy(()=>ne(()=>import("./BuyPremium-CqH-qg4w.js"),__vite__mapDeps([44,11,14,1,4]))),TS=new mp;_f.createRoot(document.getElementById("root")).render(y.jsx(d.StrictMode,{children:y.jsx(Rw,{children:y.jsxs(yp,{client:TS,children:[y.jsx(lS,{delayDuration:400,children:y.jsx($h,{children:y.jsxs(hh,{children:[y.jsxs(te,{path:"/",element:y.jsx(R0,{}),children:[y.jsx(te,{index:!0,element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(dS,{})})}),y.jsxs(te,{element:y.jsx(N0,{}),children:[y.jsx(te,{element:y.jsx(z0,{}),children:y.jsxs(te,{path:"dashboard",children:[y.jsx(te,{index:!0,element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(hS,{})})}),y.jsx(te,{path:"profile",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(yS,{})})}),y.jsx(te,{path:"pairing",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(pS,{})})}),y.jsx(te,{path:"add-device",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(vS,{})})}),y.jsx(te,{path:"edit-wearable/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(wS,{})})}),y.jsx(te,{path:"out-of-range/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(_S,{})})}),y.jsx(te,{path:"subscribe",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(CS,{})})}),y.jsx(te,{path:"fall-detected/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(xS,{})})}),y.jsx(te,{path:"wearable/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(ES,{})})}),y.jsx(te,{path:"alerts",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(SS,{})})})]})}),y.jsx(te,{path:"not-authorized",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(fS,{})})})]}),y.jsxs(te,{element:y.jsx(O0,{}),children:[y.jsx(te,{path:"login",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(mS,{})})}),y.jsx(te,{path:"register",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(gS,{})})})]})]}),y.jsx(te,{path:"first-login",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(bS,{})})})]})})}),y.jsx(Ip,{closeOnClick:!0})]})})}));export{Z0 as $,rx as A,un as B,vm as C,F0 as D,YS as E,MS as F,Pp as G,I0 as H,Cx as I,j0 as J,Ae as K,qe as L,w0 as M,PS as N,_0 as O,ae as P,Kd as Q,Sx as R,cn as S,Vr as T,$S as U,RS as V,VS as W,eC as X,tC as Y,uS as Z,ne as _,de as a,WS as a0,JS as a1,fo as a2,US as a3,$u as a4,Ix as a5,Zu as a6,En as a7,Gw as a8,fu as a9,ho as aa,Jc as ab,pm as ac,Ge as ad,QS as ae,qS as af,lu as b,_e as c,Mn as d,Nn as e,$ as f,$e as g,Ht as h,fe as i,y as j,Po as k,uo as l,Jr as m,Uu as n,Ui as o,Ay as p,K as q,d as r,Rp as s,km as t,lo as u,GS as v,HS as w,O as x,KS as y,Np as z};
