import{a as be,r as l,b as R,d as ve,j as r,P as j,e as I,f as S,g as T,h as Qe,i as k,k as Q,l as xe,m as Ue,n as Ge,R as Ke,I as qe,D as Je,u as Ze,o as $e,L as ee,B as re,p as er,q as rr}from"./index-DwV-pGOG.js";import{B as tr,W as te}from"./WearableConnectionComponent-eVIPjsyh.js";import{W as or,a as nr}from"./WearableAvatar-BUCZdNQe.js";import{L as ge}from"./link-BasV39xk.js";import{E as oe}from"./ElementTitleHeader-Deh7onGa.js";import{H as sr}from"./HorizontalDivider-DVBpU3Fh.js";import{$ as ne}from"./module--igqglZg.js";import{A as se,a as le,b as ae,c as ie,d as ce,e as de,f as ue,g as lr}from"./alert-dialog-C-DjBu-L.js";import{P as fe}from"./plus-Dhb8Z1Wa.js";import{S as ar}from"./satellite-dish-CZrxflHj.js";import"./react-C7sMpjI8.js";import"./react-dom-ThsgQk-A.js";import"./storage-D50gXBDJ.js";function ir(e,[o,n]){return Math.min(n,Math.max(o,e))}function cr(e,o){return l.useReducer((n,s)=>o[n][s]??n,e)}var G="ScrollArea",[we,Xr]=be(G),[dr,g]=we(G),Se=l.forwardRef((e,o)=>{const{__scopeScrollArea:n,type:s="hover",dir:t,scrollHideDelay:a=600,...i}=e,[c,d]=l.useState(null),[f,u]=l.useState(null),[h,m]=l.useState(null),[b,p]=l.useState(null),[v,_]=l.useState(null),[C,z]=l.useState(0),[F,M]=l.useState(0),[B,y]=l.useState(!1),[O,V]=l.useState(!1),x=R(o,P=>d(P)),w=ve(t);return r.jsx(dr,{scope:n,type:s,dir:w,scrollHideDelay:a,scrollArea:c,viewport:f,onViewportChange:u,content:h,onContentChange:m,scrollbarX:b,onScrollbarXChange:p,scrollbarXEnabled:B,onScrollbarXEnabledChange:y,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:O,onScrollbarYEnabledChange:V,onCornerWidthChange:z,onCornerHeightChange:M,children:r.jsx(j.div,{dir:w,...i,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":F+"px",...e.style}})})});Se.displayName=G;var Ae="ScrollAreaViewport",je=l.forwardRef((e,o)=>{const{__scopeScrollArea:n,children:s,nonce:t,...a}=e,i=g(Ae,n),c=l.useRef(null),d=R(o,c,i.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:t}),r.jsx(j.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});je.displayName=Ae;var A="ScrollAreaScrollbar",K=l.forwardRef((e,o)=>{const{forceMount:n,...s}=e,t=g(A,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=t,c=e.orientation==="horizontal";return l.useEffect(()=>(c?a(!0):i(!0),()=>{c?a(!1):i(!1)}),[c,a,i]),t.type==="hover"?r.jsx(ur,{...s,ref:o,forceMount:n}):t.type==="scroll"?r.jsx(fr,{...s,ref:o,forceMount:n}):t.type==="auto"?r.jsx(Ce,{...s,ref:o,forceMount:n}):t.type==="always"?r.jsx(q,{...s,ref:o}):null});K.displayName=A;var ur=l.forwardRef((e,o)=>{const{forceMount:n,...s}=e,t=g(A,e.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const c=t.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),t.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",u)}}},[t.scrollArea,t.scrollHideDelay]),r.jsx(I,{present:n||a,children:r.jsx(Ce,{"data-state":a?"visible":"hidden",...s,ref:o})})}),fr=l.forwardRef((e,o)=>{const{forceMount:n,...s}=e,t=g(A,e.__scopeScrollArea),a=e.orientation==="horizontal",i=X(()=>d("SCROLL_END"),100),[c,d]=cr("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,t.scrollHideDelay,d]),l.useEffect(()=>{const f=t.viewport,u=a?"scrollLeft":"scrollTop";if(f){let h=f[u];const m=()=>{const b=f[u];h!==b&&(d("SCROLL"),i()),h=b};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[t.viewport,a,d,i]),r.jsx(I,{present:n||c!=="hidden",children:r.jsx(q,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:o,onPointerEnter:S(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:S(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Ce=l.forwardRef((e,o)=>{const n=g(A,e.__scopeScrollArea),{forceMount:s,...t}=e,[a,i]=l.useState(!1),c=e.orientation==="horizontal",d=X(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(c?f:u)}},10);return E(n.viewport,d),E(n.content,d),r.jsx(I,{present:s||a,children:r.jsx(q,{"data-state":a?"visible":"hidden",...t,ref:o})})}),q=l.forwardRef((e,o)=>{const{orientation:n="vertical",...s}=e,t=g(A,e.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[c,d]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Re(c.viewport,c.content),u={...s,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,b){return xr(m,i.current,c,b)}return n==="horizontal"?r.jsx(hr,{...u,ref:o,onThumbPositionChange:()=>{if(t.viewport&&a.current){const m=t.viewport.scrollLeft,b=he(m,c,t.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{t.viewport&&(t.viewport.scrollLeft=m)},onDragScroll:m=>{t.viewport&&(t.viewport.scrollLeft=h(m,t.dir))}}):n==="vertical"?r.jsx(mr,{...u,ref:o,onThumbPositionChange:()=>{if(t.viewport&&a.current){const m=t.viewport.scrollTop,b=he(m,c);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{t.viewport&&(t.viewport.scrollTop=m)},onDragScroll:m=>{t.viewport&&(t.viewport.scrollTop=h(m))}}):null}),hr=l.forwardRef((e,o)=>{const{sizes:n,onSizesChange:s,...t}=e,a=g(A,e.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),f=R(o,d,a.onScrollbarXChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(Pe,{"data-orientation":"horizontal",...t,ref:f,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),De(m,h)&&u.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:W(i.paddingLeft),paddingEnd:W(i.paddingRight)}})}})}),mr=l.forwardRef((e,o)=>{const{sizes:n,onSizesChange:s,...t}=e,a=g(A,e.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),f=R(o,d,a.onScrollbarYChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(Pe,{"data-orientation":"vertical",...t,ref:f,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),De(m,h)&&u.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:W(i.paddingTop),paddingEnd:W(i.paddingBottom)}})}})}),[pr,Te]=we(A),Pe=l.forwardRef((e,o)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:t,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:u,onResize:h,...m}=e,b=g(A,n),[p,v]=l.useState(null),_=R(o,x=>v(x)),C=l.useRef(null),z=l.useRef(""),F=b.viewport,M=s.content-s.viewport,B=T(u),y=T(d),O=X(h,10);function V(x){if(C.current){const w=x.clientX-C.current.left,P=x.clientY-C.current.top;f({x:w,y:P})}}return l.useEffect(()=>{const x=w=>{const P=w.target;(p==null?void 0:p.contains(P))&&B(w,M)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[F,p,M,B]),l.useEffect(y,[s,y]),E(p,O),E(b.content,O),r.jsx(pr,{scope:n,scrollbar:p,hasThumb:t,onThumbChange:T(a),onThumbPointerUp:T(i),onThumbPositionChange:y,onThumbPointerDown:T(c),children:r.jsx(j.div,{...m,ref:_,style:{position:"absolute",...m.style},onPointerDown:S(e.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),C.current=p.getBoundingClientRect(),z.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),V(x))}),onPointerMove:S(e.onPointerMove,V),onPointerUp:S(e.onPointerUp,x=>{const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=z.current,b.viewport&&(b.viewport.style.scrollBehavior=""),C.current=null})})})}),H="ScrollAreaThumb",Ne=l.forwardRef((e,o)=>{const{forceMount:n,...s}=e,t=Te(H,e.__scopeScrollArea);return r.jsx(I,{present:n||t.hasThumb,children:r.jsx(br,{ref:o,...s})})}),br=l.forwardRef((e,o)=>{const{__scopeScrollArea:n,style:s,...t}=e,a=g(H,n),i=Te(H,n),{onThumbPositionChange:c}=i,d=R(o,h=>i.onThumbChange(h)),f=l.useRef(void 0),u=X(()=>{f.current&&(f.current(),f.current=void 0)},100);return l.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!f.current){const b=gr(h,c);f.current=b,c()}};return c(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,c]),r.jsx(j.div,{"data-state":i.hasThumb?"visible":"hidden",...t,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:S(e.onPointerDownCapture,h=>{const b=h.target.getBoundingClientRect(),p=h.clientX-b.left,v=h.clientY-b.top;i.onThumbPointerDown({x:p,y:v})}),onPointerUp:S(e.onPointerUp,i.onThumbPointerUp)})});Ne.displayName=H;var J="ScrollAreaCorner",Ee=l.forwardRef((e,o)=>{const n=g(J,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(vr,{...e,ref:o}):null});Ee.displayName=J;var vr=l.forwardRef((e,o)=>{const{__scopeScrollArea:n,...s}=e,t=g(J,n),[a,i]=l.useState(0),[c,d]=l.useState(0),f=!!(a&&c);return E(t.scrollbarX,()=>{var h;const u=((h=t.scrollbarX)==null?void 0:h.offsetHeight)||0;t.onCornerHeightChange(u),d(u)}),E(t.scrollbarY,()=>{var h;const u=((h=t.scrollbarY)==null?void 0:h.offsetWidth)||0;t.onCornerWidthChange(u),i(u)}),f?r.jsx(j.div,{...s,ref:o,style:{width:a,height:c,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function W(e){return e?parseInt(e,10):0}function Re(e,o){const n=e/o;return isNaN(n)?0:n}function Y(e){const o=Re(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*o;return Math.max(s,18)}function xr(e,o,n,s="ltr"){const t=Y(n),a=t/2,i=o||a,c=t-i,d=n.scrollbar.paddingStart+i,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,u=n.content-n.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return ye([d,f],h)(e)}function he(e,o,n="ltr"){const s=Y(o),t=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,a=o.scrollbar.size-t,i=o.content-o.viewport,c=a-s,d=n==="ltr"?[0,i]:[i*-1,0],f=ir(e,d);return ye([0,i],[0,c])(f)}function ye(e,o){return n=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const s=(o[1]-o[0])/(e[1]-e[0]);return o[0]+s*(n-e[0])}}function De(e,o){return e>0&&e<o}var gr=(e,o=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function t(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,c=n.top!==a.top;(i||c)&&o(),n=a,s=window.requestAnimationFrame(t)}(),()=>window.cancelAnimationFrame(s)};function X(e,o){const n=T(e),s=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(s.current),[]),l.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,o)},[n,o])}function E(e,o){const n=T(o);Qe(()=>{let s=0;if(e){const t=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return t.observe(e),()=>{window.cancelAnimationFrame(s),t.unobserve(e)}}},[e,n])}var Le=Se,wr=je,Sr=Ee;const D=l.forwardRef(({className:e,children:o,...n},s)=>r.jsxs(Le,{ref:s,className:k("relative overflow-hidden",e),...n,children:[r.jsx(wr,{className:"h-full w-full rounded-[inherit]",children:o}),r.jsx(N,{}),r.jsx(Sr,{})]}));D.displayName=Le.displayName;const N=l.forwardRef(({className:e,orientation:o="vertical",...n},s)=>r.jsx(K,{ref:s,orientation:o,className:k("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(Ne,{className:"relative flex-1 rounded-full bg-border"})}));N.displayName=K.displayName;const Ar="data:image/png;base64,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",me=({totem:e})=>{const o=e.data??!1;return r.jsx(Q,{title:e.name??"Sem nome",titleBackground:!0,border:!0,className:"h-full w-40 relative",preIcon:r.jsx("img",{src:Ar,alt:"wearable-icon",className:"w-8 h-8"}),clickable:!0,children:r.jsxs("div",{className:"flex flex-col w-full items-center px-2",children:[r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[o?r.jsx(or,{className:"w-8 h-8 text-positive"}):r.jsx(nr,{className:"w-8 h-8 text-destructive"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:o?"Conectado":"Desconectado"}),e.timestamp&&r.jsxs("p",{className:"text-sm text-muted",children:["Ping: ",new Date(e.timestamp).toLocaleTimeString()]})]})]}),r.jsxs("div",{className:"flex items-center justify-between w-full px-2 gap-1 h-12 text-white absolute bottom-0",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ge,{size:18}),2]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(tr,{}),r.jsx("p",{className:"text-white font-medium",children:"%"})]})]})]})})};var Z="Tabs",[jr,_r]=be(Z,[xe]),Ie=xe(),[Cr,$]=jr(Z),ke=l.forwardRef((e,o)=>{const{__scopeTabs:n,value:s,onValueChange:t,defaultValue:a,orientation:i="horizontal",dir:c,activationMode:d="automatic",...f}=e,u=ve(c),[h,m]=Ue({prop:s,onChange:t,defaultProp:a});return r.jsx(Cr,{scope:n,baseId:Ge(),value:h,onValueChange:m,orientation:i,dir:u,activationMode:d,children:r.jsx(j.div,{dir:u,"data-orientation":i,...f,ref:o})})});ke.displayName=Z;var ze="TabsList",Me=l.forwardRef((e,o)=>{const{__scopeTabs:n,loop:s=!0,...t}=e,a=$(ze,n),i=Ie(n);return r.jsx(Ke,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(j.div,{role:"tablist","aria-orientation":a.orientation,...t,ref:o})})});Me.displayName=ze;var Be="TabsTrigger",Oe=l.forwardRef((e,o)=>{const{__scopeTabs:n,value:s,disabled:t=!1,...a}=e,i=$(Be,n),c=Ie(n),d=We(i.baseId,s),f=Ye(i.baseId,s),u=s===i.value;return r.jsx(qe,{asChild:!0,...c,focusable:!t,active:u,children:r.jsx(j.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":f,"data-state":u?"active":"inactive","data-disabled":t?"":void 0,disabled:t,id:d,...a,ref:o,onMouseDown:S(e.onMouseDown,h=>{!t&&h.button===0&&h.ctrlKey===!1?i.onValueChange(s):h.preventDefault()}),onKeyDown:S(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(s)}),onFocus:S(e.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!t&&h&&i.onValueChange(s)})})})});Oe.displayName=Be;var Ve="TabsContent",He=l.forwardRef((e,o)=>{const{__scopeTabs:n,value:s,forceMount:t,children:a,...i}=e,c=$(Ve,n),d=We(c.baseId,s),f=Ye(c.baseId,s),u=s===c.value,h=l.useRef(u);return l.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(I,{present:t||u,children:({present:m})=>r.jsx(j.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:f,tabIndex:0,...i,ref:o,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});He.displayName=Ve;function We(e,o){return`${e}-trigger-${o}`}function Ye(e,o){return`${e}-content-${o}`}var Tr=ke,Xe=Me,_e=Oe,Fe=He;const pe=Tr,U=l.forwardRef(({className:e,...o},n)=>r.jsx(Xe,{ref:n,className:k("inline-flex h-9 items-center justify-center rounded-md bg-black/20 p-1 text-muted-foreground",e),...o}));U.displayName=Xe.displayName;const L=l.forwardRef(({className:e,...o},n)=>r.jsx(_e,{ref:n,className:k("w-full h-7 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-[#6A5AC4] data-[state=active]:font-bold data-[state=active]:shadow-sm",e),...o}));L.displayName=_e.displayName;const Pr=l.forwardRef(({className:e,...o},n)=>r.jsx(Fe,{ref:n,className:k("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...o}));Pr.displayName=Fe.displayName;const Nr=()=>{const e=l.useContext(Je);if(!e)throw new Error("useTotem must be used within a TotemProvider");return e},Er=()=>{const[e,o]=l.useState(Notification.permission!=="granted");return Notification.permission==="granted"?null:Notification.permission==="denied"?r.jsx(se,{open:e,children:r.jsxs(le,{children:[r.jsxs(ae,{children:[r.jsx(ie,{children:"Atenção, você está desprotegido(a)"}),r.jsx(ce,{children:"Parece que você negou a permissão de notificações. Ative as notificações do aplicativo no seu dispositivo."})]}),r.jsx(de,{children:r.jsx(ue,{onClick:()=>o(!1),children:"Entendi, vou corrigir."})})]})}):r.jsx(se,{open:e,children:r.jsxs(le,{children:[r.jsxs(ae,{children:[r.jsx(ie,{children:"Atenção, você está desprotegido(a)"}),r.jsx(ce,{children:"Precisamos de permissão para enviar notificações."})]}),r.jsxs(de,{children:[r.jsx(lr,{onClick:()=>o(!1),children:"Ignorar"}),r.jsx(ue,{onClick:()=>o(!1),children:"Já Permiti"})]})]})})},Fr=()=>{const[e,o]=l.useState("personal"),[n,s]=l.useState("personal"),{user:t,loading:a,setUser:i}=Ze(),c=$e(),{wearables:d,totems:f}=Nr(),u=l.useMemo(()=>d.filter(p=>p.owner!==(t==null?void 0:t.id)),[d,t]),h=l.useMemo(()=>d.filter(p=>p.owner===(t==null?void 0:t.id)),[d,t]),m=l.useMemo(()=>f.filter(p=>p.owner!==(t==null?void 0:t.id)),[f,t]),b=l.useMemo(()=>f.filter(p=>p.owner===(t==null?void 0:t.id)),[f,t]);return l.useEffect(()=>{(async()=>{if(t&&t.first_login)try{const v=await er(t.id,{first_login:!1});if(v.error)throw new Error(v.error.message);console.log("return from edit",v.data[0]),console.log("user before set",t),i(v.data[0]),c("/first-login",{replace:!0})}catch(v){console.error(v),rr.error("Erro ao atualizar status de primeiro login")}})()},[t]),r.jsxs("div",{className:"relative w-full flex flex-col min-h-[38rem] h-[calc(100dvh-4.2rem)] md:h-[calc(100dvh-11rem)] md:-my-1 -my-6 text-white pt-3 sm:pt-5 md:pt-0",children:[r.jsx(Er,{}),r.jsx(oe,{className:"pb-2",title:"Pulseiras",titleAppend:r.jsxs("div",{className:"flex gap-2 border rounded-md px-2 items-center text-lg font-medium",children:[d.length,r.jsx(ge,{className:"w-5 h-5"})]}),endElement:r.jsx(ee,{to:"/dashboard/add-wearable",children:r.jsxs(re,{variant:"secondary",size:"sm",children:["Registrar ",r.jsx(fe,{})]})})}),r.jsx(pe,{defaultValue:"personal",onValueChange:p=>{o(p==="personal"||p==="shared"?p:"personal")},value:e,className:"pb-2",children:r.jsxs(U,{className:"w-full flex justify-center",children:[r.jsx(L,{value:"personal",children:"Minhas"}),r.jsx(L,{value:"shared",children:"Compartilhados"})]})}),e==="personal"?r.jsxs(D,{scrollHideDelay:500,className:"h-full",children:[r.jsx("div",{className:"grid gap-2 sm:gap-3 grid-cols-1 p-1 sm:grid-cols-1 md:grid-cols-2",children:a?r.jsx(Q,{title:"Carregando...",children:r.jsxs("div",{className:"flex items-center p-4 gap-4",children:["Aguarde"," ",r.jsx(ne,{ariaLabel:"loading-spinner",strokeColor:"white",width:"24"})]})}):r.jsx(r.Fragment,{children:h.map((p,v)=>r.jsx(te,{wearable:p},`persona-wearable-${v}`))})}),r.jsx(N,{})]}):r.jsxs(D,{scrollHideDelay:500,className:"h-full",children:[r.jsx("div",{className:"grid gap-2 sm:gap-3 grid-cols-1 p-1 sm:grid-cols-1 md:grid-cols-2",children:a?r.jsx(Q,{title:"Carregando...",children:r.jsxs("div",{className:"flex items-center p-4 gap-4",children:["Aguarde"," ",r.jsx(ne,{ariaLabel:"loading-spinner",strokeColor:"white",width:"24"})]})}):r.jsx(r.Fragment,{children:u.map((p,v)=>r.jsx(te,{wearable:p},`wearableShared-${v}`))})}),r.jsx(N,{})]}),r.jsx(sr,{className:"my-3"}),r.jsxs("div",{className:"flex flex-col justify-between",children:[r.jsx(oe,{className:"pb-2",title:"Totems",titleAppend:r.jsxs("div",{className:"flex gap-2 border rounded-md px-2 items-center text-lg font-medium",children:[f.length,r.jsx(ar,{className:"w-5 h-5"})]}),endElement:r.jsx(ee,{to:"/dashboard/add-totem",children:r.jsxs(re,{variant:"secondary",size:"sm",children:["Registrar ",r.jsx(fe,{})]})})}),r.jsx(pe,{defaultValue:"personal",onValueChange:p=>{s(p==="personal"||p==="shared"?p:"personal")},value:n,className:"pb-2",children:r.jsxs(U,{className:"w-full flex justify-center",children:[r.jsx(L,{value:"personal",children:"Meus"}),r.jsx(L,{value:"shared",children:"Compartilhados"})]})}),n==="personal"?r.jsxs(D,{children:[r.jsx("div",{className:"h-40 sm:h-44 flex gap-2 sm:gap-3 p-1 pb-4",children:b.map((p,v)=>r.jsx("div",{className:"justify-center",children:r.jsx(me,{totem:p})},`totem-${v}`))}),r.jsx(N,{orientation:"horizontal"})]}):r.jsxs(D,{children:[r.jsx("div",{className:"h-40 sm:h-44 flex gap-2 sm:gap-3 p-1 pb-4",children:m.map((p,v)=>r.jsx("div",{className:"justify-center",children:r.jsx(me,{totem:p})},`totemShared-${v}`))}),r.jsx(N,{orientation:"horizontal"})]})]})]})};export{Fr as default};
