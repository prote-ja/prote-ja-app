const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-nJKbajSO.js","assets/formatIncompletePhoneNumber-BA43GEh4.js","assets/index-HvK5UQld.js","assets/react-DDCWQfk_.js","assets/react-dom-DxV6jaKz.js","assets/index-DnW8w1Jn.css","assets/index-D6r3sWpr.js","assets/index-DkU7GfEn.js","assets/index-BK2Vf_L8.js"])))=>i.map(i=>d[i]);
import{c as v,x as P,_ as h,r as m,n as y,j as e,q as _,s as C,B as F,L as k,p as a,y as E,w as L}from"./index-HvK5UQld.js";import{L as t,P as u}from"./PasswordInput-D65mJzSq.js";import{I as d}from"./input-D7nCVh9U.js";import{$ as R}from"./module-v0uYT0l-.js";import{p as I}from"./pt-BR.json-Bqz2tW3U.js";import"./react-DDCWQfk_.js";import"./react-dom-DxV6jaKz.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=v("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),B=P.lazy(()=>h(()=>import("./index-nJKbajSO.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),U=()=>{const[s,c]=m.useState(!1),[o,x]=m.useState(),f=y(),g=async n=>{n.preventDefault();const i=new FormData(n.currentTarget),b=i.get("name"),j=i.get("email"),p=i.get("password"),w=i.get("password-confirm");if(p!==w){a.error("As senhas não coincidem.");return}if(!o){a.error("Preencha o campo de telefone.");return}const l=(await h(()=>import("./index-BK2Vf_L8.js"),__vite__mapDeps([8,1]))).parsePhoneNumber(o);if(console.log("Parsed phone: ",l),!l||!(l.isPossible()&&l.isValid())){a.error("Número de telefone inválido.");return}c(!0);let r;try{r=await E(b,j,o,p)}catch(N){console.error(N),a.error("Erro ao criar usuário.")}if(!r){console.error("Erro ao criar usuário."),a.error("Erro ao criar usuário."),c(!1);return}r.error&&(a.error(L(r.error)),console.error(r.error)),!r.error&&r.data&&(console.log(r.data),a.success("Usuário criado com sucesso."),f("/login")),c(!1)};return e.jsx(_,{className:"col-span-1 lg:col-span-2 p-4",border:!0,children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:[e.jsx("img",{src:C,alt:"proteja-logo",className:"max-h-20"}),e.jsx("h2",{className:" text-center text-3xl font-bold leading-9 tracking-tight text-white",children:"Registrar nova conta"}),e.jsxs("form",{className:"mt-2 space-y-4 w-full text-white",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",className:"block text-sm font-medium leading-6",children:"Nome completo"}),e.jsx(d,{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,disabled:s,className:"bg-white/10 placeholder-white/50 border-white/20 mt-1"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"email",className:"block text-sm font-medium leading-6",children:"Email"}),e.jsx(d,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,disabled:s,className:"bg-white/10 placeholder-white/50 border-white/20 mt-1"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"phone",className:"text-right ",children:"Telefone (WhatsApp)"}),e.jsx(m.Suspense,{fallback:e.jsx("div",{children:"Carregando..."}),children:e.jsx(B,{placeholder:"(99) 99999-9999",value:o,onChange:n=>x(n),defaultCountry:"BR",labels:I,inputComponent:d,className:"col-span-3 placeholder-red-200 text-black",autoComplete:"tel",disabled:s})}),e.jsx("p",{className:"mt-1 text-sm text-muted",children:"Número de WhatsApp para contato."})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password",className:"block text-sm font-medium leading-6",children:"Senha"}),e.jsx(u,{className:"mt-1",disabled:s,name:"password"}),e.jsx("p",{className:"mt-1 text-sm text-muted",children:"A senha deve conter no mínimo 6 caracteres."})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password-confirmation",className:"block text-sm font-medium leading-6",children:"Confirme sua senha"}),e.jsx(u,{className:"mt-1",disabled:s,name:"password-confirm"})]}),e.jsx("div",{children:e.jsx(F,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(R,{ariaLabel:"submitting-spinner",strokeColor:"#7357FF"}),"Criando usuário..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{}),"Registrar"]})})})]}),e.jsxs("p",{className:"mt-10 text-center text-sm text-muted",children:["Já possui uma conta?"," ",e.jsx(k,{to:"/login",className:"font-bold leading-6 text-[#fff] hover:text-primary/20 hover:border-b border-primary/20",viewTransition:!0,children:"Faça login"})]})]})})};export{U as default};
