const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BOE9Axmd.js","assets/formatIncompletePhoneNumber-jKePwQXa.js","assets/index-MZO4qP1k.js","assets/react-D9AjKKxc.js","assets/react-dom-DyK_NDph.js","assets/index-DH8Jfwop.css","assets/index-uSevEnuR.js"])))=>i.map(i=>d[i]);
import{R as A,_ as p,r as c,b as B,j as a,a as I,P as T,B as G,L as P,d as r}from"./index-MZO4qP1k.js";import{L as o,P as h,$ as f,a as E,b as L}from"./helpers-Cio_NZ_0.js";import{I as u}from"./input-CQxrJt0h.js";import{r as j}from"./auth-CX_mlysK.js";import"./react-D9AjKKxc.js";import"./react-dom-DyK_NDph.js";const v={ext:"ext.",country:"País",phone:"Telefone",AB:"Abecásia",AC:"Ilha de Ascensão",AD:"Andora",AE:"Emirados Árabes Unidos",AF:"Afeganistão",AG:"Antígua e Barbuda",AI:"Anguilla",AL:"Albânia",AM:"Arménia",AO:"Angola",AQ:"Antártida",AR:"Argentina",AS:"Samoa Americana",AT:"Áustria",AU:"Austrália",AW:"Aruba",AX:"Ilhas de Aland",AZ:"Azerbaijão",BA:"Bósnia e Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Bélgica",BF:"Burkina Faso",BG:"Bulgária",BH:"Bahrein",BI:"Burundi",BJ:"Benim",BL:"São Bartolomeu",BM:"Bermudas",BN:"Brunei",BO:"Bolívia",BQ:"Países Baixos Caribenhos",BR:"Brasil",BS:"Bahamas",BT:"Butão",BV:"Ilha Bouvet",BW:"Botswana",BY:"Bielorrússia",BZ:"Belize",CA:"Canadá",CC:"Ilhas Cocos (Keeling)",CD:"Congo, República Democrática do",CF:"República Centro-Africana",CG:"Congo",CH:"Suíça",CI:"Costa do Marfim",CK:"Ilhas Cook",CL:"Chile",CM:"Camarões",CN:"China",CO:"Colômbia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Curaçao",CX:"Ilha Christmas",CY:"Chipre",CZ:"República Checa",DE:"Alemanha",DJ:"Djibouti",DK:"Dinamarca",DM:"Dominica",DO:"República Dominicana",DZ:"Argélia",EC:"Equador",EE:"Estónia",EG:"Egito",EH:"Saara Ocidental",ER:"Eritreia",ES:"Espanha",ET:"Etiópia",FI:"Finlândia",FJ:"Fiji",FK:"Ilhas Malvinas",FM:"Micronésia",FO:"Ilhas Faroé",FR:"França",GA:"Gabão",GB:"Reino Unido",GD:"Granada",GE:"Geórgia",GF:"Guiana Francesa",GG:"Guernsey",GH:"Gana",GI:"Gibraltar",GL:"Groenlândia",GM:"Gâmbia",GN:"Guiné",GP:"Guadalupe",GQ:"Guiné Equatorial",GR:"Grécia",GS:"Ilhas Geórgia do Sul e Sandwich do Sul",GT:"Guatemala",GU:"Guam",GW:"Guiné-Bissau",GY:"Guiana",HK:"Hong Kong",HM:"Ilha Heard e Ilhas McDonald",HN:"Honduras",HR:"Croácia",HT:"Haiti",HU:"Hungria",ID:"Indonésia",IE:"Irlanda",IL:"Israel",IM:"Ilha de Man",IN:"Índia",IO:"Território do Oceano Índico Britânico",IQ:"Iraque",IR:"Irã",IS:"Islândia",IT:"Itália",JE:"Jersey",JM:"Jamaica",JO:"Jordânia",JP:"Japão",KE:"Quénia",KG:"Quirguistão",KH:"Camboja",KI:"Kiribati",KM:"Comores",KN:"São Cristóvão e Nevis",KP:"Coreia do Norte",KR:"Coreia do Sul",KW:"Kuwait",KY:"Ilhas Cayman",KZ:"Cazaquistão",LA:"Laos",LB:"Líbano",LC:"Santa Lúcia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesoto",LT:"Lituânia",LU:"Luxemburgo",LV:"Letónia",LY:"Líbia",MA:"Marrocos",MC:"Mónaco",MD:"Moldávia",ME:"Montenegro",MF:"São Martinho (Parte Francesa)",MG:"Madagáscar",MH:"Ilhas Marshall",MK:"Macedónia do Norte",ML:"Mali",MM:"Myanmar",MN:"Mongólia",MO:"Macau",MP:"Ilhas Marianas do Norte",MQ:"Martinica",MR:"Mauritânia",MS:"Montserrat",MT:"Malta",MU:"Maurícia",MV:"Maldivas",MW:"Malawi",MX:"México",MY:"Malásia",MZ:"Moçambique",NA:"Namíbia",NC:"Nova Caledônia",NE:"Níger",NF:"Ilha Norfolk",NG:"Nigéria",NI:"Nicarágua",NL:"Países Baixos",NO:"Noruega",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"Nova Zelândia",OM:"Omã",OS:"Ossétia do Sul",PA:"Panamá",PE:"Peru",PF:"Polinésia Francesa",PG:"Papua-Nova Guiné",PH:"Filipinas",PK:"Paquistão",PL:"Polónia",PM:"Saint-Pierre e Miquelon",PN:"Ilhas Pitcairn",PR:"Porto Rico",PS:"Palestina",PT:"Portugal",PW:"Palau",PY:"Paraguai",QA:"Catar",RE:"Reunião",RO:"Romênia",RS:"Sérvia",RU:"Rússia",RW:"Ruanda",SA:"Arábia Saudita",SB:"Ilhas Salomão",SC:"Seychelles",SD:"Sudão",SE:"Suécia",SG:"Singapura",SH:"Santa Helena",SI:"Eslovênia",SJ:"Svalbard e Jan Mayen",SK:"Eslováquia",SL:"Serra Leoa",SM:"San Marino",SN:"Senegal",SO:"Somália",SR:"Suriname",SS:"Sudão do Sul",ST:"São Tomé e Príncipe",SV:"El Salvador",SX:"Sint Maarten",SY:"Síria",SZ:"Suazilândia",TA:"Tristão da Cunha",TC:"Turks e Caicos",TD:"Chade",TF:"Terras Austrais e Antárticas Francesas",TG:"Togo",TH:"Tailândia",TJ:"Tajiquistão",TK:"Tokelau",TL:"Timor-Leste",TM:"Turcomenistão",TN:"Tunísia",TO:"Tonga",TR:"Turquia",TT:"Trindade e Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzânia",UA:"Ucrânia",UG:"Uganda",UM:"Ilhas Menores Distantes dos Estados Unidos",US:"Estados Unidos",UY:"Uruguai",UZ:"Uzbequistão",VA:"Cidade do Vaticano",VC:"São Vicente e Granadinas",VE:"Venezuela",VG:"Ilhas Virgens Britânicas",VI:"Ilhas Virgens Americanas",VN:"Vietnã",VU:"Vanuatu",WF:"Wallis e Futuna",WS:"Samoa",XK:"Kosovo",YE:"Iêmen",YT:"Mayotte",ZA:"África do Sul",ZM:"Zâmbia",ZW:"Zimbábue",ZZ:"Internacional"},F=A.lazy(()=>p(()=>import("./index-BOE9Axmd.js"),__vite__mapDeps([0,1,2,3,4,5]))),y=()=>{const[i,d]=c.useState(!1),[s,g]=c.useState(),S=B(),C=async n=>{n.preventDefault();const t=new FormData(n.currentTarget),M=t.get("name"),b=t.get("email"),m=t.get("password"),x=t.get("password-confirm");if(m!==x){r.error("As senhas não coincidem.");return}if(!s){r.error("Preencha o campo de telefone.");return}const l=(await p(()=>import("./index-uSevEnuR.js"),__vite__mapDeps([6,1]))).parsePhoneNumber(s);if(console.log("Parsed phone: ",l),!l||!(l.isPossible()&&l.isValid())){r.error("Número de telefone inválido.");return}d(!0);let e;try{e=await j(M,b,s,m)}catch(N){console.error(N),r.error("Erro ao criar usuário.")}if(!e){console.error("Erro ao criar usuário."),r.error("Erro ao criar usuário."),d(!1);return}e.error&&(r.error(L(e.error)),console.error(e.error)),!e.error&&e.data&&(console.log(e.data),r.success("Usuário criado com sucesso."),S("/login")),d(!1)};return a.jsx(I,{className:"col-span-1 lg:col-span-2",children:a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:[a.jsx("img",{src:T,alt:"proteja-logo",className:"max-h-20"}),a.jsx("h2",{className:" text-center text-3xl font-bold leading-9 tracking-tight text-white",children:"Registrar nova conta"}),a.jsxs("form",{className:"mt-2 space-y-4 w-full text-white",onSubmit:C,children:[a.jsxs("div",{children:[a.jsx(o,{htmlFor:"name",className:"block text-sm font-medium leading-6",children:"Nome completo"}),a.jsx(u,{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,disabled:i,className:"bg-white/10 placeholder-white/50 border-white/20 mt-1"})]}),a.jsxs("div",{children:[a.jsx(o,{htmlFor:"email",className:"block text-sm font-medium leading-6",children:"Email"}),a.jsx(u,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,disabled:i,className:"bg-white/10 placeholder-white/50 border-white/20 mt-1"})]}),a.jsxs("div",{children:[a.jsx(o,{htmlFor:"phone",className:"text-right ",children:"Telefone (WhatsApp)"}),a.jsx(c.Suspense,{fallback:a.jsx("div",{children:"Carregando..."}),children:a.jsx(F,{placeholder:"(99) 99999-9999",value:s,onChange:n=>g(n),defaultCountry:"BR",labels:v,inputComponent:u,className:"col-span-3 placeholder-red-200 text-black",autoComplete:"tel",disabled:i})}),a.jsx("p",{className:"mt-1 text-sm text-muted",children:"Número de WhatsApp para contato."})]}),a.jsxs("div",{children:[a.jsx(o,{htmlFor:"password",className:"block text-sm font-medium leading-6",children:"Senha"}),a.jsx(h,{className:"mt-1",disabled:i,name:"password"}),a.jsx("p",{className:"mt-1 text-sm text-muted",children:"A senha deve conter no mínimo 6 caracteres."})]}),a.jsxs("div",{children:[a.jsx(o,{htmlFor:"password-confirmation",className:"block text-sm font-medium leading-6",children:"Confirme sua senha"}),a.jsx(h,{className:"mt-1",disabled:i,name:"password-confirm"})]}),a.jsx("div",{children:a.jsx(G,{type:"submit",className:"w-full bg-[#fff] text-[#7F6AFF] hover:bg-[#c2c2c2c2] mt-1",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(f,{ariaLabel:"submitting-spinner",strokeColor:"#7F6AFF"}),"Criando usuário..."]}):a.jsxs(a.Fragment,{children:[a.jsx(E,{}),"Registrar"]})})})]}),a.jsxs("p",{className:"mt-10 text-center text-sm text-muted",children:["Já possui uma conta?"," ",a.jsx(P,{to:"/login",className:"font-bold leading-6 text-[#fff] hover:text-primary/20 hover:border-b border-primary/20",viewTransition:!0,children:"Faça login"})]})]})})};export{y as default};
