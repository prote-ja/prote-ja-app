const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-gArEEPw8.js","assets/react-C7sMpjI8.js","assets/Home-VxRdGdnW.js","assets/module-P7QP4oB8.js","assets/react-dom-ThsgQk-A.js","assets/NotAuthorized-D4y4XXo8.js","assets/card-Dyvyy0FF.js","assets/Dashboard-wmz75cZs.js","assets/WearableConnectionComponent-V_dv8Mp-.js","assets/WearableAvatar-DPZpsB-m.js","assets/storage-DWOWsA-P.js","assets/link-DCxcCITE.js","assets/ElementTitleHeader-l9NY8iLS.js","assets/HorizontalDivider-DnEWlQu8.js","assets/plus-1oLFldpe.js","assets/satellite-dish-DHRosHDd.js","assets/Pairing-LYRxKb95.js","assets/Login-Cd73uSW9.js","assets/PasswordInput-DHPfDat5.js","assets/input-Di2k4zie.js","assets/eye-BaDmcywV.js","assets/Register-buLyBw9q.js","assets/pt-BR.json-Bqz2tW3U.js","assets/pencil-DpnWQor2.js","assets/Profile-CgcU_3Ge.js","assets/WearableRefreshRate-DmPZwqUO.js","assets/index-yVTYpdoT.js","assets/Backdrop-zm_lKbmh.js","assets/index-C4imkmB7.js","assets/formatIncompletePhoneNumber-jKePwQXa.js","assets/index-D1nAdeZa.js","assets/settings-BWl8hagQ.js","assets/FirstLogin-Cebh5oUW.js","assets/wristband_300-D3ygo3tb.js","assets/totem_300-eE_nJRI7.js","assets/FirstLogin-Bsjj9snX.css","assets/AddTotem-DbJBgQHu.js","assets/devices-DDpPklv1.js","assets/FieldContainerInput-B63IJkAh.js","assets/AddWearable-CXpfvLkM.js","assets/EditWearable-DRBIqik4.js","assets/useWearable-CIujSXNe.js","assets/share-2-C5ZAqUu8.js","assets/OutOfRange-Ce9kKdpp.js","assets/triangle-alert-jtAdcge2.js","assets/phone-call-glkVolRm.js","assets/FallDetected-C_YCjv9L.js","assets/Wearable-CXRXX7UX.js","assets/AlertComponent-De17VkLd.js","assets/AlertPage-bod5URvI.js","assets/BuyPremium-CDbs8E8c.js"])))=>i.map(i=>d[i]);
var Oi=e=>{throw TypeError(e)};var Cs=(e,t,n)=>t.has(e)||Oi("Cannot "+n);var C=(e,t,n)=>(Cs(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?Oi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),D=(e,t,n,r)=>(Cs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ce=(e,t,n)=>(Cs(e,t,"access private method"),n);var vr=(e,t,n,r)=>({set _(s){D(e,t,s,n)},get _(){return C(e,t,r)}});import{r as _c,g as No,a as ah}from"./react-C7sMpjI8.js";import{r as xc}from"./react-dom-ThsgQk-A.js";function ch(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const lh="modulepreload",uh=function(e){return"/prote-ja-app/"+e},ji={},te=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=uh(c),c in ji)return;ji[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":lh,l||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};var Ts={exports:{}},Pn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni;function dh(){if(Ni)return Pn;Ni=1;var e=_c(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,l){var u,h={},f=null,p=null;l!==void 0&&(f=""+l),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)r.call(c,u)&&!o.hasOwnProperty(u)&&(h[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:t,type:a,key:f,ref:p,props:h,_owner:s.current}}return Pn.Fragment=n,Pn.jsx=i,Pn.jsxs=i,Pn}var Di;function hh(){return Di||(Di=1,Ts.exports=dh()),Ts.exports}var v=hh(),d=_c();const O=No(d),fh=ch({__proto__:null,default:O},[d]);var yr={},Li;function ph(){if(Li)return yr;Li=1;var e=xc();return yr.createRoot=e.createRoot,yr.hydrateRoot=e.hydrateRoot,yr}var mh=ph(),Mn={},$i;function gh(){if($i)return Mn;$i=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.parse=i,Mn.serialize=l;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function i(f,p){const g=new o,m=f.length;if(m<2)return g;const y=(p==null?void 0:p.decode)||u;let b=0;do{const w=f.indexOf("=",b);if(w===-1)break;const _=f.indexOf(";",b),x=_===-1?m:_;if(w>x){b=f.lastIndexOf(";",w-1)+1;continue}const E=a(f,b,w),k=c(f,w,E),T=f.slice(E,k);if(g[T]===void 0){let S=a(f,w+1,x),A=c(f,x,S);const R=y(f.slice(S,A));g[T]=R}b=x+1}while(b<m);return g}function a(f,p,g){do{const m=f.charCodeAt(p);if(m!==32&&m!==9)return p}while(++p<g);return g}function c(f,p,g){for(;p>g;){const m=f.charCodeAt(--p);if(m!==32&&m!==9)return p+1}return g}function l(f,p,g){const m=(g==null?void 0:g.encode)||encodeURIComponent;if(!e.test(f))throw new TypeError(`argument name is invalid: ${f}`);const y=m(p);if(!t.test(y))throw new TypeError(`argument val is invalid: ${p}`);let b=f+"="+y;if(!g)return b;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);b+="; Max-Age="+g.maxAge}if(g.domain){if(!n.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);b+="; Domain="+g.domain}if(g.path){if(!r.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);b+="; Path="+g.path}if(g.expires){if(!h(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);b+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(b+="; HttpOnly"),g.secure&&(b+="; Secure"),g.partitioned&&(b+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return b}function u(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function h(f){return s.call(f)==="[object Date]"}return Mn}gh();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fi="popstate";function vh(e={}){function t(s,o){let{pathname:i="/",search:a="",hash:c=""}=Ht(s.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),ro("",{pathname:i,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof o=="string"?o:Yn(o))}function r(s,o){Ae(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return bh(t,n,r,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ae(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yh(){return Math.random().toString(36).substring(2,10)}function Ui(e,t){return{usr:e.state,key:e.key,idx:t}}function ro(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ht(t):t,state:n,key:t&&t.key||r||yh()}}function Yn({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ht(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function bh(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a="POP",c=null,l=u();l==null&&(l=0,i.replaceState({...i.state,idx:l},""));function u(){return(i.state||{idx:null}).idx}function h(){a="POP";let y=u(),b=y==null?null:y-l;l=y,c&&c({action:a,location:m.location,delta:b})}function f(y,b){a="PUSH";let w=ro(m.location,y,b);n(w,y),l=u()+1;let _=Ui(w,l),x=m.createHref(w);try{i.pushState(_,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}o&&c&&c({action:a,location:m.location,delta:1})}function p(y,b){a="REPLACE";let w=ro(m.location,y,b);n(w,y),l=u();let _=Ui(w,l),x=m.createHref(w);i.replaceState(_,"",x),o&&c&&c({action:a,location:m.location,delta:0})}function g(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Yn(y);return w=w.replace(/ $/,"%20"),X(b,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,b)}let m={get action(){return a},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fi,h),c=y,()=>{s.removeEventListener(Fi,h),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(y){return i.go(y)}};return m}function Ec(e,t,n="/"){return wh(e,t,n,!1)}function wh(e,t,n,r){let s=typeof t=="string"?Ht(t):t,o=xt(s.pathname||"/",n);if(o==null)return null;let i=Sc(e);_h(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let l=Mh(o);a=Rh(i[c],l,r)}return a}function Sc(e,t=[],n=[],r=""){let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(X(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let l=nt([r,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(X(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),Sc(o.children,t,u,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:kh(l,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Cc(o.path))s(o,i,c)}),t}function Cc(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Cc(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function _h(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ih(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xh=/^:[\w-]+$/,Eh=3,Sh=2,Ch=1,Th=10,Ah=-2,Bi=e=>e==="*";function kh(e,t){let n=e.split("/"),r=n.length;return n.some(Bi)&&(r+=Ah),t&&(r+=Sh),n.filter(s=>!Bi(s)).reduce((s,o)=>s+(xh.test(o)?Eh:o===""?Ch:Th),r)}function Ih(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Rh(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",h=zr({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=zr({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:nt([o,h.pathname]),pathnameBase:Dh(nt([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=nt([o,h.pathnameBase]))}return i}function zr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ph(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,{paramName:u,isOptional:h},f)=>{if(u==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[u]=void 0:l[u]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:i,pattern:e}}function Ph(e,t=!1,n=!0){Ae(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Mh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ae(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Oh(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ht(e):e;return{pathname:n?n.startsWith("/")?n:jh(n,t):t,search:Lh(r),hash:$h(s)}}function jh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function As(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Do(e){let t=Nh(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Lo(e,t,n,r=!1){let s;typeof e=="string"?s=Ht(e):(s={...e},X(!s.pathname||!s.pathname.includes("?"),As("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),As("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),As("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let c=Oh(s,a),l=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var nt=e=>e.join("/").replace(/\/\/+/g,"/"),Dh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$h=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Tc=["POST","PUT","PATCH","DELETE"];new Set(Tc);var Uh=["GET",...Tc];new Set(Uh);var wn=d.createContext(null);wn.displayName="DataRouter";var ts=d.createContext(null);ts.displayName="DataRouterState";var Ac=d.createContext({isTransitioning:!1});Ac.displayName="ViewTransition";var Bh=d.createContext(new Map);Bh.displayName="Fetchers";var zh=d.createContext(null);zh.displayName="Await";var Be=d.createContext(null);Be.displayName="Navigation";var ur=d.createContext(null);ur.displayName="Location";var Me=d.createContext({outlet:null,matches:[],isDataRoute:!1});Me.displayName="Route";var $o=d.createContext(null);$o.displayName="RouteError";function Hh(e,{relative:t}={}){X(_n(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Be),{hash:s,pathname:o,search:i}=dr(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:nt([n,o])),r.createHref({pathname:a,search:i,hash:s})}function _n(){return d.useContext(ur)!=null}function Oe(){return X(_n(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(ur).location}var kc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ic(e){d.useContext(Be).static||d.useLayoutEffect(e)}function Fo(){let{isDataRoute:e}=d.useContext(Me);return e?sf():Vh()}function Vh(){X(_n(),"useNavigate() may be used only in the context of a <Router> component.");let e=d.useContext(wn),{basename:t,navigator:n}=d.useContext(Be),{matches:r}=d.useContext(Me),{pathname:s}=Oe(),o=JSON.stringify(Do(r)),i=d.useRef(!1);return Ic(()=>{i.current=!0}),d.useCallback((c,l={})=>{if(Ae(i.current,kc),!i.current)return;if(typeof c=="number"){n.go(c);return}let u=Lo(c,JSON.parse(o),s,l.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:nt([t,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[t,n,o,s,e])}var Wh=d.createContext(null);function qh(e){let t=d.useContext(Me).outlet;return t&&d.createElement(Wh.Provider,{value:e},t)}function TS(){let{matches:e}=d.useContext(Me),t=e[e.length-1];return t?t.params:{}}function dr(e,{relative:t}={}){let{matches:n}=d.useContext(Me),{pathname:r}=Oe(),s=JSON.stringify(Do(n));return d.useMemo(()=>Lo(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Kh(e,t){return Rc(e,t)}function Rc(e,t,n,r){var b;X(_n(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Be),{matches:o}=d.useContext(Me),i=o[o.length-1],a=i?i.params:{},c=i?i.pathname:"/",l=i?i.pathnameBase:"/",u=i&&i.route;{let w=u&&u.path||"";Pc(c,!u||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Oe(),f;if(t){let w=typeof t=="string"?Ht(t):t;X(l==="/"||((b=w.pathname)==null?void 0:b.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=h;let p=f.pathname||"/",g=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=Ec(e,{pathname:g});Ae(u||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ae(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Xh(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:nt([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:nt([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&y?d.createElement(ur.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function Gh(){let e=rf(),t=Fh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=d.createElement(d.Fragment,null,d.createElement("p",null,"💿 Hey developer 👋"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:o},"ErrorBoundary")," or"," ",d.createElement("code",{style:o},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,i)}var Yh=d.createElement(Gh,null),Qh=class extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?d.createElement(Me.Provider,{value:this.props.routeContext},d.createElement($o.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jh({routeContext:e,match:t,children:n}){let r=d.useContext(wn);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),d.createElement(Me.Provider,{value:e},n)}function Xh(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id])!==void 0);X(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let l=s[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(a=c),l.route.id){let{loaderData:u,errors:h}=n,f=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!h||h[l.route.id]===void 0);if(l.route.lazy||f){i=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,l,u)=>{let h,f=!1,p=null,g=null;n&&(h=o&&l.route.id?o[l.route.id]:void 0,p=l.route.errorElement||Yh,i&&(a<0&&u===0?(Pc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):a===u&&(f=!0,g=l.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),y=()=>{let b;return h?b=p:f?b=g:l.route.Component?b=d.createElement(l.route.Component,null):l.route.element?b=l.route.element:b=c,d.createElement(Jh,{match:l,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:b})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?d.createElement(Qh,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}function Uo(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zh(e){let t=d.useContext(wn);return X(t,Uo(e)),t}function ef(e){let t=d.useContext(ts);return X(t,Uo(e)),t}function tf(e){let t=d.useContext(Me);return X(t,Uo(e)),t}function Bo(e){let t=tf(e),n=t.matches[t.matches.length-1];return X(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nf(){return Bo("useRouteId")}function rf(){var r;let e=d.useContext($o),t=ef("useRouteError"),n=Bo("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function sf(){let{router:e}=Zh("useNavigate"),t=Bo("useNavigate"),n=d.useRef(!1);return Ic(()=>{n.current=!0}),d.useCallback(async(s,o={})=>{Ae(n.current,kc),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var zi={};function Pc(e,t,n){!t&&!zi[e]&&(zi[e]=!0,Ae(!1,n))}d.memo(of);function of({routes:e,future:t,state:n}){return Rc(e,void 0,n,t)}function AS({to:e,replace:t,state:n,relative:r}){X(_n(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=d.useContext(Be);Ae(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=d.useContext(Me),{pathname:i}=Oe(),a=Fo(),c=Lo(e,Do(o),i,r==="path"),l=JSON.stringify(c);return d.useEffect(()=>{a(JSON.parse(l),{replace:t,state:n,relative:r})},[a,l,r,t,n]),null}function ns(e){return qh(e.context)}function Z(e){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function af({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){X(!_n(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),a=d.useMemo(()=>({basename:i,navigator:s,static:o,future:{}}),[i,s,o]);typeof n=="string"&&(n=Ht(n));let{pathname:c="/",search:l="",hash:u="",state:h=null,key:f="default"}=n,p=d.useMemo(()=>{let g=xt(c,i);return g==null?null:{location:{pathname:g,search:l,hash:u,state:h,key:f},navigationType:r}},[i,c,l,u,h,f,r]);return Ae(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Be.Provider,{value:a},d.createElement(ur.Provider,{children:t,value:p}))}function cf({children:e,location:t}){return Kh(so(e),t)}function so(e,t=[]){let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let o=[...t,s];if(r.type===d.Fragment){n.push.apply(n,so(r.props.children,o));return}X(r.type===Z,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=so(r.props.children,o)),n.push(i)}),n}var Nr="get",Dr="application/x-www-form-urlencoded";function rs(e){return e!=null&&typeof e.tagName=="string"}function lf(e){return rs(e)&&e.tagName.toLowerCase()==="button"}function uf(e){return rs(e)&&e.tagName.toLowerCase()==="form"}function df(e){return rs(e)&&e.tagName.toLowerCase()==="input"}function hf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ff(e,t){return e.button===0&&(!t||t==="_self")&&!hf(e)}function oo(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function pf(e,t){let n=oo(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var br=null;function mf(){if(br===null)try{new FormData(document.createElement("form"),0),br=!1}catch{br=!0}return br}var gf=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ks(e){return e!=null&&!gf.has(e)?(Ae(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dr}"`),null):e}function vf(e,t){let n,r,s,o,i;if(uf(e)){let a=e.getAttribute("action");r=a?xt(a,t):null,n=e.getAttribute("method")||Nr,s=ks(e.getAttribute("enctype"))||Dr,o=new FormData(e)}else if(lf(e)||df(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||a.getAttribute("action");if(r=c?xt(c,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Nr,s=ks(e.getAttribute("formenctype"))||ks(a.getAttribute("enctype"))||Dr,o=new FormData(a,e),!mf()){let{name:l,type:u,value:h}=e;if(u==="image"){let f=l?`${l}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else l&&o.append(l,h)}}else{if(rs(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nr,r=null,s=Dr,i=e}return o&&s==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}function zo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function yf(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bf(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wf(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let i=await yf(o,n);return i.links?i.links():[]}return[]}));return Sf(r.flat(1).filter(bf).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Hi(e,t,n,r,s,o){let i=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,a=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,l)=>i(c,l)||a(c,l)):o==="data"?t.filter((c,l)=>{var h;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,l)||a(c,l))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function _f(e,t){return xf(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function xf(e){return[...new Set(e)]}function Ef(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Sf(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(Ef(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function Cf(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Tf(){let e=d.useContext(wn);return zo(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Af(){let e=d.useContext(ts);return zo(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ho=d.createContext(void 0);Ho.displayName="FrameworkContext";function Mc(){let e=d.useContext(Ho);return zo(e,"You must render this element inside a <HydratedRouter> element"),e}function kf(e,t){let n=d.useContext(Ho),[r,s]=d.useState(!1),[o,i]=d.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:h}=t,f=d.useRef(null);d.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let m=b=>{b.forEach(w=>{i(w.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[e]),d.useEffect(()=>{if(r){let m=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(m)}}},[r]);let p=()=>{s(!0)},g=()=>{s(!1),i(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:On(a,p),onBlur:On(c,g),onMouseEnter:On(l,p),onMouseLeave:On(u,g),onTouchStart:On(h,p)}]:[!1,f,{}]}function On(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function If({page:e,...t}){let{router:n}=Tf(),r=d.useMemo(()=>Ec(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?d.createElement(Pf,{page:e,matches:r,...t}):null}function Rf(e){let{manifest:t,routeModules:n}=Mc(),[r,s]=d.useState([]);return d.useEffect(()=>{let o=!1;return wf(e,t,n).then(i=>{o||s(i)}),()=>{o=!0}},[e,t,n]),r}function Pf({page:e,matches:t,...n}){let r=Oe(),{manifest:s,routeModules:o}=Mc(),{loaderData:i,matches:a}=Af(),c=d.useMemo(()=>Hi(e,t,a,s,r,"data"),[e,t,a,s,r]),l=d.useMemo(()=>Hi(e,t,a,s,r,"assets"),[e,t,a,s,r]),u=d.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(y=>{var w;let b=s.routes[y.route.id];!b||!b.hasLoader||(!c.some(_=>_.route.id===y.route.id)&&y.route.id in i&&((w=o[y.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?g=!0:p.add(y.route.id))}),p.size===0)return[];let m=Cf(e);return g&&p.size>0&&m.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[i,r,s,c,t,e,o]),h=d.useMemo(()=>_f(l,s),[l,s]),f=Rf(l);return d.createElement(d.Fragment,null,u.map(p=>d.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>d.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),f.map(({key:p,link:g})=>d.createElement("link",{key:p,...g})))}function Mf(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Oc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oc&&(window.__reactRouterVersion="7.1.1")}catch{}function Of({basename:e,children:t,window:n}){let r=d.useRef();r.current==null&&(r.current=vh({window:n,v5Compat:!0}));let s=r.current,[o,i]=d.useState({action:s.action,location:s.location}),a=d.useCallback(c=>{d.startTransition(()=>i(c))},[i]);return d.useLayoutEffect(()=>s.listen(a),[s,a]),d.createElement(af,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var jc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=d.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:i,state:a,target:c,to:l,preventScrollReset:u,viewTransition:h,...f},p){let{basename:g}=d.useContext(Be),m=typeof l=="string"&&jc.test(l),y,b=!1;if(typeof l=="string"&&m&&(y=l,Oc))try{let A=new URL(window.location.href),R=l.startsWith("//")?new URL(A.protocol+l):new URL(l),U=xt(R.pathname,g);R.origin===A.origin&&U!=null?l=U+R.search+R.hash:b=!0}catch{Ae(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Hh(l,{relative:s}),[_,x,E]=kf(r,f),k=Lf(l,{replace:i,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:h});function T(A){t&&t(A),A.defaultPrevented||k(A)}let S=d.createElement("a",{...f,...E,href:y||w,onClick:b||o?t:T,ref:Mf(p,x),target:c,"data-discover":!m&&n==="render"?"true":void 0});return _&&!m?d.createElement(d.Fragment,null,S,d.createElement(If,{page:w})):S});qe.displayName="Link";var jf=d.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:i,viewTransition:a,children:c,...l},u){let h=dr(i,{relative:l.relative}),f=Oe(),p=d.useContext(ts),{navigator:g,basename:m}=d.useContext(Be),y=p!=null&&zf(h)&&a===!0,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&m&&(_=xt(_,m)||_);const x=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=w===b||!s&&w.startsWith(b)&&w.charAt(x)==="/",k=_!=null&&(_===b||!s&&_.startsWith(b)&&_.charAt(b.length)==="/"),T={isActive:E,isPending:k,isTransitioning:y},S=E?t:void 0,A;typeof r=="function"?A=r(T):A=[r,E?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(T):o;return d.createElement(qe,{...l,"aria-current":S,className:A,ref:u,style:R,to:i,viewTransition:a},typeof c=="function"?c(T):c)});jf.displayName="NavLink";var Nf=d.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:i=Nr,action:a,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:h,...f},p)=>{let g=Uf(),m=Bf(a,{relative:l}),y=i.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&jc.test(a),w=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let x=_.nativeEvent.submitter,E=(x==null?void 0:x.getAttribute("formmethod"))||i;g(x||_.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:o,relative:l,preventScrollReset:u,viewTransition:h})};return d.createElement("form",{ref:p,method:y,action:m,onSubmit:r?c:w,...f,"data-discover":!b&&e==="render"?"true":void 0})});Nf.displayName="Form";function Df(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nc(e){let t=d.useContext(wn);return X(t,Df(e)),t}function Lf(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:i}={}){let a=Fo(),c=Oe(),l=dr(e,{relative:o});return d.useCallback(u=>{if(ff(u,t)){u.preventDefault();let h=n!==void 0?n:Yn(c)===Yn(l);a(e,{replace:h,state:r,preventScrollReset:s,relative:o,viewTransition:i})}},[c,a,l,n,r,t,e,s,o,i])}function kS(e){Ae(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=d.useRef(oo(e)),n=d.useRef(!1),r=Oe(),s=d.useMemo(()=>pf(r.search,n.current?null:t.current),[r.search]),o=Fo(),i=d.useCallback((a,c)=>{const l=oo(typeof a=="function"?a(s):a);n.current=!0,o("?"+l,c)},[o,s]);return[s,i]}var $f=0,Ff=()=>`__${String(++$f)}__`;function Uf(){let{router:e}=Nc("useSubmit"),{basename:t}=d.useContext(Be),n=nf();return d.useCallback(async(r,s={})=>{let{action:o,method:i,encType:a,formData:c,body:l}=vf(r,t);if(s.navigate===!1){let u=s.fetcherKey||Ff();await e.fetch(u,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||i,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||i,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Bf(e,{relative:t}={}){let{basename:n}=d.useContext(Be),r=d.useContext(Me);X(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...dr(e||".",{relative:t})},i=Oe();if(e==null){o.search=i.search;let a=new URLSearchParams(o.search),c=a.getAll("index");if(c.some(u=>u==="")){a.delete("index"),c.filter(h=>h).forEach(h=>a.append("index",h));let u=a.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:nt([n,o.pathname])),Yn(o)}function zf(e,t={}){let n=d.useContext(Ac);X(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Nc("useViewTransitionState"),s=dr(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=xt(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=xt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zr(s.pathname,i)!=null||zr(s.pathname,o)!=null}new TextEncoder;var ss=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},os=typeof window>"u"||"Deno"in globalThis;function Ne(){}function Hf(e,t){return typeof e=="function"?e(t):e}function Vf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Wf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vi(e,t){return typeof e=="function"?e(t):e}function qf(e,t){return typeof e=="function"?e(t):e}function Wi(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Vo(i,t.options))return!1}else if(!Jn(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function qi(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Qn(t.options.mutationKey)!==Qn(o))return!1}else if(!Jn(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Vo(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qn)(e)}function Qn(e){return JSON.stringify(e,(t,n)=>io(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Jn(e[n],t[n])):!1}function Dc(e,t){if(e===t)return e;const n=Ki(e)&&Ki(t);if(n||io(e)&&io(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let l=0;l<i;l++){const u=n?l:o[l];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,c++):(a[u]=Dc(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Ki(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function io(e){if(!Gi(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gi(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kf(e){return new Promise(t=>{setTimeout(t,e)})}function Gf(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Dc(e,t):t}function Yf(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Qf(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Wo=Symbol();function Lc(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wo?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ot,mt,an,fc,Jf=(fc=class extends ss{constructor(){super();q(this,Ot);q(this,mt);q(this,an);D(this,an,t=>{if(!os&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){C(this,mt)||this.setEventListener(C(this,an))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,mt))==null||t.call(this),D(this,mt,void 0))}setEventListener(t){var n;D(this,an,t),(n=C(this,mt))==null||n.call(this),D(this,mt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){C(this,Ot)!==t&&(D(this,Ot,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof C(this,Ot)=="boolean"?C(this,Ot):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ot=new WeakMap,mt=new WeakMap,an=new WeakMap,fc),$c=new Jf,cn,gt,ln,pc,Xf=(pc=class extends ss{constructor(){super();q(this,cn,!0);q(this,gt);q(this,ln);D(this,ln,t=>{if(!os&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,gt)||this.setEventListener(C(this,ln))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,gt))==null||t.call(this),D(this,gt,void 0))}setEventListener(t){var n;D(this,ln,t),(n=C(this,gt))==null||n.call(this),D(this,gt,t(this.setOnline.bind(this)))}setOnline(t){C(this,cn)!==t&&(D(this,cn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return C(this,cn)}},cn=new WeakMap,gt=new WeakMap,ln=new WeakMap,pc),Hr=new Xf;function Zf(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function ep(e){return Math.min(1e3*2**e,3e4)}function Fc(e){return(e??"online")==="online"?Hr.isOnline():!0}var Uc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Is(e){return e instanceof Uc}function Bc(e){let t=!1,n=0,r=!1,s;const o=Zf(),i=m=>{var y;r||(f(new Uc(m)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},l=()=>$c.isFocused()&&(e.networkMode==="always"||Hr.isOnline())&&e.canRun(),u=()=>Fc(e.networkMode)&&e.canRun(),h=m=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),o.resolve(m))},f=m=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),o.reject(m))},p=()=>new Promise(m=>{var y;s=b=>{(r||l())&&m(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(h).catch(b=>{var k;if(r)return;const w=e.retry??(os?0:3),_=e.retryDelay??ep,x=typeof _=="function"?_(n,b):_,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(t||!E){f(b);return}n++,(k=e.onFail)==null||k.call(e,n,b),Kf(x).then(()=>l()?void 0:p()).then(()=>{t?f(b):g()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),o)}}function tp(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ge=tp(),jt,mc,zc=(mc=class{constructor(){q(this,jt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vf(this.gcTime)&&D(this,jt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(os?1/0:5*60*1e3))}clearGcTimeout(){C(this,jt)&&(clearTimeout(C(this,jt)),D(this,jt,void 0))}},jt=new WeakMap,mc),un,dn,Re,le,cr,Nt,De,Ze,gc,np=(gc=class extends zc{constructor(t){super();q(this,De);q(this,un);q(this,dn);q(this,Re);q(this,le);q(this,cr);q(this,Nt);D(this,Nt,!1),D(this,cr,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Re,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,un,sp(this.options)),this.state=t.state??C(this,un),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,le))==null?void 0:t.promise}setOptions(t){this.options={...C(this,cr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Re).remove(this)}setData(t,n){const r=Gf(this.state.data,t,this.options);return ce(this,De,Ze).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ce(this,De,Ze).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=C(this,le))==null?void 0:r.promise;return(s=C(this,le))==null||s.cancel(t),n?n.then(Ne).catch(Ne):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,un))}isActive(){return this.observers.some(t=>qf(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Wf(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,le))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,le))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Re).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(C(this,le)&&(C(this,Nt)?C(this,le).cancel({revert:!0}):C(this,le).cancelRetry()),this.scheduleGc()),C(this,Re).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,De,Ze).call(this,{type:"invalidate"})}fetch(t,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(C(this,le))return C(this,le).continueRetry(),C(this,le).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(D(this,Nt,!0),r.signal)})},o=()=>{const h=Lc(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),D(this,Nt,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),D(this,dn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=i.fetchOptions)==null?void 0:l.meta))&&ce(this,De,Ze).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const a=h=>{var f,p,g,m;Is(h)&&h.silent||ce(this,De,Ze).call(this,{type:"error",error:h}),Is(h)||((p=(f=C(this,Re).config).onError)==null||p.call(f,h,this),(m=(g=C(this,Re).config).onSettled)==null||m.call(g,this.state.data,h,this)),this.scheduleGc()};return D(this,le,Bc({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,m;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){a(y);return}(p=(f=C(this,Re).config).onSuccess)==null||p.call(f,h,this),(m=(g=C(this,Re).config).onSettled)==null||m.call(g,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{ce(this,De,Ze).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{ce(this,De,Ze).call(this,{type:"pause"})},onContinue:()=>{ce(this,De,Ze).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),C(this,le).start()}},un=new WeakMap,dn=new WeakMap,Re=new WeakMap,le=new WeakMap,cr=new WeakMap,Nt=new WeakMap,De=new WeakSet,Ze=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rp(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Is(s)&&s.revert&&C(this,dn)?{...C(this,dn),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ge.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,Re).notify({query:this,type:"updated",action:t})})},gc);function rp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fc(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var He,vc,op=(vc=class extends ss{constructor(t={}){super();q(this,He);this.config=t,D(this,He,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Vo(s,n);let i=this.get(o);return i||(i=new np({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){C(this,He).has(t.queryHash)||(C(this,He).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=C(this,He).get(t.queryHash);n&&(t.destroy(),n===t&&C(this,He).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,He).get(t)}getAll(){return[...C(this,He).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Wi(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Wi(t,r)):n}notify(t){ge.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},He=new WeakMap,vc),Ve,me,Dt,We,lt,yc,ip=(yc=class extends zc{constructor(t){super();q(this,We);q(this,Ve);q(this,me);q(this,Dt);this.mutationId=t.mutationId,D(this,me,t.mutationCache),D(this,Ve,[]),this.state=t.state||ap(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Ve).includes(t)||(C(this,Ve).push(t),this.clearGcTimeout(),C(this,me).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,Ve,C(this,Ve).filter(n=>n!==t)),this.scheduleGc(),C(this,me).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Ve).length||(this.state.status==="pending"?this.scheduleGc():C(this,me).remove(this))}continue(){var t;return((t=C(this,Dt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,c,l,u,h,f,p,g,m,y,b,w,_,x,E,k,T;D(this,Dt,Bc({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{ce(this,We,lt).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{ce(this,We,lt).call(this,{type:"pause"})},onContinue:()=>{ce(this,We,lt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,me).canRun(this)}));const n=this.state.status==="pending",r=!C(this,Dt).canStart();try{if(!n){ce(this,We,lt).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=C(this,me).config).onMutate)==null?void 0:o.call(s,t,this));const A=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));A!==this.state.context&&ce(this,We,lt).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const S=await C(this,Dt).start();return await((l=(c=C(this,me).config).onSuccess)==null?void 0:l.call(c,S,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,S,t,this.state.context)),await((p=(f=C(this,me).config).onSettled)==null?void 0:p.call(f,S,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,S,null,t,this.state.context)),ce(this,We,lt).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(y=C(this,me).config).onError)==null?void 0:b.call(y,S,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,S,t,this.state.context)),await((E=(x=C(this,me).config).onSettled)==null?void 0:E.call(x,void 0,S,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,S,t,this.state.context)),S}finally{ce(this,We,lt).call(this,{type:"error",error:S})}}finally{C(this,me).runNext(this)}}},Ve=new WeakMap,me=new WeakMap,Dt=new WeakMap,We=new WeakSet,lt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ge.batch(()=>{C(this,Ve).forEach(r=>{r.onMutationUpdate(t)}),C(this,me).notify({mutation:this,type:"updated",action:t})})},yc);function ap(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ee,lr,bc,cp=(bc=class extends ss{constructor(t={}){super();q(this,Ee);q(this,lr);this.config=t,D(this,Ee,new Map),D(this,lr,Date.now())}build(t,n,r){const s=new ip({mutationCache:this,mutationId:++vr(this,lr)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=wr(t),r=C(this,Ee).get(n)??[];r.push(t),C(this,Ee).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=wr(t);if(C(this,Ee).has(n)){const s=(r=C(this,Ee).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?C(this,Ee).delete(n):C(this,Ee).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=C(this,Ee).get(wr(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=C(this,Ee).get(wr(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...C(this,Ee).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>qi(n,r))}findAll(t={}){return this.getAll().filter(n=>qi(t,n))}notify(t){ge.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ge.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ne))))}},Ee=new WeakMap,lr=new WeakMap,bc);function wr(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Yi(e){return{onFetch:(t,n)=>{var u,h,f,p,g;const r=t.options,s=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=Lc(t.options,t.fetchOptions),w=async(_,x,E)=>{if(m)return Promise.reject();if(x==null&&_.pages.length)return Promise.resolve(_);const k={queryKey:t.queryKey,pageParam:x,direction:E?"backward":"forward",meta:t.options.meta};y(k);const T=await b(k),{maxPages:S}=t.options,A=E?Qf:Yf;return{pages:A(_.pages,T,S),pageParams:A(_.pageParams,x,S)}};if(s&&o.length){const _=s==="backward",x=_?lp:Qi,E={pages:o,pageParams:i},k=x(r,E);a=await w(E,k,_)}else{const _=e??o.length;do{const x=c===0?i[0]??r.initialPageParam:Qi(r,a);if(c>0&&x==null)break;a=await w(a,x),c++}while(c<_)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,l,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function Qi(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function lp(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ee,vt,yt,hn,fn,bt,pn,mn,wc,up=(wc=class{constructor(e={}){q(this,ee);q(this,vt);q(this,yt);q(this,hn);q(this,fn);q(this,bt);q(this,pn);q(this,mn);D(this,ee,e.queryCache||new op),D(this,vt,e.mutationCache||new cp),D(this,yt,e.defaultOptions||{}),D(this,hn,new Map),D(this,fn,new Map),D(this,bt,0)}mount(){vr(this,bt)._++,C(this,bt)===1&&(D(this,pn,$c.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,ee).onFocus())})),D(this,mn,Hr.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,ee).onOnline())})))}unmount(){var e,t;vr(this,bt)._--,C(this,bt)===0&&((e=C(this,pn))==null||e.call(this),D(this,pn,void 0),(t=C(this,mn))==null||t.call(this),D(this,mn,void 0))}isFetching(e){return C(this,ee).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,vt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,ee).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=C(this,ee).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vi(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return C(this,ee).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=C(this,ee).get(r.queryHash),o=s==null?void 0:s.state.data,i=Hf(t,o);if(i!==void 0)return C(this,ee).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ge.batch(()=>C(this,ee).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,ee).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=C(this,ee);ge.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=C(this,ee),r={type:"active",...e};return ge.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ge.batch(()=>C(this,ee).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ne).catch(Ne)}invalidateQueries(e,t={}){return ge.batch(()=>{if(C(this,ee).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const n={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(n,t)})}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ge.batch(()=>C(this,ee).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ne)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ne)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=C(this,ee).build(this,t);return n.isStaleByTime(Vi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ne).catch(Ne)}fetchInfiniteQuery(e){return e.behavior=Yi(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ne).catch(Ne)}ensureInfiniteQueryData(e){return e.behavior=Yi(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hr.isOnline()?C(this,vt).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,ee)}getMutationCache(){return C(this,vt)}getDefaultOptions(){return C(this,yt)}setDefaultOptions(e){D(this,yt,e)}setQueryDefaults(e,t){C(this,hn).set(Qn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,hn).values()],n={};return t.forEach(r=>{Jn(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){C(this,fn).set(Qn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,fn).values()];let n={};return t.forEach(r=>{Jn(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,yt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wo&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,yt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,ee).clear(),C(this,vt).clear()}},ee=new WeakMap,vt=new WeakMap,yt=new WeakMap,hn=new WeakMap,fn=new WeakMap,bt=new WeakMap,pn=new WeakMap,mn=new WeakMap,wc),dp=d.createContext(void 0),hp=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),v.jsx(dp.Provider,{value:e,children:t}));function Hc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Hc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ge(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Hc(e))&&(r&&(r+=" "),r+=t);return r}const Xn=e=>typeof e=="number"&&!isNaN(e),Lt=e=>typeof e=="string",Ce=e=>typeof e=="function",Lr=e=>Lt(e)||Ce(e)?e:null,ao=e=>d.isValidElement(e)||Lt(e)||Ce(e)||Xn(e);function fp(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function is(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(i){let{children:a,position:c,preventExitTransition:l,done:u,nodeRef:h,isIn:f,playToast:p}=i;const g=r?`${t}--${c}`:t,m=r?`${n}--${c}`:n,y=d.useRef(0);return d.useLayoutEffect(()=>{const b=h.current,w=g.split(" "),_=x=>{x.target===h.current&&(p(),b.removeEventListener("animationend",_),b.removeEventListener("animationcancel",_),y.current===0&&x.type!=="animationcancel"&&b.classList.remove(...w))};b.classList.add(...w),b.addEventListener("animationend",_),b.addEventListener("animationcancel",_)},[]),d.useEffect(()=>{const b=h.current,w=()=>{b.removeEventListener("animationend",w),s?fp(b,u,o):u()};f||(l?w():(y.current=1,b.className+=` ${m}`,b.addEventListener("animationend",w)))},[f]),O.createElement(O.Fragment,null,a)}}function Ji(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ve=new Map;let Zn=[];const co=new Set,pp=e=>co.forEach(t=>t(e)),Vc=()=>ve.size>0;function Wc(e,t){var n;if(t)return!((n=ve.get(t))==null||!n.isToastActive(e));let r=!1;return ve.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function qc(e,t){ao(e)&&(Vc()||Zn.push({content:e,options:t}),ve.forEach(n=>{n.buildToast(e,t)}))}function Xi(e,t){ve.forEach(n=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===n.id&&n.toggle(e,t==null?void 0:t.id):n.toggle(e,t==null?void 0:t.id)})}function mp(e){const{subscribe:t,getSnapshot:n,setProps:r}=d.useRef(function(o){const i=o.containerId||1;return{subscribe(a){const c=function(u,h,f){let p=1,g=0,m=[],y=[],b=[],w=h;const _=new Map,x=new Set,E=()=>{b=Array.from(_.values()),x.forEach(S=>S())},k=S=>{y=S==null?[]:y.filter(A=>A!==S),E()},T=S=>{const{toastId:A,onOpen:R,updateId:U,children:P}=S.props,z=U==null;S.staleId&&_.delete(S.staleId),_.set(A,S),y=[...y,S.props.toastId].filter(N=>N!==S.staleId),E(),f(Ji(S,z?"added":"updated")),z&&Ce(R)&&R(d.isValidElement(P)&&P.props)};return{id:u,props:w,observe:S=>(x.add(S),()=>x.delete(S)),toggle:(S,A)=>{_.forEach(R=>{A!=null&&A!==R.props.toastId||Ce(R.toggle)&&R.toggle(S)})},removeToast:k,toasts:_,clearQueue:()=>{g-=m.length,m=[]},buildToast:(S,A)=>{if((ne=>{let{containerId:re,toastId:oe,updateId:he}=ne;const fe=re?re!==u:u!==1,pe=_.has(oe)&&he==null;return fe||pe})(A))return;const{toastId:R,updateId:U,data:P,staleId:z,delay:N}=A,G=()=>{k(R)},F=U==null;F&&g++;const H={...w,style:w.toastStyle,key:p++,...Object.fromEntries(Object.entries(A).filter(ne=>{let[re,oe]=ne;return oe!=null})),toastId:R,updateId:U,data:P,closeToast:G,isIn:!1,className:Lr(A.className||w.toastClassName),bodyClassName:Lr(A.bodyClassName||w.bodyClassName),progressClassName:Lr(A.progressClassName||w.progressClassName),autoClose:!A.isLoading&&(M=A.autoClose,I=w.autoClose,M===!1||Xn(M)&&M>0?M:I),deleteToast(){const ne=_.get(R),{onClose:re,children:oe}=ne.props;Ce(re)&&re(d.isValidElement(oe)&&oe.props),f(Ji(ne,"removed")),_.delete(R),g--,g<0&&(g=0),m.length>0?T(m.shift()):E()}};var M,I;H.closeButton=w.closeButton,A.closeButton===!1||ao(A.closeButton)?H.closeButton=A.closeButton:A.closeButton===!0&&(H.closeButton=!ao(w.closeButton)||w.closeButton);let V=S;d.isValidElement(S)&&!Lt(S.type)?V=d.cloneElement(S,{closeToast:G,toastProps:H,data:P}):Ce(S)&&(V=S({closeToast:G,toastProps:H,data:P}));const W={content:V,props:H,staleId:z};w.limit&&w.limit>0&&g>w.limit&&F?m.push(W):Xn(N)?setTimeout(()=>{T(W)},N):T(W)},setProps(S){w=S},setToggle:(S,A)=>{_.get(S).toggle=A},isToastActive:S=>y.some(A=>A===S),getSnapshot:()=>b}}(i,o,pp);ve.set(i,c);const l=c.observe(a);return Zn.forEach(u=>qc(u.content,u.options)),Zn=[],()=>{l(),ve.delete(i)}},setProps(a){var c;(c=ve.get(i))==null||c.setProps(a)},getSnapshot(){var a;return(a=ve.get(i))==null?void 0:a.getSnapshot()}}}(e)).current;r(e);const s=d.useSyncExternalStore(t,n,n);return{getToastToRender:function(o){if(!s)return[];const i=new Map;return e.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:c}=a.props;i.has(c)||i.set(c,[]),i.get(c).push(a)}),Array.from(i,a=>o(a[0],a[1]))},isToastActive:Wc,count:s==null?void 0:s.length}}function gp(e){const[t,n]=d.useState(!1),[r,s]=d.useState(!1),o=d.useRef(null),i=d.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:l,onClick:u,closeOnClick:h}=e;var f,p;function g(){n(!0)}function m(){n(!1)}function y(_){const x=o.current;i.canDrag&&x&&(i.didMove=!0,t&&m(),i.delta=e.draggableDirection==="x"?_.clientX-i.start:_.clientY-i.start,i.start!==_.clientX&&(i.canCloseOnClick=!1),x.style.transform=`translate3d(${e.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function b(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",b);const _=o.current;if(i.canDrag&&i.didMove&&_){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return s(!0),e.closeToast(),void e.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(p=ve.get((f={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||p.setToggle(f.id,f.fn),d.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}},[e.pauseOnFocusLoss]);const w={onPointerDown:function(_){if(e.draggable===!0||e.draggable===_.pointerType){i.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",b);const x=o.current;i.canCloseOnClick=!0,i.canDrag=!0,x.style.transition="none",e.draggableDirection==="x"?(i.start=_.clientX,i.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(i.start=_.clientY,i.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(_){const{top:x,bottom:E,left:k,right:T}=o.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=k&&_.clientX<=T&&_.clientY>=x&&_.clientY<=E?m():g()}};return a&&c&&(w.onMouseEnter=m,e.stacked||(w.onMouseLeave=g)),h&&(w.onClick=_=>{u&&u(_),i.canCloseOnClick&&l()}),{playToast:g,pauseToast:m,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:w}}function vp(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:o,className:i,style:a,controlledProgress:c,progress:l,rtl:u,isIn:h,theme:f}=e;const p=o||c&&l===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};c&&(g.transform=`scaleX(${l})`);const m=Ge("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),y=Ce(i)?i({rtl:u,type:s,defaultClassName:m}):Ge(m,i),b={[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{h&&r()}};return O.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},O.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),O.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:g,...b}))}let yp=1;const Kc=()=>""+yp++;function bp(e){return e&&(Lt(e.toastId)||Xn(e.toastId))?e.toastId:Kc()}function qn(e,t){return qc(e,t),t.toastId}function Vr(e,t){return{...t,type:t&&t.type||e,toastId:bp(t)}}function _r(e){return(t,n)=>qn(t,Vr(e,n))}function K(e,t){return qn(e,Vr("default",t))}K.loading=(e,t)=>qn(e,Vr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),K.promise=function(e,t,n){let r,{pending:s,error:o,success:i}=t;s&&(r=Lt(s)?K.loading(s,n):K.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,h,f)=>{if(h==null)return void K.dismiss(r);const p={type:u,...a,...n,data:f},g=Lt(h)?{render:h}:h;return r?K.update(r,{...p,...g}):K(g.render,{...p,...g}),f},l=Ce(e)?e():e;return l.then(u=>c("success",i,u)).catch(u=>c("error",o,u)),l},K.success=_r("success"),K.info=_r("info"),K.error=_r("error"),K.warning=_r("warning"),K.warn=K.warning,K.dark=(e,t)=>qn(e,Vr("default",{theme:"dark",...t})),K.dismiss=function(e){(function(t){var n;if(Vc()){if(t==null||Lt(n=t)||Xn(n))ve.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=ve.get(t.containerId);r?r.removeToast(t.id):ve.forEach(s=>{s.removeToast(t.id)})}}else Zn=Zn.filter(r=>t!=null&&r.options.toastId!==t)})(e)},K.clearWaitingQueue=function(e){e===void 0&&(e={}),ve.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},K.isActive=Wc,K.update=function(e,t){t===void 0&&(t={});const n=((r,s)=>{var o;let{containerId:i}=s;return(o=ve.get(i||1))==null?void 0:o.toasts.get(r)})(e,t);if(n){const{props:r,content:s}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:Kc()};o.toastId!==e&&(o.staleId=e);const i=o.render||s;delete o.render,qn(i,o)}},K.done=e=>{K.update(e,{progress:1})},K.onChange=function(e){return co.add(e),()=>{co.delete(e)}},K.play=e=>Xi(!0,e),K.pause=e=>Xi(!1,e);const wp=typeof window<"u"?d.useLayoutEffect:d.useEffect,xr=e=>{let{theme:t,type:n,isLoading:r,...s}=e;return O.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Rs={info:function(e){return O.createElement(xr,{...e},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return O.createElement(xr,{...e},O.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return O.createElement(xr,{...e},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return O.createElement(xr,{...e},O.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return O.createElement("div",{className:"Toastify__spinner"})}},_p=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:o}=gp(e),{closeButton:i,children:a,autoClose:c,onClick:l,type:u,hideProgressBar:h,closeToast:f,transition:p,position:g,className:m,style:y,bodyClassName:b,bodyStyle:w,progressClassName:_,progressStyle:x,updateId:E,role:k,progress:T,rtl:S,toastId:A,deleteToast:R,isIn:U,isLoading:P,closeOnClick:z,theme:N}=e,G=Ge("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":z}),F=Ce(m)?m({rtl:S,position:g,type:u,defaultClassName:G}):Ge(G,m),H=function(W){let{theme:ne,type:re,isLoading:oe,icon:he}=W,fe=null;const pe={theme:ne,type:re};return he===!1||(Ce(he)?fe=he({...pe,isLoading:oe}):d.isValidElement(he)?fe=d.cloneElement(he,pe):oe?fe=Rs.spinner():(At=>At in Rs)(re)&&(fe=Rs[re](pe))),fe}(e),M=!!T||!c,I={closeToast:f,type:u,theme:N};let V=null;return i===!1||(V=Ce(i)?i(I):d.isValidElement(i)?d.cloneElement(i,I):function(W){let{closeToast:ne,theme:re,ariaLabel:oe="close"}=W;return O.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:he=>{he.stopPropagation(),ne(he)},"aria-label":oe},O.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},O.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(I)),O.createElement(p,{isIn:U,done:R,position:g,preventExitTransition:n,nodeRef:r,playToast:o},O.createElement("div",{id:A,onClick:l,"data-in":U,className:F,...s,style:y,ref:r},O.createElement("div",{...U&&{role:k},className:Ce(b)?b({type:u}):Ge("Toastify__toast-body",b),style:w},H!=null&&O.createElement("div",{className:Ge("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},H),O.createElement("div",null,a)),V,O.createElement(vp,{...E&&!M?{key:`pb-${E}`}:{},rtl:S,theme:N,delay:c,isRunning:t,isIn:U,closeToast:f,hide:h,type:u,style:x,className:_,controlledProgress:M,progress:T||0})))},as=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},xp=is(as("bounce",!0));is(as("slide",!0));is(as("zoom"));is(as("flip"));const Ep={position:"top-right",transition:xp,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Sp(e){let t={...Ep,...e};const n=e.stacked,[r,s]=d.useState(!0),o=d.useRef(null),{getToastToRender:i,isToastActive:a,count:c}=mp(t),{className:l,style:u,rtl:h,containerId:f}=t;function p(m){const y=Ge("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":h});return Ce(l)?l({position:m,rtl:h,defaultClassName:y}):Ge(y,Lr(l))}function g(){n&&(s(!0),K.play())}return wp(()=>{if(n){var m;const y=o.current.querySelectorAll('[data-in="true"]'),b=12,w=(m=t.position)==null?void 0:m.includes("top");let _=0,x=0;Array.from(y).reverse().forEach((E,k)=>{const T=E;T.classList.add("Toastify__toast--stacked"),k>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=w?"top":"bot");const S=_*(r?.2:1)+(r?0:b*k);T.style.setProperty("--y",`${w?S:-1*S}px`),T.style.setProperty("--g",`${b}`),T.style.setProperty("--s",""+(1-(r?x:0))),_+=T.offsetHeight,x+=.025})}},[r,c,n]),O.createElement("div",{ref:o,className:"Toastify",id:f,onMouseEnter:()=>{n&&(s(!1),K.pause())},onMouseLeave:g},i((m,y)=>{const b=y.length?{...u}:{...u,pointerEvents:"none"};return O.createElement("div",{className:p(m),style:b,key:`container-${m}`},y.map(w=>{let{content:_,props:x}=w;return O.createElement(_p,{...x,stacked:n,collapseAll:g,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},_)}))}))}const Cp="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz4NCjxzdmcgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDgxIDU3MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Im0yMzYuNSAxMy41YzEuNjk5LTAuMTYwMiAzLjM2NiAwLjAwNjUgNSAwLjUgMTQuMjM4IDkuMjg3NSAyOS4yMzggMTcuMjg4IDQ1IDI0IDUzLjM3MSAyMS42MDkgMTA4LjcgMzUuNjA5IDE2NiA0MiA2Ljg1OSAyLjg1ODkgMTEuNjkyIDcuNjkyMyAxNC41IDE0LjUgMi4wNTkgNDQuNjY4IDEuNzI2IDg5LjMzNS0xIDEzNC05Ljk3OCAxMjIuMTgtNjIuODExIDIyMC4zNC0xNTguNSAyOTQuNS0xOS4xMjggMTQuMDc2LTM5LjQ2MSAyNi40MDktNjEgMzctMi4yNDQgMC45MDYtNC41NzcgMS40MDYtNyAxLjUtNTUuMzA2LTIzLjU4OS0xMDEuODEtNTguOTIyLTEzOS41LTEwNi01NS4yNjYtNjguNzUyLTg0Ljc2Ni0xNDcuNTktODguNS0yMzYuNSAwLjYzMzktNC44NCAxLjMwMDYtOS42NzQgMi0xNC41IDAuMzY3OC0xLjQxIDEuMjAxMS0yLjQxIDIuNS0zIDEuNjY2NyAxLjMzMyAzLjMzMzMgMi42NjcgNSA0IDUuNjU2OCAxMi4zMjEgMTQuMTU3IDIyLjE1NSAyNS41IDI5LjUgMS44NTg5IDEuNTU4IDMuMzU4OSAzLjM5MSA0LjUgNS41IDIuNzQgMjQuNyA3LjQwNjcgNDkuMDM0IDE0IDczIDcuNjg0NiAyMy43MzIgMTcuNjg1IDQ2LjM5OSAzMCA2OCAxLjE2NjcgMS4xNjcgMi4zMzMzIDIuMzMzIDMuNSAzLjUgNjAuMzE2IDIuNzYxIDEwNi44Mi0yMC43MzkgMTM5LjUtNzAuNSAwLjk5MS0xLjk0NyAxLjMyNS0zLjk0NyAxLTYtMTUuNTA5IDcuOTAyLTMyLjE3NiAxMS4yMzUtNTAgMTAtMzUuMDc4IDAuNTUyLTYxLjI0NS0xNC4yODEtNzguNS00NC41bDEtMWM5LjgzNCAyLjYyNCAxOS44MzQgNC45NTcgMzAgNyAxOS45NjUgMi44NTYgMzkuMjk4IDAuNTIyIDU4LTcgMi40OTMtMi4wOCA1LjE1OS0zLjkxNCA4LTUuNSAxLjYyMy0xLjYxMyAyLjc5LTMuMjggMy41LTUtMS40Ni0xLjkyMi0zLjEyNy0yLjU4OS01LTItMjAuNDA2IDYuMTI2LTQxLjIzOSA2LjYyNi02Mi41IDEuNS01NS45ODQtMTIuNjMtOTMuMTUxLTQ2LjQ2My0xMTEuNS0xMDEuNS0yLjMyNDQtNy44NTQtMi45OTEtMTUuODU0LTItMjQgMC4zMDc2LTAuODA4IDAuODA3Ni0xLjQ3NSAxLjUtMiA1LjgxMiAyLjk0NCAxMC4zMTIgNy4yNzcgMTMuNSAxMyAzMi43MzcgMzIuMjQgNzEuOTA0IDQ3LjA3MyAxMTcuNSA0NC41IDIuOTU2LTAuOTYyIDUuMjktMi42MjggNy01LTEuMDItMi4wMjYtMi42ODctMy4zNTktNS00LTQ0LjM1OS03LjA5NC04MS44NTktMjYuOTI3LTExMi41LTU5LjUtMTIuOTk1LTE2LjgyNy0yMS44MjktMzUuNjYtMjYuNS01Ni41IDAuMTQ0OC0xLjIyNTkgMC40NzgxLTIuMzkyNiAxLTMuNS0yLjg0Ny0xMy4xMDgtMi4zNDctMjYuMTA4IDEuNS0zOSAxLjE2NjItMy4wMDMyIDIuODMyOC01LjY2OTggNS04IDEuNTEyMiAwLjc1NjcgMi44NDU1IDEuNzU2NyA0IDMgMjYgNDIgNjAuNSA3NS4xNjYgMTAzLjUgOTkuNSAyNC40MzMgMTIuMDg0IDQ5LjEgMjMuNzUxIDc0IDM1IDE5Ljk5OSAxMC42NjYgMzYuMTY2IDI1LjUgNDguNSA0NC41IDMuMjAyIDYuNjE3IDYuMjAyIDEzLjI4NCA5IDIwIDEuNTg5LTMuMjU3IDMuMDg5LTYuNTkgNC41LTEwLTAuMzMzLTAuNjY3LTAuNjY3LTEuMzMzLTEtMiAwLjgwMy03Ljk1MSAxLjMwMy0xNS45NTEgMS41LTI0IDAuNzQ3LTI1LjMxMyAxMi41ODEtNDMuMTQ2IDM1LjUtNTMuNSAxNy4yNS00Ljg5IDMyLjkxNy0xLjg5IDQ3IDkgOS4zNTggMS42ODQgMTguMDI0IDUuMDE4IDI2IDEwIDEuODUxIDEuNjg0IDMuNTE4IDMuNTE3IDUgNS41bC0xLjUgM2MtMjYuMjM2IDQuNzUzLTM2LjkwMyAyMC40Mi0zMiA0NyAyLjg2NyAxMy4xMzQgNi4yIDI2LjEzNCAxMCAzOSA3LjcxIDUyLjU1LTguNzkgOTUuNzE3LTQ5LjUgMTI5LjUtMzUuNjg1IDI3Ljc5Mi03Ni4zNTEgNDIuNzkyLTEyMiA0NS0xNS41ODYgMTEuOTE1LTMwLjU4NiAyNC41ODItNDUgMzggMjUuMTc4IDI3LjUyMyA1NC42NzggNDkuMzU2IDg4LjUgNjUuNSA3Mi4zMDEtMzcuOTY4IDEyNC45Ny05NC4zMDEgMTU4LTE2OSAyMi4yODUtNTQuNzYgMzMuMjg1LTExMS43NiAzMy0xNzEgMC42NjctMjEuMzMzIDAuNjY3LTQyLjY2NyAwLTY0LTY3LjA4My03LjY5Ni0xMzAuNzUtMjYuNjk2LTE5MS01Ny0yOS4yNzYgMTQuNDI1LTU5LjYxIDI2LjA5Mi05MSAzNS0zLjIxMi0xLjM1NTQtNi4zNzgtMi44NTU0LTkuNS00LjUtNS44NzQtNS41NDI5LTEyLjA0MS0xMC43MS0xOC41LTE1LjUtMS41ODYtMi4xNzA1LTIuOTItNC41MDM4LTQtNy0wLjc5OC0xLjc1ODgtMC42MzEtMy40MjU1IDAuNS01IDM2LjkyLTguOTE3NSA3Mi4yNTMtMjIuMDg0IDEwNi0zOS41IDQuNTU5LTMuNDM3MSA5LjIyNi02LjYwMzcgMTQtOS41eiIgZmlsbD0iI2ZlZmZmZSIgb3BhY2l0eT0iLjkyOSIvPg0KPC9zdmc+DQo=",Tp="/prote-ja-app/assets/proteja_name-D6S49Xxc.svg";function Zi(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cs(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Zi(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Zi(e[s],null)}}}}function ue(...e){return d.useCallback(cs(...e),e)}var gn=d.forwardRef((e,t)=>{const{children:n,...r}=e,s=d.Children.toArray(n),o=s.find(Ap);if(o){const i=o.props.children,a=s.map(c=>c===o?d.Children.count(i)>1?d.Children.only(null):d.isValidElement(i)?i.props.children:null:c);return v.jsx(lo,{...r,ref:t,children:d.isValidElement(i)?d.cloneElement(i,void 0,a):null})}return v.jsx(lo,{...r,ref:t,children:n})});gn.displayName="Slot";var lo=d.forwardRef((e,t)=>{const{children:n,...r}=e;if(d.isValidElement(n)){const s=Ip(n);return d.cloneElement(n,{...kp(r,n.props),ref:t?cs(t,s):s})}return d.Children.count(n)>1?d.Children.only(null):null});lo.displayName="SlotClone";var Gc=({children:e})=>v.jsx(v.Fragment,{children:e});function Ap(e){return d.isValidElement(e)&&e.type===Gc}function kp(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Ip(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const ea=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ta=Ge,Rp=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ta(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],h=o==null?void 0:o[l];if(u===null)return null;const f=ea(u)||ea(h);return s[l][f]}),a=n&&Object.entries(n).reduce((l,u)=>{let[h,f]=u;return f===void 0||(l[h]=f),l},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...o,...a}[m]):{...o,...a}[m]===y})?[...l,h,f]:l},[]);return ta(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},qo="-",Pp=e=>{const t=Op(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(qo);return a[0]===""&&a.length!==1&&a.shift(),Yc(a,t)||Mp(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},Yc=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Yc(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(qo);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},na=/^\[(.+)\]$/,Mp=e=>{if(na.test(e)){const t=na.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Op=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Np(Object.entries(e.classGroups),n).forEach(([o,i])=>{uo(i,r,o,t)}),r},uo=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:ra(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(jp(s)){uo(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{uo(i,ra(t,o),n,r)})})},ra=(e,t)=>{let n=e;return t.split(qo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jp=e=>e.isThemeGetter,Np=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,Dp=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Qc="!",Lp=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let l=0,u=0,h;for(let y=0;y<a.length;y++){let b=a[y];if(l===0){if(b===s&&(r||a.slice(y,y+o)===t)){c.push(a.slice(u,y)),u=y+o;continue}if(b==="/"){h=y;continue}}b==="["?l++:b==="]"&&l--}const f=c.length===0?a:a.substring(u),p=f.startsWith(Qc),g=p?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},$p=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Fp=e=>({cache:Dp(e.cacheSize),parseClassName:Lp(e),...Pp(e)}),Up=/\s+/,Bp=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Up);let a="";for(let c=i.length-1;c>=0;c-=1){const l=i[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(l);let g=!!p,m=r(g?f.substring(0,p):f);if(!m){if(!g){a=l+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=l+(a.length>0?" "+a:a);continue}g=!1}const y=$p(u).join(":"),b=h?y+Qc:y,w=b+m;if(o.includes(w))continue;o.push(w);const _=s(m,g);for(let x=0;x<_.length;++x){const E=_[x];o.push(b+E)}a=l+(a.length>0?" "+a:a)}return a};function zp(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Jc(t))&&(r&&(r+=" "),r+=n);return r}const Jc=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Jc(e[r]))&&(n&&(n+=" "),n+=t);return n};function Hp(e,...t){let n,r,s,o=i;function i(c){const l=t.reduce((u,h)=>h(u),e());return n=Fp(l),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=Bp(c,n);return s(c,u),u}return function(){return o(zp.apply(null,arguments))}}const Q=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Xc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vp=/^\d+\/\d+$/,Wp=new Set(["px","full","screen"]),qp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xe=e=>tn(e)||Wp.has(e)||Vp.test(e),at=e=>xn(e,"length",sm),tn=e=>!!e&&!Number.isNaN(Number(e)),Ps=e=>xn(e,"number",tn),jn=e=>!!e&&Number.isInteger(Number(e)),Jp=e=>e.endsWith("%")&&tn(e.slice(0,-1)),j=e=>Xc.test(e),ct=e=>qp.test(e),Xp=new Set(["length","size","percentage"]),Zp=e=>xn(e,Xp,Zc),em=e=>xn(e,"position",Zc),tm=new Set(["image","url"]),nm=e=>xn(e,tm,im),rm=e=>xn(e,"",om),Nn=()=>!0,xn=(e,t,n)=>{const r=Xc.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},sm=e=>Kp.test(e)&&!Gp.test(e),Zc=()=>!1,om=e=>Yp.test(e),im=e=>Qp.test(e),am=()=>{const e=Q("colors"),t=Q("spacing"),n=Q("blur"),r=Q("brightness"),s=Q("borderColor"),o=Q("borderRadius"),i=Q("borderSpacing"),a=Q("borderWidth"),c=Q("contrast"),l=Q("grayscale"),u=Q("hueRotate"),h=Q("invert"),f=Q("gap"),p=Q("gradientColorStops"),g=Q("gradientColorStopPositions"),m=Q("inset"),y=Q("margin"),b=Q("opacity"),w=Q("padding"),_=Q("saturate"),x=Q("scale"),E=Q("sepia"),k=Q("skew"),T=Q("space"),S=Q("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",j,t],P=()=>[j,t],z=()=>["",Xe,at],N=()=>["auto",tn,j],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",j],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[tn,j];return{cacheSize:500,separator:":",theme:{colors:[Nn],spacing:[Xe,at],blur:["none","",ct,j],brightness:W(),borderColor:[e],borderRadius:["none","","full",ct,j],borderSpacing:P(),borderWidth:z(),contrast:W(),grayscale:I(),hueRotate:W(),invert:I(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Jp,at],inset:U(),margin:U(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:I(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",j]}],container:["container"],columns:[{columns:[ct]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),j]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jn,j]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",j]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",jn,j]}],"grid-cols":[{"grid-cols":[Nn]}],"col-start-end":[{col:["auto",{span:["full",jn,j]},j]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Nn]}],"row-start-end":[{row:["auto",{span:[jn,j]},j]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",j]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",j]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",j,t]}],"min-w":[{"min-w":[j,t,"min","max","fit"]}],"max-w":[{"max-w":[j,t,"none","full","min","max","fit","prose",{screen:[ct]},ct]}],h:[{h:[j,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[j,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[j,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[j,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ct,at]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ps]}],"font-family":[{font:[Nn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",j]}],"line-clamp":[{"line-clamp":["none",tn,Ps]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xe,j]}],"list-image":[{"list-image":["none",j]}],"list-style-type":[{list:["none","disc","decimal",j]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xe,at]}],"underline-offset":[{"underline-offset":["auto",Xe,j]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",j]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",j]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),em]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nm]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Xe,j]}],"outline-w":[{outline:[Xe,at]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Xe,at]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ct,rm]}],"shadow-color":[{shadow:[Nn]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ct,j]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",j]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",j]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",j]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[jn,j]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",j]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",j]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",j]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xe,at,Ps]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cm=Hp(am);function de(...e){return cm(Ge(e))}const lm=Rp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:opacity-80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border hover:bg-background",secondary:"bg-secondary text-secondary-foreground border hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",positive:"bg-secondary text-positive border border-positive hover:bg-secondary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),nn=d.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?gn:"button";return v.jsx(i,{className:de(lm({variant:t,size:n,className:e}),{"border-0":s.borderless}),ref:o,...s})});nn.displayName="Button";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),el=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>d.createElement("svg",{ref:c,...dm,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:el("lucide",s),...a},[...i.map(([l,u])=>d.createElement(l,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=d.forwardRef(({className:r,...s},o)=>d.createElement(hm,{ref:o,iconNode:t,className:el(`lucide-${um(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=_e("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Am=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>te(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ko extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class km extends Ko{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Im extends Ko{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rm extends Ko{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ho;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ho||(ho={}));var Pm=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};class Mm{constructor(t,{headers:n={},customFetch:r,region:s=ho.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Am(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Pm(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=i):typeof i=="string"?(a["Content-Type"]="text/plain",l=i):typeof FormData<"u"&&i instanceof FormData?l=i:(a["Content-Type"]="application/json",l=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(g=>{throw new km(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Im(u);if(!u.ok)throw new Rm(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ie={},Dn={},Ln={},$n={},Fn={},Un={},Om=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vn=Om();const jm=vn.fetch,tl=vn.fetch.bind(vn),nl=vn.Headers,Nm=vn.Request,Dm=vn.Response,En=Object.freeze(Object.defineProperty({__proto__:null,Headers:nl,Request:Nm,Response:Dm,default:tl,fetch:jm},Symbol.toStringTag,{value:"Module"})),Lm=ah(En);var Er={},sa;function rl(){if(sa)return Er;sa=1,Object.defineProperty(Er,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Er.default=e,Er}var oa;function sl(){if(oa)return Un;oa=1;var e=Un.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Un,"__esModule",{value:!0});const t=e(Lm),n=e(rl());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=Object.assign({},this.headers),this.headers[o]=i,this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,h,f;let p=null,g=null,m=null,y=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=E:g=JSON.parse(E))}const _=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{p=JSON.parse(_),Array.isArray(p)&&l.status===404&&(g=[],p=null,y=200,b="OK")}catch{l.status===404&&_===""?(y=204,b="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,y=200,b="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:g,count:m,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,h,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,i)}}return Un.default=r,Un}var ia;function ol(){if(ia)return Fn;ia=1;var e=Fn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fn,"__esModule",{value:!0});const t=e(sl());class n extends t.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:c=a}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(l,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:c=!1,format:l="text"}={}){var u;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`,l==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Fn.default=n,Fn}var aa;function Go(){if(aa)return $n;aa=1;var e=$n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($n,"__esModule",{value:!0});const t=e(ol());class n extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const i=Array.from(new Set(o)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:i,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${c}fts${l}.${o}`),this}match(s){return Object.entries(s).forEach(([o,i])=>{this.url.searchParams.append(o,`eq.${i}`)}),this}not(s,o,i){return this.url.searchParams.append(s,`not.${o}.${i}`),this}or(s,{foreignTable:o,referencedTable:i=o}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,o,i){return this.url.searchParams.append(s,`${o}.${i}`),this}}return $n.default=n,$n}var ca;function il(){if(ca)return Ln;ca=1;var e=Ln.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ln,"__esModule",{value:!0});const t=e(Go());class n{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=o,this.schema=i,this.fetch=a}select(s,{head:o=!1,count:i}={}){const a=o?"HEAD":"GET";let c=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",l),i&&(this.headers.Prefer=`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:i=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(s)){const l=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:c=!0}={}){const l="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),c||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const i="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),this.headers.Prefer=a.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",i=[];return s&&i.push(`count=${s}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ln.default=n,Ln}var Bn={},zn={},la;function $m(){return la||(la=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.version=void 0,zn.version="0.0.0-automated"),zn}var ua;function Fm(){if(ua)return Bn;ua=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.DEFAULT_HEADERS=void 0;const e=$m();return Bn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Bn}var da;function Um(){if(da)return Dn;da=1;var e=Dn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Dn,"__esModule",{value:!0});const t=e(il()),n=e(Go()),r=Fm();class s{constructor(i,{headers:a={},schema:c,fetch:l}={}){this.url=i,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=l}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:c=!1,get:l=!1,count:u}={}){let h;const f=new URL(`${this.url}/rpc/${i}`);let p;c||l?(h=c?"HEAD":"GET",Object.entries(a).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{f.searchParams.append(m,y)})):(h="POST",p=a);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new n.default({method:h,url:f,headers:g,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return Dn.default=s,Dn}var ha;function Bm(){if(ha)return ie;ha=1;var e=ie.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.PostgrestError=ie.PostgrestBuilder=ie.PostgrestTransformBuilder=ie.PostgrestFilterBuilder=ie.PostgrestQueryBuilder=ie.PostgrestClient=void 0;const t=e(Um());ie.PostgrestClient=t.default;const n=e(il());ie.PostgrestQueryBuilder=n.default;const r=e(Go());ie.PostgrestFilterBuilder=r.default;const s=e(ol());ie.PostgrestTransformBuilder=s.default;const o=e(sl());ie.PostgrestBuilder=o.default;const i=e(rl());return ie.PostgrestError=i.default,ie.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:i.default},ie}var zm=Bm();const Hm=No(zm),{PostgrestClient:Vm,PostgrestQueryBuilder:IS,PostgrestFilterBuilder:RS,PostgrestTransformBuilder:PS,PostgrestBuilder:MS,PostgrestError:OS}=Hm,Wm="2.11.2",qm={"X-Client-Info":`realtime-js/${Wm}`},Km="1.0.0",al=1e4,Gm=1e3;var rn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rn||(rn={}));var xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xe||(xe={}));var Le;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Le||(Le={}));var fo;(function(e){e.websocket="websocket"})(fo||(fo={}));var Pt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pt||(Pt={}));class Ym{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const l=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class cl{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const fa=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=Qm(i,e,t,s),o),{})},Qm=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?ll(o,i):po(i)},ll=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eg(t,n)}switch(e){case Y.bool:return Jm(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Xm(t);case Y.json:case Y.jsonb:return Zm(t);case Y.timestamp:return tg(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return po(t);default:return po(t)}},po=e=>e,Jm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>ll(t,a))}return e},tg=e=>typeof e=="string"?e.replace(" ","T"):e,ul=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ms{constructor(t,n,r={},s=al){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pa;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pa||(pa={}));class Kn{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Kn.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kn.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{i[l]||(c[l]=u)}),this.map(i,(l,u)=>{const h=o[l];if(h){const f=u.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),g=u.filter(y=>p.indexOf(y.presence_ref)<0),m=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var l;const u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){const h=t[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,u,c)}),this.map(i,(a,c)=>{let l=t[a];if(!l)return;const u=c.map(h=>h.presence_ref);l=l.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=l,s(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ma;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ma||(ma={}));var ga;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ga||(ga={}));var et;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(et||(et={}));class Yo{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ms(this,Le.join,this.params,this.timeout),this.rejoinTimer=new cl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Le.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Kn(this),this.broadcastEndpointURL=ul(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>t==null?void 0:t(et.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(et.CLOSED));const c={},l={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(et.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let m=0;m<p;m++){const y=f[m],{filter:{event:b,schema:w,table:_,filter:x}}=y,E=u&&u[m];if(E&&E.event===b&&E.schema===w&&E.table===_&&E.filter===x)g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),t==null||t(et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(et.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Le.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ms(this,Le.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ms(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Le;if(r&&[a,c,l,u].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var g,m,y,b,w,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const x=p.id,E=(g=p.filter)===null||g===void 0?void 0:g.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return x==="*"||x===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:y,commit_timestamp:b,type:w,errors:_}=g;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Yo.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Le.close,{},t)}_onError(t){this._on(Le.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fa(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fa(t.columns,t.old_record)),n}}const ng=()=>{},rg=typeof WebSocket<"u",sg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class og{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qm,this.params={},this.timeout=al,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new Ym,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>te(async()=>{const{default:c}=await Promise.resolve().then(()=>En);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${fo.websocket}`,this.httpEndpoint=ul(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ig(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),te(async()=>{const{default:t}=await import("./browser-gArEEPw8.js").then(n=>n.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Km}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case rn.connecting:return Pt.Connecting;case rn.open:return Pt.Open;case rn.closing:return Pt.Closing;default:return Pt.Closed}}isConnected(){return this.connectionState()===Pt.Open}channel(t,n={config:{}}){const r=new Yo(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Le.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Gm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Le.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([sg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ig{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=rn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Qo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ag extends Qo{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mo extends Qo{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cg=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};const dl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>te(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lg=()=>cg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield te(()=>Promise.resolve().then(()=>En),void 0)).Response:Response}),go=e=>{if(Array.isArray(e))return e.map(n=>go(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=go(r)}),t};var Vt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};const Os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ug=(e,t,n)=>Vt(void 0,void 0,void 0,function*(){const r=yield lg();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new ag(Os(s),e.status||500))}).catch(s=>{t(new mo(Os(s),s))}):t(new mo(Os(e),e))}),dg=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function hr(e,t,n,r,s,o){return Vt(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,dg(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>ug(c,a,r))})})}function Wr(e,t,n,r){return Vt(this,void 0,void 0,function*(){return hr(e,"GET",t,n,r)})}function ft(e,t,n,r,s){return Vt(this,void 0,void 0,function*(){return hr(e,"POST",t,r,s,n)})}function hg(e,t,n,r,s){return Vt(this,void 0,void 0,function*(){return hr(e,"PUT",t,r,s,n)})}function fg(e,t,n,r){return Vt(this,void 0,void 0,function*(){return hr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hl(e,t,n,r,s){return Vt(this,void 0,void 0,function*(){return hr(e,"DELETE",t,r,s,n)})}var we=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};const pg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},va={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mg{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=dl(s)}uploadOrUpdate(t,n,r,s){return we(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},va),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(se(o))return{data:null,error:o};throw o}})}upload(t,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return we(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:va.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Qo("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(t,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}copy(t,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return we(this,void 0,void 0,function*(){try{const s=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}download(t,n){return we(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Wr(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}})}info(t){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:go(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(t){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield fg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof mo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}list(t,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pg),n),{prefix:t||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gg="2.7.1",vg={"X-Client-Info":`storage-js/${gg}`};var Gt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};class yg{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},vg),n),this.fetch=dl(r)}listBuckets(){return Gt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}getBucket(t){return Gt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Gt(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Gt(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Gt(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Gt(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}}class bg extends yg{constructor(t,n={},r){super(t,n,r)}from(t){return new mg(this.url,this.headers,t,this.fetch)}}const wg="2.47.10";let Vn="";typeof Deno<"u"?Vn="deno":typeof document<"u"?Vn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vn="react-native":Vn="node";const _g={"X-Client-Info":`supabase-js-${Vn}/${wg}`},xg={headers:_g},Eg={schema:"public"},Sg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cg={};var Tg=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};const Ag=e=>{let t;return e?t=e:typeof fetch>"u"?t=tl:t=fetch,(...n)=>t(...n)},kg=()=>typeof Headers>"u"?nl:Headers,Ig=(e,t,n)=>{const r=Ag(n),s=kg();return(o,i)=>Tg(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let l=new s(i==null?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:l}))})};var Rg=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function Pg(e){return e.replace(/\/$/,"")}function Mg(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:a,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),o),accessToken:()=>Rg(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const fl="2.67.3",Og="http://localhost:9999",jg="supabase.auth.token",Ng={"X-Client-Info":`gotrue-js/${fl}`},ya=10,vo="X-Supabase-Api-Version",pl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Dg(e){return Math.round(Date.now()/1e3)+e}function Lg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",kt={tested:!1,writable:!1},Gn=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kt.tested)return kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kt.tested=!0,kt.writable=!0}catch{kt.tested=!0,kt.writable=!1}return kt.writable};function $g(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ml=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>te(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Fg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cr=async(e,t)=>{await e.removeItem(t)};function Ug(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,o,i,a,c,l,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),r=i<<2|a>>4,s=(a&15)<<4|c>>2,o=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),l!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}let vl=class yl{constructor(){this.promise=new yl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};vl.promiseConstructor=Promise;function ba(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Ug(r))}async function Bg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zg(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function Hg(e){return("0"+e.toString(16)).substr(-2)}function Vg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Hg).join("")}async function Wg(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function qg(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Wg(e);return qg(n)}async function Yt(e,t,n=!1){const r=Vg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gl(e,`${t}-code-verifier`,s);const o=await Kg(r);return[o,r===o?"plain":"s256"]}const Gg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(e){const t=e.headers.get(vo);if(!t||!t.match(Gg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Jo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Qg extends Jo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jg(e){return L(e)&&e.name==="AuthApiError"}class bl extends Jo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wt extends Jo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ut extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xg(e){return L(e)&&e.name==="AuthSessionMissingError"}class js extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tr extends Wt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ar extends Wt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zg(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class wa extends Wt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yo extends Wt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ns(e){return L(e)&&e.name==="AuthRetryableFetchError"}class _a extends Wt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var ev=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const It=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tv=[502,503,504];async function xa(e){var t;if(!Fg(e))throw new yo(It(e),0);if(tv.includes(e.status))throw new yo(It(e),e.status);let n;try{n=await e.json()}catch(o){throw new bl(It(o),o)}let r;const s=Yg(e);if(s&&s.getTime()>=pl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _a(It(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ut}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new _a(It(n),e.status,n.weak_password.reasons);throw new Qg(It(n),e.status||500,r)}const nv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function B(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[vo]||(o[vo]=pl["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await rv(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function rv(e,t,n,r,s,o){const i=nv(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new yo(It(c),0)}if(a.ok||await xa(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await xa(c)}}function dt(e){var t;let n=null;av(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Dg(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ea(e){const t=dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sv(e){return{data:e,error:null}}function ov(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=ev(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function iv(e){return e}function av(e){return e.access_token&&e.refresh_token&&e.expires_in}var cv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class lv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ml(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cv(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ov,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:iv});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);l[`${y}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(L(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:pt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const uv={getItem:e=>Gn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Gn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Gn()&&globalThis.localStorage.removeItem(e)}};function Sa(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function dv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qt={debug:!!(globalThis&&Gn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hv extends wl{}async function fv(e,t,n){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qt.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}dv();const pv={url:Og,storageKey:jg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ng,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Hn=30*1e3,Ca=3;async function Ta(e,t,n){return await n()}class er{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=er.nextInstanceID,er.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ml(s.fetch),this.lock=s.lock||Ta,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fv:this.lock=Ta,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Gn()?this.storage=uv:(this.memoryStorage={},this.storage=Sa(this.memoryStorage)):(this.memoryStorage={},this.storage=Sa(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$g(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Zg(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new bl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Yt(this.storage,this.storageKey)),o=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:dt})}else if("phone"in t){const{phone:u,password:h,options:f}=t;o=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dt})}else throw new Tr("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ea})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ea})}else throw new Tr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new js}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Sr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dt});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new js}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(L(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dt}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new js}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Yt(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Tr("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:dt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,l=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Yt(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:sv})}catch(o){if(L(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ut;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Tr("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,l,u)=>(!i&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pt}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ut}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:pt})})}catch(n){if(L(n))return Xg(n)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ut;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Yt(this.storage,this.storageKey));const{data:l,error:u}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:pt});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return ba(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ut;const n=Date.now()/1e3;let r=n,s=!0,o=null;const i=ba(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ut;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ze())throw new Ar("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ar(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ar("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wa("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:l}=t;if(!o||!a||!i||!l)throw new Ar("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(Jg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Lg(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Yt(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(L(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,c,l,u;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ze()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zg(async s=>(s>0&&await Bg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dt})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Ns(o)&&Date.now()+i-r<Hn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Sr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+ya;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${ya}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ns(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vl;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ut;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),L(o)){const i={session:null,error:o};return Ns(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Cr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hn}ms, refresh threshold is ${Ca} ticks`),s<=Ca&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Yt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:l}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}er.nextInstanceID=0;const mv=er;class gv extends mv{constructor(t){super(t)}}var vv=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};class yv{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Pg(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Eg,realtime:Cg,auth:Object.assign(Object.assign({},Sg),{storageKey:c}),global:xg},u=Mg(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=Ig(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Vm(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Mm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return vv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:c},l,u){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gv({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new og(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bv=(e,t,n)=>new yv(e,t,n),wv="https://czhgcnahnjyzimgtcrqx.supabase.co",_v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6aGdjbmFobmp5emltZ3RjcnF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU0MTMzNTksImV4cCI6MjA1MDk4OTM1OX0.M-N5P5B4njMDftt6ErPCjKs05ik4eh7goMShs551Fjw",ke=bv(wv,_v,{auth:{persistSession:!0,autoRefreshToken:!0}});async function xv(e,t){return await ke.from("users").update(t).eq("id",e).select().returns()}async function Ev(e){return await ke.from("users").select("*").match({id:e}).single()}async function jS(e){return await ke.from("users").select("*").in("id",e).returns()}var Aa={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Sv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],i=e[n++],a=e[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return t.join("")},xl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const o=e[s],i=s+1<e.length,a=i?e[s+1]:0,c=s+2<e.length,l=c?e[s+2]:0,u=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,i||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_l(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Sv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const l=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||a==null||l==null||h==null)throw new Cv;const f=o<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const g=l<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Cv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tv=function(e){const t=_l(e);return xl.encodeByteArray(t,!0)},El=function(e){return Tv(e).replace(/\./g,"")},Av=function(e){try{return xl.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=()=>kv().__FIREBASE_DEFAULTS__,Rv=()=>{if(typeof process>"u"||typeof Aa>"u")return;const e=Aa.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Pv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Av(e[1]);return t&&JSON.parse(t)},Mv=()=>{try{return Iv()||Rv()||Pv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Sl=()=>{var e;return(e=Mv())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Cl(){try{return typeof indexedDB=="object"}catch{return!1}}function Tl(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function jv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="FirebaseError";class Sn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Nv,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],i=o?Dv(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Sn(s,a,r)}}function Dv(e,t){return e.replace(Lv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Lv=/\{\$([^}]+)}/g;function bo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const o=e[s],i=t[s];if(ka(o)&&ka(i)){if(!bo(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ka(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(e){return e&&e._delegate?e._delegate:e}class Et{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ov;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Uv(t))try{this.getOrInitializeService({instanceIdentifier:Rt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=Rt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rt){return this.instances.has(t)}getOptions(t=Rt){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&t(i,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Rt){return this.component?this.component.multipleInstances?t:Rt:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fv(e){return e===Rt?void 0:e}function Uv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $v(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(J||(J={}));const zv={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Hv=J.INFO,Vv={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Wv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Vv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qv{constructor(t){this.name=t,this._logLevel=Hv,this._logHandler=Wv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in J))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...t),this._logHandler(this,J.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...t),this._logHandler(this,J.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,J.INFO,...t),this._logHandler(this,J.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,J.WARN,...t),this._logHandler(this,J.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...t),this._logHandler(this,J.ERROR,...t)}}const Kv=(e,t)=>t.some(n=>e instanceof n);let Ia,Ra;function Gv(){return Ia||(Ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yv(){return Ra||(Ra=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kl=new WeakMap,wo=new WeakMap,Il=new WeakMap,Ds=new WeakMap,Xo=new WeakMap;function Qv(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{n(rt(e.result)),s()},i=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&kl.set(n,e)}).catch(()=>{}),Xo.set(t,e),t}function Jv(e){if(wo.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});wo.set(e,t)}let _o={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wo.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Il.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xv(e){_o=e(_o)}function Zv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ls(this),t,...n);return Il.set(r,t.sort?t.sort():[t]),rt(r)}:Yv().includes(e)?function(...t){return e.apply(Ls(this),t),rt(kl.get(this))}:function(...t){return rt(e.apply(Ls(this),t))}}function ey(e){return typeof e=="function"?Zv(e):(e instanceof IDBTransaction&&Jv(e),Kv(e,Gv())?new Proxy(e,_o):e)}function rt(e){if(e instanceof IDBRequest)return Qv(e);if(Ds.has(e))return Ds.get(e);const t=ey(e);return t!==e&&(Ds.set(e,t),Xo.set(t,e)),t}const Ls=e=>Xo.get(e);function us(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(e,t),a=rt(i);return r&&i.addEventListener("upgradeneeded",c=>{r(rt(i.result),c.oldVersion,c.newVersion,rt(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function $s(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),rt(n).then(()=>{})}const ty=["get","getKey","getAll","getAllKeys","count"],ny=["put","add","delete","clear"],Fs=new Map;function Pa(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fs.get(t))return Fs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ny.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ty.includes(n)))return;const o=async function(i,...a){const c=this.transaction(i,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Fs.set(t,o),o}Xv(e=>({...e,get:(t,n,r)=>Pa(t,n)||e.get(t,n,r),has:(t,n)=>!!Pa(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sy(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xo="@firebase/app",Ma="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st=new qv("@firebase/app"),oy="@firebase/app-compat",iy="@firebase/analytics-compat",ay="@firebase/analytics",cy="@firebase/app-check-compat",ly="@firebase/app-check",uy="@firebase/auth",dy="@firebase/auth-compat",hy="@firebase/database",fy="@firebase/data-connect",py="@firebase/database-compat",my="@firebase/functions",gy="@firebase/functions-compat",vy="@firebase/installations",yy="@firebase/installations-compat",by="@firebase/messaging",wy="@firebase/messaging-compat",_y="@firebase/performance",xy="@firebase/performance-compat",Ey="@firebase/remote-config",Sy="@firebase/remote-config-compat",Cy="@firebase/storage",Ty="@firebase/storage-compat",Ay="@firebase/firestore",ky="@firebase/vertexai",Iy="@firebase/firestore-compat",Ry="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]",Py={[xo]:"fire-core",[oy]:"fire-core-compat",[ay]:"fire-analytics",[iy]:"fire-analytics-compat",[ly]:"fire-app-check",[cy]:"fire-app-check-compat",[uy]:"fire-auth",[dy]:"fire-auth-compat",[hy]:"fire-rtdb",[fy]:"fire-data-connect",[py]:"fire-rtdb-compat",[my]:"fire-fn",[gy]:"fire-fn-compat",[vy]:"fire-iid",[yy]:"fire-iid-compat",[by]:"fire-fcm",[wy]:"fire-fcm-compat",[_y]:"fire-perf",[xy]:"fire-perf-compat",[Ey]:"fire-rc",[Sy]:"fire-rc-compat",[Cy]:"fire-gcs",[Ty]:"fire-gcs-compat",[Ay]:"fire-fst",[Iy]:"fire-fst-compat",[ky]:"fire-vertex","fire-js":"fire-js",[Ry]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Map,My=new Map,So=new Map;function Oa(e,t){try{e.container.addComponent(t)}catch(n){st.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $t(e){const t=e.name;if(So.has(t))return st.debug(`There were multiple attempts to register component ${t}.`),!1;So.set(t,e);for(const n of qr.values())Oa(n,e);for(const n of My.values())Oa(n,e);return!0}function Zo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wt=new ls("app","Firebase",Oy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}function Rl(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Eo,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw wt.create("bad-app-name",{appName:String(s)});if(n||(n=Sl()),!n)throw wt.create("no-options");const o=qr.get(s);if(o){if(bo(n,o.options)&&bo(r,o.config))return o;throw wt.create("duplicate-app",{appName:s})}const i=new Bv(s);for(const c of So.values())i.addComponent(c);const a=new jy(n,r,i);return qr.set(s,a),a}function Ny(e=Eo){const t=qr.get(e);if(!t&&e===Eo&&Sl())return Rl();if(!t)throw wt.create("no-app",{appName:e});return t}function _t(e,t,n){var r;let s=(r=Py[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${t}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),st.warn(a.join(" "));return}$t(new Et(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="firebase-heartbeat-database",Ly=1,tr="firebase-heartbeat-store";let Us=null;function Pl(){return Us||(Us=us(Dy,Ly,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(tr)}catch(n){console.warn(n)}}}}).catch(e=>{throw wt.create("idb-open",{originalErrorMessage:e.message})})),Us}async function $y(e){try{const n=(await Pl()).transaction(tr),r=await n.objectStore(tr).get(Ml(e));return await n.done,r}catch(t){if(t instanceof Sn)st.warn(t.message);else{const n=wt.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});st.warn(n.message)}}}async function ja(e,t){try{const r=(await Pl()).transaction(tr,"readwrite");await r.objectStore(tr).put(t,Ml(e)),await r.done}catch(n){if(n instanceof Sn)st.warn(n.message);else{const r=wt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});st.warn(r.message)}}}function Ml(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=1024,Uy=30*24*60*60*1e3;class By{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Na();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=Uy}),this._storage.overwrite(this._heartbeatsCache))}catch(r){st.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Na(),{heartbeatsToSend:r,unsentEntries:s}=zy(this._heartbeatsCache.heartbeats),o=El(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return st.warn(n),""}}}function Na(){return new Date().toISOString().substring(0,10)}function zy(e,t=Fy){const n=[];let r=e.slice();for(const s of e){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),Da(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Da(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cl()?Tl().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $y(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ja(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ja(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Da(e){return El(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e){$t(new Et("platform-logger",t=>new ry(t),"PRIVATE")),$t(new Et("heartbeat",t=>new By(t),"PRIVATE")),_t(xo,Ma,e),_t(xo,Ma,"esm2017"),_t("fire-js","")}Vy("");var Wy="firebase",qy="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t(Wy,qy,"app");const Ol="@firebase/installations",ei="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=1e4,Nl=`w:${ei}`,Dl="FIS_v2",Ky="https://firebaseinstallations.googleapis.com/v1",Gy=60*60*1e3,Yy="installations",Qy="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ft=new ls(Yy,Qy,Jy);function Ll(e){return e instanceof Sn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l({projectId:e}){return`${Ky}/projects/${e}/installations`}function Fl(e){return{token:e.token,requestStatus:2,expiresIn:Zy(e.expiresIn),creationTime:Date.now()}}async function Ul(e,t){const r=(await t.json()).error;return Ft.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Bl({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Xy(e,{refreshToken:t}){const n=Bl(e);return n.append("Authorization",eb(t)),n}async function zl(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Zy(e){return Number(e.replace("s","000"))}function eb(e){return`${Dl} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=$l(e),s=Bl(e),o=t.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const i={fid:n,authVersion:Dl,appId:e.appId,sdkVersion:Nl},a={method:"POST",headers:s,body:JSON.stringify(i)},c=await zl(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Fl(l.authToken)}}else throw await Ul("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=/^[cdef][\w-]{21}$/,Co="";function sb(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=ob(e);return rb.test(n)?n:Co}catch{return Co}}function ob(e){return nb(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new Map;function Wl(e,t){const n=ds(e);ql(n,t),ib(n,t)}function ql(e,t){const n=Vl.get(e);if(n)for(const r of n)r(t)}function ib(e,t){const n=ab();n&&n.postMessage({key:e,fid:t}),cb()}let Mt=null;function ab(){return!Mt&&"BroadcastChannel"in self&&(Mt=new BroadcastChannel("[Firebase] FID Change"),Mt.onmessage=e=>{ql(e.data.key,e.data.fid)}),Mt}function cb(){Vl.size===0&&Mt&&(Mt.close(),Mt=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebase-installations-database",ub=1,Ut="firebase-installations-store";let Bs=null;function ti(){return Bs||(Bs=us(lb,ub,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ut)}}})),Bs}async function Kr(e,t){const n=ds(e),s=(await ti()).transaction(Ut,"readwrite"),o=s.objectStore(Ut),i=await o.get(n);return await o.put(t,n),await s.done,(!i||i.fid!==t.fid)&&Wl(e,t.fid),t}async function Kl(e){const t=ds(e),r=(await ti()).transaction(Ut,"readwrite");await r.objectStore(Ut).delete(t),await r.done}async function hs(e,t){const n=ds(e),s=(await ti()).transaction(Ut,"readwrite"),o=s.objectStore(Ut),i=await o.get(n),a=t(i);return a===void 0?await o.delete(n):await o.put(a,n),await s.done,a&&(!i||i.fid!==a.fid)&&Wl(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ni(e){let t;const n=await hs(e.appConfig,r=>{const s=db(r),o=hb(e,s);return t=o.registrationPromise,o.installationEntry});return n.fid===Co?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function db(e){const t=e||{fid:sb(),registrationStatus:0};return Gl(t)}function hb(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ft.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=fb(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:pb(e)}:{installationEntry:t}}async function fb(e,t){try{const n=await tb(e,t);return Kr(e.appConfig,n)}catch(n){throw Ll(n)&&n.customData.serverCode===409?await Kl(e.appConfig):await Kr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function pb(e){let t=await La(e.appConfig);for(;t.registrationStatus===1;)await Hl(100),t=await La(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ni(e);return r||n}return t}function La(e){return hs(e,t=>{if(!t)throw Ft.create("installation-not-found");return Gl(t)})}function Gl(e){return mb(e)?{fid:e.fid,registrationStatus:0}:e}function mb(e){return e.registrationStatus===1&&e.registrationTime+jl<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb({appConfig:e,heartbeatServiceProvider:t},n){const r=vb(e,n),s=Xy(e,n),o=t.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const i={installation:{sdkVersion:Nl,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(i)},c=await zl(()=>fetch(r,a));if(c.ok){const l=await c.json();return Fl(l)}else throw await Ul("Generate Auth Token",c)}function vb(e,{fid:t}){return`${$l(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ri(e,t=!1){let n;const r=await hs(e.appConfig,o=>{if(!Yl(o))throw Ft.create("not-registered");const i=o.authToken;if(!t&&wb(i))return o;if(i.requestStatus===1)return n=yb(e,t),o;{if(!navigator.onLine)throw Ft.create("app-offline");const a=xb(o);return n=bb(e,a),a}});return n?await n:r.authToken}async function yb(e,t){let n=await $a(e.appConfig);for(;n.authToken.requestStatus===1;)await Hl(100),n=await $a(e.appConfig);const r=n.authToken;return r.requestStatus===0?ri(e,t):r}function $a(e){return hs(e,t=>{if(!Yl(t))throw Ft.create("not-registered");const n=t.authToken;return Eb(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function bb(e,t){try{const n=await gb(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Kr(e.appConfig,r),n}catch(n){if(Ll(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Kl(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Kr(e.appConfig,r)}throw n}}function Yl(e){return e!==void 0&&e.registrationStatus===2}function wb(e){return e.requestStatus===2&&!_b(e)}function _b(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Gy}function xb(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Eb(e){return e.requestStatus===1&&e.requestTime+jl<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(e){const t=e,{installationEntry:n,registrationPromise:r}=await ni(t);return r?r.catch(console.error):ri(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(e,t=!1){const n=e;return await Tb(n),(await ri(n,t)).token}async function Tb(e){const{registrationPromise:t}=await ni(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e){if(!e||!e.options)throw zs("App Configuration");if(!e.name)throw zs("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw zs(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function zs(e){return Ft.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="installations",kb="installations-internal",Ib=e=>{const t=e.getProvider("app").getImmediate(),n=Ab(t),r=Zo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Rb=e=>{const t=e.getProvider("app").getImmediate(),n=Zo(t,Ql).getImmediate();return{getId:()=>Sb(n),getToken:s=>Cb(n,s)}};function Pb(){$t(new Et(Ql,Ib,"PUBLIC")),$t(new Et(kb,Rb,"PRIVATE"))}Pb();_t(Ol,ei);_t(Ol,ei,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="/firebase-messaging-sw.js",Ob="/firebase-cloud-messaging-push-scope",Jl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jb="https://fcmregistrations.googleapis.com/v1",Xl="google.c.a.c_id",Nb="google.c.a.c_l",Db="google.c.a.ts",Lb="google.c.a.e",Fa=1e4;var Ua;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var nr;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(nr||(nr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $b(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;++o)s[o]=r.charCodeAt(o);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="fcm_token_details_db",Fb=5,Ba="fcm_token_object_Store";async function Ub(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Hs))return null;let t=null;return(await us(Hs,Fb,{upgrade:async(r,s,o,i)=>{var a;if(s<2||!r.objectStoreNames.contains(Ba))return;const c=i.objectStore(Ba),l=await c.index("fcmSenderId").get(e);if(await c.clear(),!!l){if(s===2){const u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:tt(u.vapidKey)}}}else if(s===3){const u=l;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tt(u.auth),p256dh:tt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tt(u.vapidKey)}}}else if(s===4){const u=l;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tt(u.auth),p256dh:tt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tt(u.vapidKey)}}}}}})).close(),await $s(Hs),await $s("fcm_vapid_details_db"),await $s("undefined"),Bb(t)?t:null}function Bb(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-messaging-database",Hb=1,rr="firebase-messaging-store";let Vs=null;function Zl(){return Vs||(Vs=us(zb,Hb,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(rr)}}})),Vs}async function Vb(e){const t=eu(e),r=await(await Zl()).transaction(rr).objectStore(rr).get(t);if(r)return r;{const s=await Ub(e.appConfig.senderId);if(s)return await si(e,s),s}}async function si(e,t){const n=eu(e),s=(await Zl()).transaction(rr,"readwrite");return await s.objectStore(rr).put(t,n),await s.done,t}function eu({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ye=new ls("messaging","Messaging",Wb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(e,t){const n=await ii(e),r=tu(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(oi(e.appConfig),s)).json()}catch(i){throw ye.create("token-subscribe-failed",{errorInfo:i==null?void 0:i.toString()})}if(o.error){const i=o.error.message;throw ye.create("token-subscribe-failed",{errorInfo:i})}if(!o.token)throw ye.create("token-subscribe-no-token");return o.token}async function Kb(e,t){const n=await ii(e),r=tu(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${oi(e.appConfig)}/${t.token}`,s)).json()}catch(i){throw ye.create("token-update-failed",{errorInfo:i==null?void 0:i.toString()})}if(o.error){const i=o.error.message;throw ye.create("token-update-failed",{errorInfo:i})}if(!o.token)throw ye.create("token-update-no-token");return o.token}async function Gb(e,t){const r={method:"DELETE",headers:await ii(e)};try{const o=await(await fetch(`${oi(e.appConfig)}/${t}`,r)).json();if(o.error){const i=o.error.message;throw ye.create("token-unsubscribe-failed",{errorInfo:i})}}catch(s){throw ye.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function oi({projectId:e}){return`${jb}/projects/${e}/registrations`}async function ii({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function tu({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==Jl&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=7*24*60*60*1e3;async function Qb(e){const t=await Xb(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:tt(t.getKey("auth")),p256dh:tt(t.getKey("p256dh"))},r=await Vb(e.firebaseDependencies);if(r){if(Zb(r.subscriptionOptions,n))return Date.now()>=r.createTime+Yb?Jb(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Gb(e.firebaseDependencies,r.token)}catch(s){console.warn(s)}return za(e.firebaseDependencies,n)}else return za(e.firebaseDependencies,n)}async function Jb(e,t){try{const n=await Kb(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await si(e.firebaseDependencies,r),n}catch(n){throw n}}async function za(e,t){const r={token:await qb(e,t),createTime:Date.now(),subscriptionOptions:t};return await si(e,r),r.token}async function Xb(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$b(t)})}function Zb(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&s&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return ew(t,e),tw(t,e),nw(t,e),t}function ew(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const o=t.notification.icon;o&&(e.notification.icon=o)}function tw(e,t){t.data&&(e.data=t.data)}function nw(e,t){var n,r,s,o,i;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const a=(s=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(o=t.notification)===null||o===void 0?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=(i=t.fcmOptions)===null||i===void 0?void 0:i.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e){return typeof e=="object"&&!!e&&Xl in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e){if(!e||!e.options)throw Ws("App Configuration Object");if(!e.name)throw Ws("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Ws(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ws(e){return ye.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=sw(t);this.firebaseDependencies={app:t,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(e){try{e.swRegistration=await navigator.serviceWorker.register(Mb,{scope:Ob}),e.swRegistration.update().catch(()=>{}),await aw(e.swRegistration)}catch(t){throw ye.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function aw(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Fa} ms`)),Fa),s=e.installing||e.waiting;e.active?(clearTimeout(r),t()):s?s.onstatechange=o=>{var i;((i=o.target)===null||i===void 0?void 0:i.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(e,t){if(!t&&!e.swRegistration&&await iw(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw ye.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Jl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(e,t){if(!navigator)throw ye.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ye.create("permission-blocked");return await lw(e,t==null?void 0:t.vapidKey),await cw(e,t==null?void 0:t.serviceWorkerRegistration),Qb(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(e,t,n){const r=dw(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Xl],message_name:n[Nb],message_time:n[Db],message_device_time:Math.floor(Date.now()/1e3)})}function dw(e){switch(e){case nr.NOTIFICATION_CLICKED:return"notification_open";case nr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===nr.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Ha(n)):e.onMessageHandler.next(Ha(n)));const r=n.data;rw(r)&&r[Lb]==="1"&&await uw(e,n.messageType,r)}const Va="@firebase/messaging",Wa="0.12.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=e=>{const t=new ow(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>hw(t,n)),t},pw=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>nu(t,r)}};function mw(){$t(new Et("messaging",fw,"PUBLIC")),$t(new Et("messaging-internal",pw,"PRIVATE")),_t(Va,Wa),_t(Va,Wa,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(){try{await Tl()}catch{return!1}return typeof window<"u"&&Cl()&&jv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e=Ny()){return gw().then(t=>{if(!t)throw ye.create("unsupported-browser")},t=>{throw ye.create("indexed-db-unsupported")}),Zo(Al(e),"messaging").getImmediate()}async function yw(e,t){return e=Al(e),nu(e,t)}mw();const bw={apiKey:"AIzaSyAXpWOQnAVfru7c-aUth_ythwosDhXJiRo",authDomain:"prote-ja.firebaseapp.com",projectId:"prote-ja",storageBucket:"prote-ja.firebasestorage.app",messagingSenderId:"783248319174",appId:"1:783248319174:web:a1617a492c49619c266dc7",measurementId:"G-001BPXX6L9"},ww=Rl(bw),_w=vw(ww);async function xw(){return yw(_w,{vapidKey:"BDUYigFK-dBL_5IvQnZZ6suRSnM7IRRkCWNQLVbjVMrj9goU7N4S8qLzqBEb0xd-DJsOh0Nn_dMY2RAwrZmRfbg"})}async function Ew(e){await Sw(),console.log("Getting messaging token");const t=await xw(),n=await xv(e,{fcm_token:t});return console.log("fcm token",t),n}async function Sw(){console.log("Requesting permission..."),await Notification.requestPermission()==="granted"&&console.log("Notification permission granted.")}const ru=d.createContext({session:null,user:null,loading:!1,setUser:()=>{}}),Cw=({children:e})=>{const[t,n]=d.useState(null),[r,s]=d.useState(null),[o,i]=d.useState(!1);return d.useEffect(()=>{i(!0),ke.auth.getSession().then(({data:{session:c}})=>{n(c)}).finally(()=>{i(!1)});const{data:{subscription:a}}=ke.auth.onAuthStateChange(async(c,l)=>{n(l)});return()=>a.unsubscribe()},[]),d.useEffect(()=>{t&&(i(!0),Ev(t.user.id).then(({data:a,error:c})=>{if(c){console.error(c);return}s(a??null),a&&Ew(a.id).then(()=>{K.success("Token atualizado com sucesso!")})}).finally(()=>{i(!1)}))},[t]),v.jsx(ru.Provider,{value:{session:t,user:r,loading:o,setUser:s},children:e})},ai=()=>d.useContext(ru);function Tw(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(h){i(h)}}function c(u){try{l(r.throw(u))}catch(h){i(h)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(e,[])).next())})}function Aw(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(n=0)),n;)try{if(r=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var kw=function(){function e(){var t=this;this.event=null,this.callbacks=[],this.install=function(){return Tw(t,void 0,void 0,function(){var n=this;return Aw(this,function(r){switch(r.label){case 0:return this.event?(this.event.prompt(),[4,this.event.userChoice.then(function(s){var o=s.outcome;return n.updateEvent(null),o==="accepted"})]):[3,2];case 1:return[2,r.sent()];case 2:throw new Error("Not allowed to prompt.")}})})},!(typeof window>"u")&&(window.addEventListener("beforeinstallprompt",function(n){n.preventDefault(),t.updateEvent(n)}),window.addEventListener("appinstalled",function(){t.updateEvent(null)}))}return e.prototype.getEvent=function(){return this.event},e.prototype.canInstall=function(){return this.event!==null},e.prototype.updateEvent=function(t){var n=this;t!==this.event&&(this.event=t,this.callbacks.forEach(function(r){return r(n.canInstall())}))},e.prototype.addListener=function(t){t(this.canInstall()),this.callbacks.push(t)},e.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter(function(n){return t!==n})},e}(),kr=new kw,Iw=function(){var e=d.useCallback(function(r){return kr.addListener(r),function(){kr.removeListener(r)}},[]),t=d.useCallback(function(){return kr.canInstall()?kr.install:null},[]),n=d.useCallback(function(){return null},[]);return d.useSyncExternalStore(e,t,n)};function $(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DS(e,t){const n=d.createContext(t),r=o=>{const{children:i,...a}=o,c=d.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Cn(e,t=[]){let n=[];function r(o,i){const a=d.createContext(i),c=n.length;n=[...n,i];const l=h=>{var b;const{scope:f,children:p,...g}=h,m=((b=f==null?void 0:f[e])==null?void 0:b[c])||a,y=d.useMemo(()=>g,Object.values(g));return v.jsx(m.Provider,{value:y,children:p})};l.displayName=o+"Provider";function u(h,f){var m;const p=((m=f==null?void 0:f[e])==null?void 0:m[c])||a,g=d.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[l,u]}const s=()=>{const o=n.map(i=>d.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,Rw(s,...t)]}function Rw(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:l})=>{const h=c(o)[`__scope${l}`];return{...a,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function $e(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ci({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=Pw({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=$e(n),c=d.useCallback(l=>{if(o){const h=typeof l=="function"?l(e):l;h!==e&&a(h)}else s(l)},[o,e,s,a]);return[i,c]}function Pw({defaultProp:e,onChange:t}){const n=d.useState(e),[r]=n,s=d.useRef(r),o=$e(t);return d.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var li=xc();const Mw=No(li);var Ow=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=Ow.reduce((e,t)=>{const n=d.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?gn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function su(e,t){e&&li.flushSync(()=>e.dispatchEvent(t))}function ou(e){const t=e+"CollectionProvider",[n,r]=Cn(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:m}=p,y=O.useRef(null),b=O.useRef(new Map).current;return v.jsx(s,{scope:g,itemMap:b,collectionRef:y,children:m})};i.displayName=t;const a=e+"CollectionSlot",c=O.forwardRef((p,g)=>{const{scope:m,children:y}=p,b=o(a,m),w=ue(g,b.collectionRef);return v.jsx(gn,{ref:w,children:y})});c.displayName=a;const l=e+"CollectionItemSlot",u="data-radix-collection-item",h=O.forwardRef((p,g)=>{const{scope:m,children:y,...b}=p,w=O.useRef(null),_=ue(g,w),x=o(l,m);return O.useEffect(()=>(x.itemMap.set(w,{ref:w,...b}),()=>void x.itemMap.delete(w))),v.jsx(gn,{[u]:"",ref:_,children:y})});h.displayName=l;function f(p){const g=o(e+"CollectionConsumer",p);return O.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((x,E)=>b.indexOf(x.ref.current)-b.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},f,r]}var jw=d.createContext(void 0);function iu(e){const t=d.useContext(jw);return e||t||"ltr"}function Nw(e,t=globalThis==null?void 0:globalThis.document){const n=$e(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Dw="DismissableLayer",To="dismissableLayer.update",Lw="dismissableLayer.pointerDownOutside",$w="dismissableLayer.focusOutside",qa,au=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ui=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,l=d.useContext(au),[u,h]=d.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),g=ue(t,T=>h(T)),m=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(y),w=u?m.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,x=w>=b,E=Bw(T=>{const S=T.target,A=[...l.branches].some(R=>R.contains(S));!x||A||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},f),k=zw(T=>{const S=T.target;[...l.branches].some(R=>R.contains(S))||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},f);return Nw(T=>{w===l.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},f),d.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(qa=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Ka(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=qa)}},[u,f,n,l]),d.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Ka())},[u,l]),d.useEffect(()=>{const T=()=>p({});return document.addEventListener(To,T),()=>document.removeEventListener(To,T)},[]),v.jsx(ae.div,{...c,ref:g,style:{pointerEvents:_?x?"auto":"none":void 0,...e.style},onFocusCapture:$(e.onFocusCapture,k.onFocusCapture),onBlurCapture:$(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:$(e.onPointerDownCapture,E.onPointerDownCapture)})});ui.displayName=Dw;var Fw="DismissableLayerBranch",Uw=d.forwardRef((e,t)=>{const n=d.useContext(au),r=d.useRef(null),s=ue(t,r);return d.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),v.jsx(ae.div,{...e,ref:s})});Uw.displayName=Fw;function Bw(e,t=globalThis==null?void 0:globalThis.document){const n=$e(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){cu(Lw,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function zw(e,t=globalThis==null?void 0:globalThis.document){const n=$e(e),r=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!r.current&&cu($w,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ka(){const e=new CustomEvent(To);document.dispatchEvent(e)}function cu(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?su(s,o):s.dispatchEvent(o)}var qs=0;function Hw(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ga()),document.body.insertAdjacentElement("beforeend",e[1]??Ga()),qs++,()=>{qs===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qs--}},[])}function Ga(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ks="focusScope.autoFocusOnMount",Gs="focusScope.autoFocusOnUnmount",Ya={bubbles:!1,cancelable:!0},Vw="FocusScope",lu=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=d.useState(null),l=$e(s),u=$e(o),h=d.useRef(null),f=ue(t,m=>c(m)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let m=function(_){if(p.paused||!a)return;const x=_.target;a.contains(x)?h.current=x:ht(h.current,{select:!0})},y=function(_){if(p.paused||!a)return;const x=_.relatedTarget;x!==null&&(a.contains(x)||ht(h.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&ht(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,p.paused]),d.useEffect(()=>{if(a){Ja.add(p);const m=document.activeElement;if(!a.contains(m)){const b=new CustomEvent(Ks,Ya);a.addEventListener(Ks,l),a.dispatchEvent(b),b.defaultPrevented||(Ww(Qw(uu(a)),{select:!0}),document.activeElement===m&&ht(a))}return()=>{a.removeEventListener(Ks,l),setTimeout(()=>{const b=new CustomEvent(Gs,Ya);a.addEventListener(Gs,u),a.dispatchEvent(b),b.defaultPrevented||ht(m??document.body,{select:!0}),a.removeEventListener(Gs,u),Ja.remove(p)},0)}}},[a,l,u,p]);const g=d.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(y&&b){const w=m.currentTarget,[_,x]=qw(w);_&&x?!m.shiftKey&&b===x?(m.preventDefault(),n&&ht(_,{select:!0})):m.shiftKey&&b===_&&(m.preventDefault(),n&&ht(x,{select:!0})):b===w&&m.preventDefault()}},[n,r,p.paused]);return v.jsx(ae.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});lu.displayName=Vw;function Ww(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ht(r,{select:t}),document.activeElement!==n)return}function qw(e){const t=uu(e),n=Qa(t,e),r=Qa(t.reverse(),e);return[n,r]}function uu(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qa(e,t){for(const n of e)if(!Kw(n,{upTo:t}))return n}function Kw(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Gw(e){return e instanceof HTMLInputElement&&"select"in e}function ht(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Gw(e)&&t&&e.select()}}var Ja=Yw();function Yw(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xa(e,t),e.unshift(t)},remove(t){var n;e=Xa(e,t),(n=e[0])==null||n.resume()}}}function Xa(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Qw(e){return e.filter(t=>t.tagName!=="A")}var Bt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Jw=fh.useId||(()=>{}),Xw=0;function Gr(e){const[t,n]=d.useState(Jw());return Bt(()=>{e||n(r=>r??String(Xw++))},[e]),e||(t?`radix-${t}`:"")}const Zw=["top","right","bottom","left"],St=Math.min,Se=Math.max,Yr=Math.round,Ir=Math.floor,Ye=e=>({x:e,y:e}),e0={left:"right",right:"left",bottom:"top",top:"bottom"},t0={start:"end",end:"start"};function Ao(e,t,n){return Se(e,St(t,n))}function ot(e,t){return typeof e=="function"?e(t):e}function it(e){return e.split("-")[0]}function Tn(e){return e.split("-")[1]}function di(e){return e==="x"?"y":"x"}function hi(e){return e==="y"?"height":"width"}function Ct(e){return["top","bottom"].includes(it(e))?"y":"x"}function fi(e){return di(Ct(e))}function n0(e,t,n){n===void 0&&(n=!1);const r=Tn(e),s=fi(e),o=hi(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Qr(i)),[i,Qr(i)]}function r0(e){const t=Qr(e);return[ko(e),t,ko(t)]}function ko(e){return e.replace(/start|end/g,t=>t0[t])}function s0(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function o0(e,t,n,r){const s=Tn(e);let o=s0(it(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(ko)))),o}function Qr(e){return e.replace(/left|right|bottom|top/g,t=>e0[t])}function i0(e){return{top:0,right:0,bottom:0,left:0,...e}}function du(e){return typeof e!="number"?i0(e):{top:e,right:e,bottom:e,left:e}}function Jr(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Za(e,t,n){let{reference:r,floating:s}=e;const o=Ct(t),i=fi(t),a=hi(i),c=it(t),l=o==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Tn(t)){case"start":p[i]-=f*(n&&l?-1:1);break;case"end":p[i]+=f*(n&&l?-1:1);break}return p}const a0=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let l=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=Za(l,r,c),f=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:b}=a[m],{x:w,y:_,data:x,reset:E}=await b({x:u,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:l,platform:i,elements:{reference:e,floating:t}});u=w??u,h=_??h,p={...p,[y]:{...p[y],...x}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(l=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:u,y:h}=Za(l,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:p}};async function sr(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=ot(t,e),g=du(p),y=a[f?h==="floating"?"reference":"floating":h],b=Jr(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},E=Jr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:c}):w);return{top:(b.top-E.top+g.top)/x.y,bottom:(E.bottom-b.bottom+g.bottom)/x.y,left:(b.left-E.left+g.left)/x.x,right:(E.right-b.right+g.right)/x.x}}const c0=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=ot(e,t)||{};if(l==null)return{};const h=du(u),f={x:n,y:r},p=fi(s),g=hi(p),m=await i.getDimensions(l),y=p==="y",b=y?"top":"left",w=y?"bottom":"right",_=y?"clientHeight":"clientWidth",x=o.reference[g]+o.reference[p]-f[p]-o.floating[g],E=f[p]-o.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let T=k?k[_]:0;(!T||!await(i.isElement==null?void 0:i.isElement(k)))&&(T=a.floating[_]||o.floating[g]);const S=x/2-E/2,A=T/2-m[g]/2-1,R=St(h[b],A),U=St(h[w],A),P=R,z=T-m[g]-U,N=T/2-m[g]/2+S,G=Ao(P,N,z),F=!c.arrow&&Tn(s)!=null&&N!==G&&o.reference[g]/2-(N<P?R:U)-m[g]/2<0,H=F?N<P?N-P:N-z:0;return{[p]:f[p]+H,data:{[p]:G,centerOffset:N-G-H,...F&&{alignmentOffset:H}},reset:F}}}),l0=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=ot(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=it(s),w=Ct(a),_=it(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(l.floating)),E=f||(_||!m?[Qr(a)]:r0(a)),k=g!=="none";!f&&k&&E.push(...o0(a,m,g,x));const T=[a,...E],S=await sr(t,y),A=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&A.push(S[b]),h){const N=n0(s,i,x);A.push(S[N[0]],S[N[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(N=>N<=0)){var U,P;const N=(((U=o.flip)==null?void 0:U.index)||0)+1,G=T[N];if(G)return{data:{index:N,overflows:R},reset:{placement:G}};let F=(P=R.filter(H=>H.overflows[0]<=0).sort((H,M)=>H.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(p){case"bestFit":{var z;const H=(z=R.filter(M=>{if(k){const I=Ct(M.placement);return I===w||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:z[0];H&&(F=H);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function ec(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tc(e){return Zw.some(t=>e[t]>=0)}const u0=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ot(e,t);switch(r){case"referenceHidden":{const o=await sr(t,{...s,elementContext:"reference"}),i=ec(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:tc(i)}}}case"escaped":{const o=await sr(t,{...s,altBoundary:!0}),i=ec(o,n.floating);return{data:{escapedOffsets:i,escaped:tc(i)}}}default:return{}}}}};async function d0(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=it(n),a=Tn(n),c=Ct(n)==="y",l=["left","top"].includes(i)?-1:1,u=o&&c?-1:1,h=ot(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}const h0=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await d0(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},f0=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=ot(e,t),l={x:n,y:r},u=await sr(t,c),h=Ct(it(s)),f=di(h);let p=l[f],g=l[h];if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+u[y],_=p-u[b];p=Ao(w,p,_)}if(i){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+u[y],_=g-u[b];g=Ao(w,g,_)}const m=a.fn({...t,[f]:p,[h]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[h]:i}}}}}},p0=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ot(e,t),u={x:n,y:r},h=Ct(s),f=di(h);let p=u[f],g=u[h];const m=ot(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const _=f==="y"?"height":"width",x=o.reference[f]-o.floating[_]+y.mainAxis,E=o.reference[f]+o.reference[_]-y.mainAxis;p<x?p=x:p>E&&(p=E)}if(l){var b,w;const _=f==="y"?"width":"height",x=["top","left"].includes(it(s)),E=o.reference[h]-o.floating[_]+(x&&((b=i.offset)==null?void 0:b[h])||0)+(x?0:y.crossAxis),k=o.reference[h]+o.reference[_]+(x?0:((w=i.offset)==null?void 0:w[h])||0)-(x?y.crossAxis:0);g<E?g=E:g>k&&(g=k)}return{[f]:p,[h]:g}}}},m0=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...l}=ot(e,t),u=await sr(t,l),h=it(s),f=Tn(s),p=Ct(s)==="y",{width:g,height:m}=o.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,y=f==="end"?"top":"bottom");const w=m-u.top-u.bottom,_=g-u.left-u.right,x=St(m-u[y],w),E=St(g-u[b],_),k=!t.middlewareData.shift;let T=x,S=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=w),k&&!f){const R=Se(u.left,0),U=Se(u.right,0),P=Se(u.top,0),z=Se(u.bottom,0);p?S=g-2*(R!==0||U!==0?R+U:Se(u.left,u.right)):T=m-2*(P!==0||z!==0?P+z:Se(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:T});const A=await i.getDimensions(a.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function fs(){return typeof window<"u"}function An(e){return hu(e)?(e.nodeName||"").toLowerCase():"#document"}function Te(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Je(e){var t;return(t=(hu(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hu(e){return fs()?e instanceof Node||e instanceof Te(e).Node:!1}function Fe(e){return fs()?e instanceof Element||e instanceof Te(e).Element:!1}function Qe(e){return fs()?e instanceof HTMLElement||e instanceof Te(e).HTMLElement:!1}function nc(e){return!fs()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Te(e).ShadowRoot}function fr(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ue(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function g0(e){return["table","td","th"].includes(An(e))}function ps(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pi(e){const t=mi(),n=Fe(e)?Ue(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function v0(e){let t=Tt(e);for(;Qe(t)&&!yn(t);){if(pi(t))return t;if(ps(t))return null;t=Tt(t)}return null}function mi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yn(e){return["html","body","#document"].includes(An(e))}function Ue(e){return Te(e).getComputedStyle(e)}function ms(e){return Fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tt(e){if(An(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nc(e)&&e.host||Je(e);return nc(t)?t.host:t}function fu(e){const t=Tt(e);return yn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qe(t)&&fr(t)?t:fu(t)}function or(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=fu(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Te(s);if(o){const a=Io(i);return t.concat(i,i.visualViewport||[],fr(s)?s:[],a&&n?or(a):[])}return t.concat(s,or(s,[],n))}function Io(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pu(e){const t=Ue(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Qe(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Yr(n)!==o||Yr(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function gi(e){return Fe(e)?e:e.contextElement}function sn(e){const t=gi(e);if(!Qe(t))return Ye(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=pu(t);let i=(o?Yr(n.width):n.width)/r,a=(o?Yr(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const y0=Ye(0);function mu(e){const t=Te(e);return!mi()||!t.visualViewport?y0:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b0(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Te(e)?!1:t}function zt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=gi(e);let i=Ye(1);t&&(r?Fe(r)&&(i=sn(r)):i=sn(e));const a=b0(o,n,r)?mu(o):Ye(0);let c=(s.left+a.x)/i.x,l=(s.top+a.y)/i.y,u=s.width/i.x,h=s.height/i.y;if(o){const f=Te(o),p=r&&Fe(r)?Te(r):r;let g=f,m=Io(g);for(;m&&r&&p!==g;){const y=sn(m),b=m.getBoundingClientRect(),w=Ue(m),_=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,x=b.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,h*=y.y,c+=_,l+=x,g=Te(m),m=Io(g)}}return Jr({width:u,height:h,x:c,y:l})}function vi(e,t){const n=ms(e).scrollLeft;return t?t.left+n:zt(Je(e)).left+n}function gu(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:vi(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function w0(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Je(r),a=t?ps(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=Ye(1);const u=Ye(0),h=Qe(r);if((h||!h&&!o)&&((An(r)!=="body"||fr(i))&&(c=ms(r)),Qe(r))){const p=zt(r);l=sn(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=i&&!h&&!o?gu(i,c,!0):Ye(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function _0(e){return Array.from(e.getClientRects())}function x0(e){const t=Je(e),n=ms(e),r=e.ownerDocument.body,s=Se(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Se(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+vi(e);const a=-n.scrollTop;return Ue(r).direction==="rtl"&&(i+=Se(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function E0(e,t){const n=Te(e),r=Je(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const l=mi();(!l||l&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function S0(e,t){const n=zt(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Qe(e)?sn(e):Ye(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,l=r*o.y;return{width:i,height:a,x:c,y:l}}function rc(e,t,n){let r;if(t==="viewport")r=E0(e,n);else if(t==="document")r=x0(Je(e));else if(Fe(t))r=S0(t,n);else{const s=mu(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Jr(r)}function vu(e,t){const n=Tt(e);return n===t||!Fe(n)||yn(n)?!1:Ue(n).position==="fixed"||vu(n,t)}function C0(e,t){const n=t.get(e);if(n)return n;let r=or(e,[],!1).filter(a=>Fe(a)&&An(a)!=="body"),s=null;const o=Ue(e).position==="fixed";let i=o?Tt(e):e;for(;Fe(i)&&!yn(i);){const a=Ue(i),c=pi(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||fr(i)&&!c&&vu(e,i))?r=r.filter(u=>u!==i):s=a,i=Tt(i)}return t.set(e,r),r}function T0(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?ps(t)?[]:C0(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((l,u)=>{const h=rc(t,u,s);return l.top=Se(h.top,l.top),l.right=St(h.right,l.right),l.bottom=St(h.bottom,l.bottom),l.left=Se(h.left,l.left),l},rc(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function A0(e){const{width:t,height:n}=pu(e);return{width:t,height:n}}function k0(e,t,n){const r=Qe(t),s=Je(t),o=n==="fixed",i=zt(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ye(0);if(r||!r&&!o)if((An(t)!=="body"||fr(s))&&(a=ms(t)),r){const f=zt(t,!0,o,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=vi(s));const l=s&&!r&&!o?gu(s,a):Ye(0),u=i.left+a.scrollLeft-c.x-l.x,h=i.top+a.scrollTop-c.y-l.y;return{x:u,y:h,width:i.width,height:i.height}}function Ys(e){return Ue(e).position==="static"}function sc(e,t){if(!Qe(e)||Ue(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Je(e)===n&&(n=n.ownerDocument.body),n}function yu(e,t){const n=Te(e);if(ps(e))return n;if(!Qe(e)){let s=Tt(e);for(;s&&!yn(s);){if(Fe(s)&&!Ys(s))return s;s=Tt(s)}return n}let r=sc(e,t);for(;r&&g0(r)&&Ys(r);)r=sc(r,t);return r&&yn(r)&&Ys(r)&&!pi(r)?n:r||v0(e)||n}const I0=async function(e){const t=this.getOffsetParent||yu,n=this.getDimensions,r=await n(e.floating);return{reference:k0(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R0(e){return Ue(e).direction==="rtl"}const P0={convertOffsetParentRelativeRectToViewportRelativeRect:w0,getDocumentElement:Je,getClippingRect:T0,getOffsetParent:yu,getElementRects:I0,getClientRects:_0,getDimensions:A0,getScale:sn,isElement:Fe,isRTL:R0};function M0(e,t){let n=null,r;const s=Je(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:l,top:u,width:h,height:f}=e.getBoundingClientRect();if(a||t(),!h||!f)return;const p=Ir(u),g=Ir(s.clientWidth-(l+h)),m=Ir(s.clientHeight-(u+f)),y=Ir(l),w={rootMargin:-p+"px "+-g+"px "+-m+"px "+-y+"px",threshold:Se(0,St(1,c))||1};let _=!0;function x(E){const k=E[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(x,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(x,w)}n.observe(e)}return i(!0),o}function O0(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=gi(e),u=s||o?[...l?or(l):[],...or(t)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const h=l&&a?M0(l,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let g,m=c?zt(e):null;c&&y();function y(){const b=zt(e);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&n(),m=b,g=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const j0=h0,N0=f0,D0=l0,L0=m0,$0=u0,oc=c0,F0=p0,U0=(e,t,n)=>{const r=new Map,s={platform:P0,...n},o={...s.platform,_c:r};return a0(e,t,{...s,platform:o})};var $r=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Xr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xr(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Xr(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function bu(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ic(e,t){const n=bu(e);return Math.round(t*n)/n}function Qs(e){const t=d.useRef(e);return $r(()=>{t.current=e}),t}function B0(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,h]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=d.useState(r);Xr(f,r)||p(r);const[g,m]=d.useState(null),[y,b]=d.useState(null),w=d.useCallback(M=>{M!==k.current&&(k.current=M,m(M))},[]),_=d.useCallback(M=>{M!==T.current&&(T.current=M,b(M))},[]),x=o||g,E=i||y,k=d.useRef(null),T=d.useRef(null),S=d.useRef(u),A=c!=null,R=Qs(c),U=Qs(s),P=Qs(l),z=d.useCallback(()=>{if(!k.current||!T.current)return;const M={placement:t,strategy:n,middleware:f};U.current&&(M.platform=U.current),U0(k.current,T.current,M).then(I=>{const V={...I,isPositioned:P.current!==!1};N.current&&!Xr(S.current,V)&&(S.current=V,li.flushSync(()=>{h(V)}))})},[f,t,n,U,P]);$r(()=>{l===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[l]);const N=d.useRef(!1);$r(()=>(N.current=!0,()=>{N.current=!1}),[]),$r(()=>{if(x&&(k.current=x),E&&(T.current=E),x&&E){if(R.current)return R.current(x,E,z);z()}},[x,E,z,R,A]);const G=d.useMemo(()=>({reference:k,floating:T,setReference:w,setFloating:_}),[w,_]),F=d.useMemo(()=>({reference:x,floating:E}),[x,E]),H=d.useMemo(()=>{const M={position:n,left:0,top:0};if(!F.floating)return M;const I=ic(F.floating,u.x),V=ic(F.floating,u.y);return a?{...M,transform:"translate("+I+"px, "+V+"px)",...bu(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:V}},[n,a,F.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:z,refs:G,elements:F,floatingStyles:H}),[u,z,G,F,H])}const z0=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?oc({element:r.current,padding:s}).fn(n):{}:r?oc({element:r,padding:s}).fn(n):{}}}},H0=(e,t)=>({...j0(e),options:[e,t]}),V0=(e,t)=>({...N0(e),options:[e,t]}),W0=(e,t)=>({...F0(e),options:[e,t]}),q0=(e,t)=>({...D0(e),options:[e,t]}),K0=(e,t)=>({...L0(e),options:[e,t]}),G0=(e,t)=>({...$0(e),options:[e,t]}),Y0=(e,t)=>({...z0(e),options:[e,t]});var Q0="Arrow",wu=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return v.jsx(ae.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});wu.displayName=Q0;var J0=wu;function X0(e){const[t,n]=d.useState(void 0);return Bt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;i=l.inlineSize,a=l.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yi="Popper",[_u,gs]=Cn(yi),[Z0,xu]=_u(yi),Eu=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return v.jsx(Z0,{scope:t,anchor:r,onAnchorChange:s,children:n})};Eu.displayName=yi;var Su="PopperAnchor",Cu=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=xu(Su,n),i=d.useRef(null),a=ue(t,i);return d.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:v.jsx(ae.div,{...s,ref:a})});Cu.displayName=Su;var bi="PopperContent",[e_,t_]=_u(bi),Tu=d.forwardRef((e,t)=>{var pe,At,Ie,In,Ri,Pi;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,y=xu(bi,n),[b,w]=d.useState(null),_=ue(t,Rn=>w(Rn)),[x,E]=d.useState(null),k=X0(x),T=(k==null?void 0:k.width)??0,S=(k==null?void 0:k.height)??0,A=r+(o!=="center"?"-"+o:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(l)?l:[l],P=U.length>0,z={padding:R,boundary:U.filter(r_),altBoundary:P},{refs:N,floatingStyles:G,placement:F,isPositioned:H,middlewareData:M}=B0({strategy:"fixed",placement:A,whileElementsMounted:(...Rn)=>O0(...Rn,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[H0({mainAxis:s+S,alignmentAxis:i}),c&&V0({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?W0():void 0,...z}),c&&q0({...z}),K0({...z,apply:({elements:Rn,rects:Mi,availableWidth:rh,availableHeight:sh})=>{const{width:oh,height:ih}=Mi.reference,gr=Rn.floating.style;gr.setProperty("--radix-popper-available-width",`${rh}px`),gr.setProperty("--radix-popper-available-height",`${sh}px`),gr.setProperty("--radix-popper-anchor-width",`${oh}px`),gr.setProperty("--radix-popper-anchor-height",`${ih}px`)}}),x&&Y0({element:x,padding:a}),s_({arrowWidth:T,arrowHeight:S}),f&&G0({strategy:"referenceHidden",...z})]}),[I,V]=Iu(F),W=$e(g);Bt(()=>{H&&(W==null||W())},[H,W]);const ne=(pe=M.arrow)==null?void 0:pe.x,re=(At=M.arrow)==null?void 0:At.y,oe=((Ie=M.arrow)==null?void 0:Ie.centerOffset)!==0,[he,fe]=d.useState();return Bt(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),v.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(In=M.transformOrigin)==null?void 0:In.x,(Ri=M.transformOrigin)==null?void 0:Ri.y].join(" "),...((Pi=M.hide)==null?void 0:Pi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(e_,{scope:n,placedSide:I,onArrowChange:E,arrowX:ne,arrowY:re,shouldHideArrow:oe,children:v.jsx(ae.div,{"data-side":I,"data-align":V,...m,ref:_,style:{...m.style,animation:H?void 0:"none"}})})})});Tu.displayName=bi;var Au="PopperArrow",n_={top:"bottom",right:"left",bottom:"top",left:"right"},ku=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=t_(Au,r),i=n_[o.placedSide];return v.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:v.jsx(J0,{...s,ref:n,style:{...s.style,display:"block"}})})});ku.displayName=Au;function r_(e){return e!==null}var s_=e=>({name:"transformOrigin",options:e,fn(t){var y,b,w;const{placement:n,rects:r,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[l,u]=Iu(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let g="",m="";return l==="bottom"?(g=i?h:`${f}px`,m=`${-c}px`):l==="top"?(g=i?h:`${f}px`,m=`${r.floating.height+c}px`):l==="right"?(g=`${-c}px`,m=i?h:`${p}px`):l==="left"&&(g=`${r.floating.width+c}px`,m=i?h:`${p}px`),{data:{x:g,y:m}}}});function Iu(e){const[t,n="center"]=e.split("-");return[t,n]}var Ru=Eu,Pu=Cu,Mu=Tu,Ou=ku,o_="Portal",ju=d.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=d.useState(!1);Bt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Mw.createPortal(v.jsx(ae.div,{...r,ref:t}),i):null});ju.displayName=o_;function i_(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var kn=e=>{const{present:t,children:n}=e,r=a_(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),o=ue(r.ref,c_(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:o}):null};kn.displayName="Presence";function a_(e){const[t,n]=d.useState(),r=d.useRef({}),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[a,c]=i_(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=Rr(r.current);o.current=a==="mounted"?l:"none"},[a]),Bt(()=>{const l=r.current,u=s.current;if(u!==e){const f=o.current,p=Rr(l);e?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Bt(()=>{if(t){let l;const u=t.ownerDocument.defaultView??window,h=p=>{const m=Rr(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",l=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=p=>{p.target===t&&(o.current=Rr(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Rr(e){return(e==null?void 0:e.animationName)||"none"}function c_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Js="rovingFocusGroup.onEntryFocus",l_={bubbles:!1,cancelable:!0},vs="RovingFocusGroup",[Ro,Nu,u_]=ou(vs),[d_,Du]=Cn(vs,[u_]),[h_,f_]=d_(vs),Lu=d.forwardRef((e,t)=>v.jsx(Ro.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(Ro.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(p_,{...e,ref:t})})}));Lu.displayName=vs;var p_=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...h}=e,f=d.useRef(null),p=ue(t,f),g=iu(o),[m=null,y]=ci({prop:i,defaultProp:a,onChange:c}),[b,w]=d.useState(!1),_=$e(l),x=Nu(n),E=d.useRef(!1),[k,T]=d.useState(0);return d.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Js,_),()=>S.removeEventListener(Js,_)},[_]),v.jsx(h_,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:m,onItemFocus:d.useCallback(S=>y(S),[y]),onItemShiftTab:d.useCallback(()=>w(!0),[]),onFocusableItemAdd:d.useCallback(()=>T(S=>S+1),[]),onFocusableItemRemove:d.useCallback(()=>T(S=>S-1),[]),children:v.jsx(ae.div,{tabIndex:b||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:$(e.onMouseDown,()=>{E.current=!0}),onFocus:$(e.onFocus,S=>{const A=!E.current;if(S.target===S.currentTarget&&A&&!b){const R=new CustomEvent(Js,l_);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const U=x().filter(F=>F.focusable),P=U.find(F=>F.active),z=U.find(F=>F.id===m),G=[P,z,...U].filter(Boolean).map(F=>F.ref.current);Uu(G,u)}}E.current=!1}),onBlur:$(e.onBlur,()=>w(!1))})})}),$u="RovingFocusGroupItem",Fu=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=Gr(),c=o||a,l=f_($u,n),u=l.currentTabStopId===c,h=Nu(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=l;return d.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),v.jsx(Ro.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:v.jsx(ae.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...i,ref:t,onMouseDown:$(e.onMouseDown,g=>{r?l.onItemFocus(c):g.preventDefault()}),onFocus:$(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:$(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=v_(g,l.orientation,l.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const w=b.indexOf(g.currentTarget);b=l.loop?y_(b,w+1):b.slice(w+1)}setTimeout(()=>Uu(b))}})})})});Fu.displayName=$u;var m_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function v_(e,t,n){const r=g_(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return m_[r]}function Uu(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function y_(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var b_=Lu,w_=Fu,__=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jt=new WeakMap,Pr=new WeakMap,Mr={},Xs=0,Bu=function(e){return e&&(e.host||Bu(e.parentNode))},x_=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Bu(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},E_=function(e,t,n,r){var s=x_(t,Array.isArray(e)?e:[e]);Mr[n]||(Mr[n]=new WeakMap);var o=Mr[n],i=[],a=new Set,c=new Set(s),l=function(h){!h||a.has(h)||(a.add(h),l(h.parentNode))};s.forEach(l);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",m=(Jt.get(f)||0)+1,y=(o.get(f)||0)+1;Jt.set(f,m),o.set(f,y),i.push(f),m===1&&g&&Pr.set(f,!0),y===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(t),a.clear(),Xs++,function(){i.forEach(function(h){var f=Jt.get(h)-1,p=o.get(h)-1;Jt.set(h,f),o.set(h,p),f||(Pr.has(h)||h.removeAttribute(r),Pr.delete(h)),p||h.removeAttribute(n)}),Xs--,Xs||(Jt=new WeakMap,Jt=new WeakMap,Pr=new WeakMap,Mr={})}},S_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=__(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),E_(r,s,n,"aria-hidden")):function(){return null}},Ke=function(){return Ke=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ke.apply(this,arguments)};function zu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function C_(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Fr="right-scroll-bar-position",Ur="width-before-scroll-bar",T_="with-scroll-bars-hidden",A_="--removed-body-scroll-bar-size";function Zs(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k_(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var I_=typeof window<"u"?d.useLayoutEffect:d.useEffect,ac=new WeakMap;function R_(e,t){var n=k_(null,function(r){return e.forEach(function(s){return Zs(s,r)})});return I_(function(){var r=ac.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Zs(a,null)}),o.forEach(function(a){s.has(a)||Zs(a,i)})}ac.set(n,e)},[e]),n}function P_(e){return e}function M_(e,t){t===void 0&&(t=P_);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var u=i;i=[],u.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){i.push(u),l()},filter:function(u){return i=i.filter(u),n}}}};return s}function O_(e){e===void 0&&(e={});var t=M_(null);return t.options=Ke({async:!0,ssr:!1},e),t}var Hu=function(e){var t=e.sideCar,n=zu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ke({},n))};Hu.isSideCarExport=!0;function j_(e,t){return e.useMedium(t),Hu}var Vu=O_(),eo=function(){},ys=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:eo,onWheelCapture:eo,onTouchMoveCapture:eo}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,_=zu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,E=R_([n,t]),k=Ke(Ke({},_),s);return d.createElement(d.Fragment,null,u&&d.createElement(x,{sideCar:Vu,removeScrollBar:l,shards:h,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:w}),i?d.cloneElement(d.Children.only(a),Ke(Ke({},k),{ref:E})):d.createElement(b,Ke({},k,{className:c,ref:E}),a))});ys.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ys.classNames={fullWidth:Ur,zeroRight:Fr};var N_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=N_();return t&&e.setAttribute("nonce",t),e}function L_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F_=function(){var e=0,t=null;return{add:function(n){e==0&&(t=D_())&&(L_(t,n),$_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U_=function(){var e=F_();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Wu=function(){var e=U_(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},B_={left:0,top:0,right:0,gap:0},to=function(e){return parseInt(e||"",10)||0},z_=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[to(n),to(r),to(s)]},H_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return B_;var t=z_(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},V_=Wu(),on="data-scroll-locked",W_=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(T_,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(on,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fr,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ur,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fr," .").concat(Fr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ur," .").concat(Ur,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(on,`] {
    `).concat(A_,": ").concat(a,`px;
  }
`)},cc=function(){var e=parseInt(document.body.getAttribute(on)||"0",10);return isFinite(e)?e:0},q_=function(){d.useEffect(function(){return document.body.setAttribute(on,(cc()+1).toString()),function(){var e=cc()-1;e<=0?document.body.removeAttribute(on):document.body.setAttribute(on,e.toString())}},[])},K_=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;q_();var o=d.useMemo(function(){return H_(s)},[s]);return d.createElement(V_,{styles:W_(o,!t,s,n?"":"!important")})},Po=!1;if(typeof window<"u")try{var Or=Object.defineProperty({},"passive",{get:function(){return Po=!0,!0}});window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Po=!1}var Xt=Po?{passive:!1}:!1,G_=function(e){return e.tagName==="TEXTAREA"},qu=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!G_(e)&&n[t]==="visible")},Y_=function(e){return qu(e,"overflowY")},Q_=function(e){return qu(e,"overflowX")},lc=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ku(e,r);if(s){var o=Gu(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J_=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},X_=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ku=function(e,t){return e==="v"?Y_(t):Q_(t)},Gu=function(e,t){return e==="v"?J_(t):X_(t)},Z_=function(e,t){return e==="h"&&t==="rtl"?-1:1},ex=function(e,t,n,r,s){var o=Z_(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),l=!1,u=i>0,h=0,f=0;do{var p=Gu(e,a),g=p[0],m=p[1],y=p[2],b=m-y-o*g;(g||b)&&Ku(e,a)&&(h+=b,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(l=!0),l},jr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uc=function(e){return[e.deltaX,e.deltaY]},dc=function(e){return e&&"current"in e?e.current:e},tx=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nx=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rx=0,Zt=[];function sx(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(rx++)[0],o=d.useState(Wu)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=C_([e.lockRef.current],(e.shards||[]).map(dc),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var b=jr(m),w=n.current,_="deltaX"in m?m.deltaX:w[0]-b[0],x="deltaY"in m?m.deltaY:w[1]-b[1],E,k=m.target,T=Math.abs(_)>Math.abs(x)?"h":"v";if("touches"in m&&T==="h"&&k.type==="range")return!1;var S=lc(T,k);if(!S)return!0;if(S?E=T:(E=T==="v"?"h":"v",S=lc(T,k)),!S)return!1;if(!r.current&&"changedTouches"in m&&(_||x)&&(r.current=E),!E)return!0;var A=r.current||E;return ex(A,y,m,A==="h"?_:x,!0)},[]),c=d.useCallback(function(m){var y=m;if(!(!Zt.length||Zt[Zt.length-1]!==o)){var b="deltaY"in y?uc(y):jr(y),w=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&tx(E.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var _=(i.current.shards||[]).map(dc).filter(Boolean).filter(function(E){return E.contains(y.target)}),x=_.length>0?a(y,_[0]):!i.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),l=d.useCallback(function(m,y,b,w){var _={name:m,delta:y,target:b,should:w,shadowParent:ox(b)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(x){return x!==_})},1)},[]),u=d.useCallback(function(m){n.current=jr(m),r.current=void 0},[]),h=d.useCallback(function(m){l(m.type,uc(m),m.target,a(m,e.lockRef.current))},[]),f=d.useCallback(function(m){l(m.type,jr(m),m.target,a(m,e.lockRef.current))},[]);d.useEffect(function(){return Zt.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Xt),document.addEventListener("touchmove",c,Xt),document.addEventListener("touchstart",u,Xt),function(){Zt=Zt.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,Xt),document.removeEventListener("touchmove",c,Xt),document.removeEventListener("touchstart",u,Xt)}},[]);var p=e.removeScrollBar,g=e.inert;return d.createElement(d.Fragment,null,g?d.createElement(o,{styles:nx(s)}):null,p?d.createElement(K_,{gapMode:e.gapMode}):null)}function ox(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ix=j_(Vu,sx);var Yu=d.forwardRef(function(e,t){return d.createElement(ys,Ke({},e,{ref:t,sideCar:ix}))});Yu.classNames=ys.classNames;var Mo=["Enter"," "],ax=["ArrowDown","PageUp","Home"],Qu=["ArrowUp","PageDown","End"],cx=[...ax,...Qu],lx={ltr:[...Mo,"ArrowRight"],rtl:[...Mo,"ArrowLeft"]},ux={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pr="Menu",[ir,dx,hx]=ou(pr),[qt,Ju]=Cn(pr,[hx,gs,Du]),bs=gs(),Xu=Du(),[fx,Kt]=qt(pr),[px,mr]=qt(pr),Zu=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=bs(t),[c,l]=d.useState(null),u=d.useRef(!1),h=$e(o),f=iu(s);return d.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),v.jsx(Ru,{...a,children:v.jsx(fx,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:l,children:v.jsx(px,{scope:t,onClose:d.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:i,children:r})})})};Zu.displayName=pr;var mx="MenuAnchor",wi=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=bs(n);return v.jsx(Pu,{...s,...r,ref:t})});wi.displayName=mx;var _i="MenuPortal",[gx,ed]=qt(_i,{forceMount:void 0}),td=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Kt(_i,t);return v.jsx(gx,{scope:t,forceMount:n,children:v.jsx(kn,{present:n||o.open,children:v.jsx(ju,{asChild:!0,container:s,children:r})})})};td.displayName=_i;var Pe="MenuContent",[vx,xi]=qt(Pe),nd=d.forwardRef((e,t)=>{const n=ed(Pe,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Kt(Pe,e.__scopeMenu),i=mr(Pe,e.__scopeMenu);return v.jsx(ir.Provider,{scope:e.__scopeMenu,children:v.jsx(kn,{present:r||o.open,children:v.jsx(ir.Slot,{scope:e.__scopeMenu,children:i.modal?v.jsx(yx,{...s,ref:t}):v.jsx(bx,{...s,ref:t})})})})}),yx=d.forwardRef((e,t)=>{const n=Kt(Pe,e.__scopeMenu),r=d.useRef(null),s=ue(t,r);return d.useEffect(()=>{const o=r.current;if(o)return S_(o)},[]),v.jsx(Ei,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bx=d.forwardRef((e,t)=>{const n=Kt(Pe,e.__scopeMenu);return v.jsx(Ei,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ei=d.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...m}=e,y=Kt(Pe,n),b=mr(Pe,n),w=bs(n),_=Xu(n),x=dx(n),[E,k]=d.useState(null),T=d.useRef(null),S=ue(t,T,y.onContentChange),A=d.useRef(0),R=d.useRef(""),U=d.useRef(0),P=d.useRef(null),z=d.useRef("right"),N=d.useRef(0),G=g?Yu:d.Fragment,F=g?{as:gn,allowPinchZoom:!0}:void 0,H=I=>{var pe,At;const V=R.current+I,W=x().filter(Ie=>!Ie.disabled),ne=document.activeElement,re=(pe=W.find(Ie=>Ie.ref.current===ne))==null?void 0:pe.textValue,oe=W.map(Ie=>Ie.textValue),he=Px(oe,V,re),fe=(At=W.find(Ie=>Ie.textValue===he))==null?void 0:At.ref.current;(function Ie(In){R.current=In,window.clearTimeout(A.current),In!==""&&(A.current=window.setTimeout(()=>Ie(""),1e3))})(V),fe&&setTimeout(()=>fe.focus())};d.useEffect(()=>()=>window.clearTimeout(A.current),[]),Hw();const M=d.useCallback(I=>{var W,ne;return z.current===((W=P.current)==null?void 0:W.side)&&Ox(I,(ne=P.current)==null?void 0:ne.area)},[]);return v.jsx(vx,{scope:n,searchRef:R,onItemEnter:d.useCallback(I=>{M(I)&&I.preventDefault()},[M]),onItemLeave:d.useCallback(I=>{var V;M(I)||((V=T.current)==null||V.focus(),k(null))},[M]),onTriggerLeave:d.useCallback(I=>{M(I)&&I.preventDefault()},[M]),pointerGraceTimerRef:U,onPointerGraceIntentChange:d.useCallback(I=>{P.current=I},[]),children:v.jsx(G,{...F,children:v.jsx(lu,{asChild:!0,trapped:s,onMountAutoFocus:$(o,I=>{var V;I.preventDefault(),(V=T.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:v.jsx(ui,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:v.jsx(b_,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:$(c,I=>{b.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(Mu,{role:"menu","aria-orientation":"vertical","data-state":yd(y.open),"data-radix-menu-content":"",dir:b.dir,...w,...m,ref:S,style:{outline:"none",...m.style},onKeyDown:$(m.onKeyDown,I=>{const W=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ne=I.ctrlKey||I.altKey||I.metaKey,re=I.key.length===1;W&&(I.key==="Tab"&&I.preventDefault(),!ne&&re&&H(I.key));const oe=T.current;if(I.target!==oe||!cx.includes(I.key))return;I.preventDefault();const fe=x().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);Qu.includes(I.key)&&fe.reverse(),Ix(fe)}),onBlur:$(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:$(e.onPointerMove,ar(I=>{const V=I.target,W=N.current!==I.clientX;if(I.currentTarget.contains(V)&&W){const ne=I.clientX>N.current?"right":"left";z.current=ne,N.current=I.clientX}}))})})})})})})});nd.displayName=Pe;var wx="MenuGroup",Si=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(ae.div,{role:"group",...r,ref:t})});Si.displayName=wx;var _x="MenuLabel",rd=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(ae.div,{...r,ref:t})});rd.displayName=_x;var Zr="MenuItem",hc="menu.itemSelect",ws=d.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=d.useRef(null),i=mr(Zr,e.__scopeMenu),a=xi(Zr,e.__scopeMenu),c=ue(t,o),l=d.useRef(!1),u=()=>{const h=o.current;if(!n&&h){const f=new CustomEvent(hc,{bubbles:!0,cancelable:!0});h.addEventListener(hc,p=>r==null?void 0:r(p),{once:!0}),su(h,f),f.defaultPrevented?l.current=!1:i.onClose()}};return v.jsx(sd,{...s,ref:c,disabled:n,onClick:$(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),l.current=!0},onPointerUp:$(e.onPointerUp,h=>{var f;l.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:$(e.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Mo.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ws.displayName=Zr;var sd=d.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=xi(Zr,n),a=Xu(n),c=d.useRef(null),l=ue(t,c),[u,h]=d.useState(!1),[f,p]=d.useState("");return d.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[o.children]),v.jsx(ir.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:v.jsx(w_,{asChild:!0,...a,focusable:!r,children:v.jsx(ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:l,onPointerMove:$(e.onPointerMove,ar(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$(e.onPointerLeave,ar(g=>i.onItemLeave(g))),onFocus:$(e.onFocus,()=>h(!0)),onBlur:$(e.onBlur,()=>h(!1))})})})}),xx="MenuCheckboxItem",od=d.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return v.jsx(ud,{scope:e.__scopeMenu,checked:n,children:v.jsx(ws,{role:"menuitemcheckbox","aria-checked":es(n)?"mixed":n,...s,ref:t,"data-state":Ti(n),onSelect:$(s.onSelect,()=>r==null?void 0:r(es(n)?!0:!n),{checkForDefaultPrevented:!1})})})});od.displayName=xx;var id="MenuRadioGroup",[Ex,Sx]=qt(id,{value:void 0,onValueChange:()=>{}}),ad=d.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=$e(r);return v.jsx(Ex,{scope:e.__scopeMenu,value:n,onValueChange:o,children:v.jsx(Si,{...s,ref:t})})});ad.displayName=id;var cd="MenuRadioItem",ld=d.forwardRef((e,t)=>{const{value:n,...r}=e,s=Sx(cd,e.__scopeMenu),o=n===s.value;return v.jsx(ud,{scope:e.__scopeMenu,checked:o,children:v.jsx(ws,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Ti(o),onSelect:$(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});ld.displayName=cd;var Ci="MenuItemIndicator",[ud,Cx]=qt(Ci,{checked:!1}),dd=d.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=Cx(Ci,n);return v.jsx(kn,{present:r||es(o.checked)||o.checked===!0,children:v.jsx(ae.span,{...s,ref:t,"data-state":Ti(o.checked)})})});dd.displayName=Ci;var Tx="MenuSeparator",hd=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});hd.displayName=Tx;var Ax="MenuArrow",fd=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=bs(n);return v.jsx(Ou,{...s,...r,ref:t})});fd.displayName=Ax;var kx="MenuSub",[LS,pd]=qt(kx),Wn="MenuSubTrigger",md=d.forwardRef((e,t)=>{const n=Kt(Wn,e.__scopeMenu),r=mr(Wn,e.__scopeMenu),s=pd(Wn,e.__scopeMenu),o=xi(Wn,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,l={__scopeMenu:e.__scopeMenu},u=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>u,[u]),d.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),v.jsx(wi,{asChild:!0,...l,children:v.jsx(sd,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":yd(n.open),...e,ref:cs(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$(e.onPointerMove,ar(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:$(e.onPointerLeave,ar(h=>{var p,g;u();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const m=(g=n.content)==null?void 0:g.dataset.side,y=m==="right",b=y?-5:5,w=f[y?"left":"right"],_=f[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:w,y:f.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:$(e.onKeyDown,h=>{var p;const f=o.searchRef.current!=="";e.disabled||f&&h.key===" "||lx[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});md.displayName=Wn;var gd="MenuSubContent",vd=d.forwardRef((e,t)=>{const n=ed(Pe,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Kt(Pe,e.__scopeMenu),i=mr(Pe,e.__scopeMenu),a=pd(gd,e.__scopeMenu),c=d.useRef(null),l=ue(t,c);return v.jsx(ir.Provider,{scope:e.__scopeMenu,children:v.jsx(kn,{present:r||o.open,children:v.jsx(ir.Slot,{scope:e.__scopeMenu,children:v.jsx(Ei,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:$(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:$(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:$(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),f=ux[i.dir].includes(u.key);h&&f&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),u.preventDefault())})})})})})});vd.displayName=gd;function yd(e){return e?"open":"closed"}function es(e){return e==="indeterminate"}function Ti(e){return es(e)?"indeterminate":e?"checked":"unchecked"}function Ix(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Rx(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Px(e,t,n){const s=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=Rx(e,Math.max(o,0));s.length===1&&(i=i.filter(l=>l!==n));const c=i.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Mx(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,l=t[i].x,u=t[i].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function Ox(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Mx(n,t)}function ar(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jx=Zu,Nx=wi,Dx=td,Lx=nd,$x=Si,Fx=rd,Ux=ws,Bx=od,zx=ad,Hx=ld,Vx=dd,Wx=hd,qx=fd,Kx=md,Gx=vd,Ai="DropdownMenu",[Yx,$S]=Cn(Ai,[Ju]),be=Ju(),[Qx,bd]=Yx(Ai),wd=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=be(t),l=d.useRef(null),[u=!1,h]=ci({prop:s,defaultProp:o,onChange:i});return v.jsx(Qx,{scope:t,triggerId:Gr(),triggerRef:l,contentId:Gr(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:a,children:v.jsx(jx,{...c,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};wd.displayName=Ai;var _d="DropdownMenuTrigger",xd=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=bd(_d,n),i=be(n);return v.jsx(Nx,{asChild:!0,...i,children:v.jsx(ae.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:cs(t,o.triggerRef),onPointerDown:$(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:$(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});xd.displayName=_d;var Jx="DropdownMenuPortal",Ed=e=>{const{__scopeDropdownMenu:t,...n}=e,r=be(t);return v.jsx(Dx,{...r,...n})};Ed.displayName=Jx;var Sd="DropdownMenuContent",Cd=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=bd(Sd,n),o=be(n),i=d.useRef(!1);return v.jsx(Lx,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:$(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:$(e.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cd.displayName=Sd;var Xx="DropdownMenuGroup",Zx=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx($x,{...s,...r,ref:t})});Zx.displayName=Xx;var eE="DropdownMenuLabel",Td=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Fx,{...s,...r,ref:t})});Td.displayName=eE;var tE="DropdownMenuItem",Ad=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Ux,{...s,...r,ref:t})});Ad.displayName=tE;var nE="DropdownMenuCheckboxItem",kd=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Bx,{...s,...r,ref:t})});kd.displayName=nE;var rE="DropdownMenuRadioGroup",sE=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(zx,{...s,...r,ref:t})});sE.displayName=rE;var oE="DropdownMenuRadioItem",Id=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Hx,{...s,...r,ref:t})});Id.displayName=oE;var iE="DropdownMenuItemIndicator",Rd=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Vx,{...s,...r,ref:t})});Rd.displayName=iE;var aE="DropdownMenuSeparator",Pd=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Wx,{...s,...r,ref:t})});Pd.displayName=aE;var cE="DropdownMenuArrow",lE=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(qx,{...s,...r,ref:t})});lE.displayName=cE;var uE="DropdownMenuSubTrigger",Md=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Kx,{...s,...r,ref:t})});Md.displayName=uE;var dE="DropdownMenuSubContent",Od=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=be(n);return v.jsx(Gx,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Od.displayName=dE;var hE=wd,fE=xd,pE=Ed,jd=Cd,Nd=Td,Dd=Ad,Ld=kd,$d=Id,Fd=Rd,Ud=Pd,Bd=Md,zd=Od;const mE=hE,gE=fE,vE=d.forwardRef(({className:e,inset:t,children:n,...r},s)=>v.jsxs(Bd,{ref:s,className:de("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,v.jsx(gm,{className:"ml-auto"})]}));vE.displayName=Bd.displayName;const yE=d.forwardRef(({className:e,...t},n)=>v.jsx(zd,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));yE.displayName=zd.displayName;const Hd=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(pE,{children:v.jsx(jd,{ref:r,sideOffset:t,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Hd.displayName=jd.displayName;const en=d.forwardRef(({className:e,inset:t,...n},r)=>v.jsx(Dd,{ref:r,className:de("relative flex select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));en.displayName=Dd.displayName;const bE=d.forwardRef(({className:e,children:t,checked:n,...r},s)=>v.jsxs(Ld,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Fd,{children:v.jsx(pm,{className:"h-4 w-4"})})}),t]}));bE.displayName=Ld.displayName;const wE=d.forwardRef(({className:e,children:t,...n},r)=>v.jsxs($d,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Fd,{children:v.jsx(vm,{className:"h-2 w-2 fill-current"})})}),t]}));wE.displayName=$d.displayName;const Vd=d.forwardRef(({className:e,inset:t,...n},r)=>v.jsx(Nd,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Vd.displayName=Nd.displayName;const Br=d.forwardRef(({className:e,...t},n)=>v.jsx(Ud,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));Br.displayName=Ud.displayName;function FS(e){switch(e.code){case"conflict":return"Conflito.";case"email_address_invalid":return"Email inválido.";case"email_exists":return"Email já cadastrado.";case"no_authorization":return"Sem autorização.";case"weak_password":return"Senha fraca.";case"invalid_credentials":return"Credenciais inválidas.";case"provider_disabled":return"Provedor desabilitado.";case"validation_failed":return"Falha na validação, verifique as credenciais.";case"email_not_confirmed":return"Email não confirmado.";case"phone_not_confirmed":return"Telefone não confirmado.";default:return"Houve um problema. Tente novamente mais tarde."}}function US(e){return/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(e)}function _E(e){return e==null?void 0:e.split(" ")[0]}function BS(e){return e==null?void 0:e.toUpperCase().split(" ").map(t=>t[0]).join("")}function zS(e){const n=e.replace(/[^\d]/g,"").split(""),r=new Date().getFullYear();if(n.length>=2&&parseInt(n.slice(0,2).join(""),10)>31&&(n[0]="3",n[1]="1"),n.length>=4&&parseInt(n.slice(2,4).join(""),10)>12&&(n[2]="1",n[3]="2"),n.length>4&&parseInt(n.slice(4,8).join(""),10)>r){const o=r.toString();for(let i=4;i<8;i++)n[i]=o[i-4]}return n.length>2&&n.splice(2,0,"/"),n.length>5&&n.splice(5,0,"/"),n.join("")}async function HS(e,t){return new Promise((n,r)=>{const s=document.createElement("canvas"),o=s.getContext("2d"),i=new Image;i.src=URL.createObjectURL(e),i.onload=()=>{const a=i.width/i.height;let c,l;i.width>i.height?(c=t,l=t/a):(l=t,c=t*a),s.width=Math.round(c),s.height=Math.round(l),o==null||o.drawImage(i,0,0,s.width,s.height),s.toBlob(u=>{if(u){const h=new Blob([u],{type:"image/jpeg"}),f=new File([h],`${e.name.split(".").slice(0,-1).join(".")}.jpeg`,{type:"image/jpeg"});n(f)}else r(new Error("Failed to create a blob from the canvas."))},"image/jpeg")},i.onerror=()=>{r(new Error("Failed to load the image."))}})}async function VS(e,t,n,r){console.log({name:e,email:t,phone:n,password:r});const s=`${window.location.origin}/prote-ja-app/dashboard`;console.log("Redirection URL: ",s);const o={type:"user",name:e,phone:n};return console.log({...o}),await ke.auth.signUp({email:t,password:r,options:{emailRedirectTo:s,data:{...o}}})}async function WS(e,t){return await ke.auth.signInWithPassword({email:e,password:t})}async function xE(){return await ke.auth.signOut()}async function qS(e){return await ke.auth.resetPasswordForEmail(e)}const EE=()=>{const{session:e,user:t}=ai(),n=Oe(),[r,s]=d.useState(!1),o=Iw();d.useEffect(()=>{e&&n.pathname!=="/dashboard"?s(!0):s(!1)},[n.pathname,e]);const i=async()=>{const a=await xE();if(a.error){console.error("Error signing out: ",a.error),K.error("Erro ao sair. Tente novamente.");return}};return v.jsx("div",{className:"border-b flex items-center sticky top-0 z-[1] backdrop-blur md:shadow",children:v.jsxs("div",{className:"p-2 justify-between flex items-center h-16 md:px-4 lg:px-10 w-full mx-auto",children:[v.jsxs("div",{className:de("flex w-32 rounded-md items-center absolute py-1",""),children:[v.jsx(qe,{to:"..",className:de("flex items-center w-32 absolute h-12 rounded-md hover:bg-secondary/80",r?"translate-x-0 opacity-100 bg-background border":"-translate-x-full opacity-0 pointer-events-none"),style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out"},children:v.jsxs("div",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 py-2 w-20 text-white",children:[v.jsx(mm,{className:"w-6 h-6"}),"Voltar"]})}),v.jsx("img",{src:Cp,alt:"proteja-logo",className:`max-h-10 absolute ${r?"translate-x-[5.25rem] pointer-events-none":""}`,style:{transition:"transform 500ms ease-in-out"}}),v.jsx("img",{src:Tp,alt:"proteja-name",className:`max-w-32 h-8 mb-2 ${r?"opacity-0 scale-50 translate-x-24":"opacity-100 scale-100 translate-x-10"}`,style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out"}})]}),v.jsxs("div",{className:"gap-2 sm:gap-3 flex items-center ml-auto",children:[o?v.jsxs(nn,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5 border-white",onClick:o,children:[v.jsx(ym,{}),v.jsx("span",{className:"hidden md:block",children:"Download"})]}):null,e?v.jsxs(v.Fragment,{children:[v.jsx(qe,{to:"/dashboard/alerts",children:v.jsxs(nn,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5",children:[v.jsx(fm,{className:"fill-white"}),v.jsx("span",{className:"hidden md:block",children:"Notificações"})]})}),v.jsxs(mE,{children:[v.jsx(gE,{children:v.jsxs(nn,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5",children:[v.jsx(Cm,{}),v.jsx("span",{className:"hidden md:block",children:"Menu"})]})}),v.jsxs(Hd,{className:"mx-4 text-md",children:[v.jsxs(Vd,{children:["Olá ",_E(t==null?void 0:t.name)]}),v.jsx(Br,{}),v.jsx(qe,{to:"/dashboard/profile",children:v.jsxs(en,{children:[v.jsx(Tm,{})," Meu Perfil"]})}),v.jsx(qe,{to:"/dashboard/subscribe",children:v.jsxs(en,{children:[v.jsx(wm,{}),"ProteJÁ+"]})}),v.jsx(Br,{}),v.jsx(qe,{to:"/first-login",children:v.jsxs(en,{children:[v.jsx(bm,{})," Tutorial"]})}),v.jsx(qe,{to:"/about",children:v.jsxs(en,{children:[v.jsx(_m,{})," Sobre"]})}),v.jsx(Br,{}),v.jsxs(en,{className:"text-destructive font-medium",onClick:i,children:[v.jsx(Sm,{}),"Sair"]})]})]})]}):null]})]})})},SE=({isBlack:e})=>v.jsx("div",{className:de("fixed top-0 left-0 w-full h-full -z-1",e?"bg-gradient-to-b from-[#000000] to-[#000000]":"bg-gradient-to-b from-[#7357FF] to-[#4b33be]")}),CE=()=>v.jsxs(v.Fragment,{children:[v.jsx(SE,{}),v.jsx(EE,{}),v.jsx(ns,{})]}),ki=({title:e,children:t,preIcon:n,postIcon:r,className:s="",titleBackground:o,border:i,clickable:a,onClick:c,cornerType:l,style:u})=>{const h=()=>{switch(l){case"square":return"";case"rounded":return"rounded-md";case"auto-md":return"md:rounded-md"}return"rounded-md"},f=n&&r?"col-span-6":n||r?"col-span-8":"col-span-10";return v.jsxs("div",{className:de("dashboard-item bg-background",i?"border":"",a?"transition-all cursor-pointer hover:shadow-md hover:scale-[1.01] active:scale-[1] active:shadow-inner active:opacity-60":"",h(),s),style:u,onClick:c,children:[e&&v.jsxs("div",{className:de("grid grid-cols-10 items-center py-1 px-2 sm:py-2 rounded-t-lg",`${o?"bg-background":""}`),children:[v.jsx("div",{className:"col-span-2",children:n&&v.jsx("div",{children:n})}),v.jsx("div",{className:f,children:v.jsx("h2",{className:"text-xl font-medium text-white text-center line-clamp-1 ",children:e})}),r&&v.jsx("div",{className:"col-span-2 justify-end flex",children:v.jsx("div",{children:r})})]}),t]})},TE=()=>v.jsx(ki,{title:"Você já está autenticado",children:v.jsxs("div",{className:"p-4",children:[v.jsx("p",{className:"text-white",children:"Você já está autenticado, acesse o dashboard para continuar."}),v.jsx(qe,{to:"/dashboard",children:v.jsxs(nn,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",children:[v.jsx(xm,{}),"Ir para dashboard"]})})]})}),Wd="/prote-ja-app/assets/biopark-DuBn1T6g.png",qd="/prote-ja-app/assets/utfpr-Dj1F4QfZ.png",Kd="/prote-ja-app/assets/sapatilhas-BCc3XB-M.png",je={sizeRange:{min:20,max:40},speedYRange:{min:.8,max:1},speedXRange:{min:-.3,max:.3},animationInterval:100,partnerLogos:[Wd,qd,Kd]};function AE(){const[e,t]=d.useState([]),n=d.useRef(null),r=()=>je.partnerLogos.map((s,o)=>({id:o,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*(je.sizeRange.max-je.sizeRange.min)+je.sizeRange.min,speedY:(Math.random()*(je.speedYRange.max-je.speedYRange.min)+je.speedYRange.min)*(Math.random()>.5?1:-1),speedX:Math.random()*(je.speedXRange.max-je.speedXRange.min)+je.speedXRange.min,logo:s}));return d.useEffect(()=>{t(r());const o=setInterval(()=>{t(i=>i.map(a=>({...a,y:(a.y+a.speedY+window.innerHeight)%window.innerHeight,x:(a.x+a.speedX+window.innerWidth)%window.innerWidth})))},je.animationInterval);return()=>{clearInterval(o)}},[]),d.useEffect(()=>{const s=()=>{t(o=>o.map(i=>({...i,x:Math.min(i.x,window.innerWidth),y:Math.min(i.y,window.innerHeight)})))};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),v.jsx("div",{ref:n,className:"fixed inset-0 pointer-events-none",style:{zIndex:0},children:e.map(s=>v.jsx("div",{className:"absolute rounded-full bg-white/5 backdrop-blur-sm flex items-center justify-center",style:{left:`${s.x}px`,top:`${s.y}px`,width:`${s.size}px`,height:`${s.size}px`},children:v.jsx("img",{src:s.logo,alt:"Partner Logo",className:"w-2/3 h-2/3 object-contain opacity-30"})},s.id))})}const no=({logo:e,name:t,description:n})=>v.jsxs("div",{className:"bg-white/10 p-6 rounded-lg backdrop-blur-sm",children:[v.jsx("img",{src:e,alt:`${t} Logo`,className:"h-12 w-auto mx-auto mb-4"}),v.jsx("h4",{className:"text-lg font-semibold text-white text-center mb-2",children:t}),v.jsx("p",{className:"text-sm text-white/80 text-center",children:n})]}),kE=()=>{const{pathname:e}=Oe(),{session:t}=ai();return v.jsxs(v.Fragment,{children:[v.jsx(AE,{}),v.jsx("div",{className:"p-6 max-w-xl justify-center lg:max-w-6xl mx-auto",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[v.jsx("div",{className:"col-span-1 lg:col-span-2 animated-container",children:t?v.jsx(TE,{}):v.jsx(ns,{})},e),v.jsx(ki,{border:!0,className:"col-span-1 lg:col-span-3 h-min p-4",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-center text-3xl font-bold leading-9 tracking-tight text-white mb-6",children:"Apoiado por"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx(no,{name:"UTFPR",logo:qd,description:"Universidade Tecnológica Federal do Paraná"}),v.jsx(no,{name:"Biopark Educação",logo:Wd,description:""}),v.jsx(no,{name:"Use Sapatilhas",logo:Kd,description:""})]})]})})]})})]})},IE=({className:e,children:t})=>v.jsx("div",{className:"w-full md:px-4",children:v.jsx("div",{className:de(e,"relative py-6 px-2 md:border md:rounded-md md:py-6 md:px-4 lg:px-6 md:mt-4 md:mb-4 md:max-w-4xl md:mx-auto md:shadow-md"),children:t})}),RE=()=>{const{pathname:e}=Oe();return v.jsx("div",{className:"fade-in-container",children:v.jsx(IE,{children:v.jsx(ns,{})})},e)},PE=()=>v.jsx(ki,{border:!0,className:"max-w-lg mx-auto h-full mt-8",title:"Não autenticado",children:v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-white",children:"Você precisa estar logado para acessar esta página. Por favor, faça login para acessar este conteúdo."}),v.jsx(qe,{to:"/login",children:v.jsxs(nn,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",children:[v.jsx(Em,{}),"Fazer Login"]})})]})});async function ME(){return await ke.from("totems_view").select().order("name",{ascending:!0}).returns()}async function OE(){return await ke.from("wearables_view").select().order("name",{ascending:!0}).returns()}async function KS(e){return await ke.from("wearables_view").select().eq("id",e).single()}async function GS(e,t){return await ke.from("wearables").update(t).eq("id",e)}const jE=d.createContext({totems:[],wearables:[],loading:!1,refresh:()=>{}}),NE=5,DE=({children:e})=>{const[t,n]=d.useState([]),[r,s]=d.useState([]),[o,i]=d.useState(!1),a=d.useCallback(async()=>{i(!0);try{const{data:l,error:u}=await OE();if(u)throw u;s(l??[])}catch(l){console.error("Error fetching wearables:",l)}try{const{data:l,error:u}=await ME();if(u)throw u;n(l??[])}catch(l){console.error("Error fetching totems:",l)}i(!1)},[]),c=d.useCallback(()=>{a()},[a]);return d.useEffect(()=>{a();const l=setInterval(()=>{a()},NE*1e3);return()=>clearInterval(l)},[a]),v.jsx(jE.Provider,{value:{totems:t,wearables:r,loading:o,refresh:c},children:e})},LE=()=>{const{session:e}=ai();return v.jsx(v.Fragment,{children:e?v.jsx(DE,{children:v.jsx(ns,{})}):v.jsx("div",{className:"px-3",children:v.jsx(PE,{})})})};var $E="VisuallyHidden",Gd=d.forwardRef((e,t)=>v.jsx(ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Gd.displayName=$E;var FE=Gd,[_s,YS]=Cn("Tooltip",[gs]),xs=gs(),Yd="TooltipProvider",UE=700,Oo="tooltip.open",[BE,Ii]=_s(Yd),Qd=e=>{const{__scopeTooltip:t,delayDuration:n=UE,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=d.useState(!0),c=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),v.jsx(BE,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:o})};Qd.displayName=Yd;var Es="Tooltip",[zE,Ss]=_s(Es),Jd=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,c=Ii(Es,e.__scopeTooltip),l=xs(t),[u,h]=d.useState(null),f=Gr(),p=d.useRef(0),g=i??c.disableHoverableContent,m=a??c.delayDuration,y=d.useRef(!1),[b=!1,w]=ci({prop:r,defaultProp:s,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(Oo))):c.onClose(),o==null||o(T)}}),_=d.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),x=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),E=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),k=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},m)},[m,w]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),v.jsx(Ru,{...l,children:v.jsx(zE,{scope:t,contentId:f,open:b,stateAttribute:_,trigger:u,onTriggerChange:h,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?k():x()},[c.isOpenDelayed,k,x]),onTriggerLeave:d.useCallback(()=>{g?E():(window.clearTimeout(p.current),p.current=0)},[E,g]),onOpen:x,onClose:E,disableHoverableContent:g,children:n})})};Jd.displayName=Es;var jo="TooltipTrigger",Xd=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ss(jo,n),o=Ii(jo,n),i=xs(n),a=d.useRef(null),c=ue(t,a,s.onTriggerChange),l=d.useRef(!1),u=d.useRef(!1),h=d.useCallback(()=>l.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(Pu,{asChild:!0,...i,children:v.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:$(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:$(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:$(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:$(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:$(e.onBlur,s.onClose),onClick:$(e.onClick,s.onClose)})})});Xd.displayName=jo;var HE="TooltipPortal",[QS,VE]=_s(HE,{forceMount:void 0}),bn="TooltipContent",Zd=d.forwardRef((e,t)=>{const n=VE(bn,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Ss(bn,e.__scopeTooltip);return v.jsx(kn,{present:r||i.open,children:i.disableHoverableContent?v.jsx(eh,{side:s,...o,ref:t}):v.jsx(WE,{side:s,...o,ref:t})})}),WE=d.forwardRef((e,t)=>{const n=Ss(bn,e.__scopeTooltip),r=Ii(bn,e.__scopeTooltip),s=d.useRef(null),o=ue(t,s),[i,a]=d.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:h}=r,f=d.useCallback(()=>{a(null),h(!1)},[h]),p=d.useCallback((g,m)=>{const y=g.currentTarget,b={x:g.clientX,y:g.clientY},w=YE(b,y.getBoundingClientRect()),_=QE(b,w),x=JE(m.getBoundingClientRect()),E=ZE([..._,...x]);a(E),h(!0)},[h]);return d.useEffect(()=>()=>f(),[f]),d.useEffect(()=>{if(c&&u){const g=y=>p(y,u),m=y=>p(y,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[c,u,p,f]),d.useEffect(()=>{if(i){const g=m=>{const y=m.target,b={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),_=!XE(b,i);w?f():_&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,i,l,f]),v.jsx(eh,{...e,ref:o})}),[qE,KE]=_s(Es,{isInside:!1}),eh=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=Ss(bn,n),l=xs(n),{onClose:u}=c;return d.useEffect(()=>(document.addEventListener(Oo,u),()=>document.removeEventListener(Oo,u)),[u]),d.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),v.jsx(ui,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:v.jsxs(Mu,{"data-state":c.stateAttribute,...l,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(Gc,{children:r}),v.jsx(qE,{scope:n,isInside:!0,children:v.jsx(FE,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Zd.displayName=bn;var th="TooltipArrow",GE=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=xs(n);return KE(th,n).isInside?null:v.jsx(Ou,{...s,...r,ref:t})});GE.displayName=th;function YE(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function QE(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function JE(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function XE(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,l=t[i].x,u=t[i].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function ZE(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),eS(t)}function eS(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var tS=Qd,nS=Jd,rS=Xd,nh=Zd;const sS=tS,JS=nS,XS=rS,oS=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(nh,{ref:r,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));oS.displayName=nh.displayName;const iS=O.lazy(()=>te(()=>import("./Home-VxRdGdnW.js"),__vite__mapDeps([2,3,1,4]))),aS=O.lazy(()=>te(()=>import("./NotAuthorized-D4y4XXo8.js"),__vite__mapDeps([5,6,1,4]))),cS=O.lazy(()=>te(()=>import("./Dashboard-wmz75cZs.js"),__vite__mapDeps([7,8,9,10,11,12,13,3,14,15,1,4]))),lS=O.lazy(()=>te(()=>import("./Pairing-LYRxKb95.js"),__vite__mapDeps([16,1,4]))),uS=O.lazy(()=>te(()=>import("./Login-Cd73uSW9.js"),__vite__mapDeps([17,18,19,20,3,1,4]))),dS=O.lazy(()=>te(()=>import("./Register-buLyBw9q.js"),__vite__mapDeps([21,18,19,20,3,22,23,1,4]))),hS=O.lazy(()=>te(()=>import("./Profile-CgcU_3Ge.js"),__vite__mapDeps([24,12,25,26,1,22,19,13,27,3,28,29,30,4,31]))),fS=O.lazy(()=>te(()=>import("./FirstLogin-Cebh5oUW.js"),__vite__mapDeps([32,33,34,1,4,35]))),pS=O.lazy(()=>te(()=>import("./AddTotem-DbJBgQHu.js"),__vite__mapDeps([36,12,37,27,38,19,34,3,15,1,4]))),mS=O.lazy(()=>te(()=>import("./AddWearable-CXpfvLkM.js"),__vite__mapDeps([39,12,37,27,38,19,33,3,11,1,4]))),gS=O.lazy(()=>te(()=>import("./EditWearable-DRBIqik4.js"),__vite__mapDeps([40,12,41,27,3,38,19,13,25,26,1,10,20,23,42,4]))),vS=O.lazy(()=>te(()=>import("./OutOfRange-Ce9kKdpp.js"),__vite__mapDeps([43,12,8,9,10,41,44,45,1,4]))),yS=O.lazy(()=>te(()=>import("./FallDetected-C_YCjv9L.js"),__vite__mapDeps([46,12,8,9,10,41,44,45,1,4]))),bS=O.lazy(()=>te(()=>import("./Wearable-CXRXX7UX.js"),__vite__mapDeps([47,6,1,30,48,41,9,10,13,42,31,44,4]))),wS=O.lazy(()=>te(()=>import("./AlertPage-bod5URvI.js"),__vite__mapDeps([49,48,12,44,1,4]))),_S=O.lazy(()=>te(()=>import("./BuyPremium-CDbs8E8c.js"),__vite__mapDeps([50,12,14,1,4]))),xS=new up;mh.createRoot(document.getElementById("root")).render(v.jsx(d.StrictMode,{children:v.jsx(Cw,{children:v.jsxs(hp,{client:xS,children:[v.jsx(sS,{delayDuration:400,children:v.jsx(Of,{children:v.jsxs(cf,{children:[v.jsxs(Z,{path:"/",element:v.jsx(CE,{}),children:[v.jsx(Z,{index:!0,element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(iS,{})})}),v.jsxs(Z,{element:v.jsx(RE,{}),children:[v.jsx(Z,{element:v.jsx(LE,{}),children:v.jsxs(Z,{path:"dashboard",children:[v.jsx(Z,{index:!0,element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(cS,{})})}),v.jsx(Z,{path:"profile",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(hS,{})})}),v.jsx(Z,{path:"pairing",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(lS,{})})}),v.jsx(Z,{path:"add-totem",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(pS,{})})}),v.jsx(Z,{path:"add-wearable",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(mS,{})})}),v.jsx(Z,{path:"edit-wearable/:id",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(gS,{})})}),v.jsx(Z,{path:"out-of-range/:id",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(vS,{})})}),v.jsx(Z,{path:"subscribe",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(_S,{})})}),v.jsx(Z,{path:"fall-detected/:id",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(yS,{})})}),v.jsx(Z,{path:"wearable/:id",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(bS,{})})}),v.jsx(Z,{path:"alerts",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(wS,{})})})]})}),v.jsx(Z,{path:"not-authorized",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(aS,{})})})]}),v.jsxs(Z,{element:v.jsx(kE,{}),children:[v.jsx(Z,{path:"login",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(uS,{})})}),v.jsx(Z,{path:"register",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(dS,{})})})]})]}),v.jsx(Z,{path:"first-login",element:v.jsx(d.Suspense,{fallback:v.jsx("div",{children:"Carregando..."}),children:v.jsx(fS,{})})})]})})}),v.jsx(Sp,{closeOnClick:!0})]})})}));"serviceWorker"in navigator&&navigator.serviceWorker.register("../firebase-messaging-sw.js").then(function(e){console.log("Registration successful, scope is:",e.scope)}).catch(function(e){console.log("Service worker registration failed, error:",e)});export{oS as $,X0 as A,nn as B,pm as C,jE as D,qS as E,kS as F,Tp as G,SE as H,w_ as I,IE as J,US as K,qe as L,ke as M,AS as N,mE as O,ae as P,gE as Q,b_ as R,Hd as S,en as T,Br as U,jS as V,TS as W,BS as X,JS as Y,XS as Z,te as _,Cn as a,GE as a0,zS as a1,GS as a2,li as a3,Yu as a4,gn as a5,S_ as a6,Hw as a7,lu as a8,ui as a9,DS as aa,ju as ab,Gc as ac,lm as ad,C_ as ae,Ke as af,Ge as ag,KS as ah,HS as ai,ue as b,_e as c,iu as d,kn as e,$ as f,$e as g,Bt as h,de as i,v as j,ki as k,Du as l,ci as m,Gr as n,Fo as o,xv as p,K as q,d as r,Cp as s,Em as t,ai as u,WS as v,FS as w,O as x,VS as y,Rp as z};
