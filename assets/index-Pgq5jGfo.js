const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-nFtbaKDj.js","assets/react-DDCWQfk_.js","assets/Home-B3GSOEbu.js","assets/module-BY6vfkje.js","assets/react-dom-DxV6jaKz.js","assets/NotAuthorized-AX8WCf6D.js","assets/card-BaARmAh-.js","assets/Dashboard-BHPH6c2d.js","assets/WearableConnectionComponent-vrKgByja.js","assets/WearableAvatar-DdFWqYMe.js","assets/storage-D4cP4Wku.js","assets/link-bb2i1QI3.js","assets/ElementTitleHeader-DPmcR6cO.js","assets/HorizontalDivider-Dg6d_Vli.js","assets/plus-W90bv2m3.js","assets/satellite-dish-CtW_1ngO.js","assets/Pairing-CiJDWbVJ.js","assets/Login-ta2Cjmm5.js","assets/PasswordInput-5_IMEZ1E.js","assets/input-9TtDOHq3.js","assets/eye-CROgIqsz.js","assets/Register-PGCwZ3xE.js","assets/pt-BR.json-Bqz2tW3U.js","assets/pencil-BC02TF8D.js","assets/Profile-DmpvED5Q.js","assets/WearableRefreshRate-Byf23P2e.js","assets/index-DkU7GfEn.js","assets/Backdrop-BguwkRQT.js","assets/index-HNo9Vjvl.js","assets/formatIncompletePhoneNumber-BA43GEh4.js","assets/index-D6r3sWpr.js","assets/settings-fiuytL8P.js","assets/FirstLogin-DNqqNaD9.js","assets/wristband_300-D3ygo3tb.js","assets/totem_300-eE_nJRI7.js","assets/FirstLogin-Bsjj9snX.css","assets/AddTotem-C2k4zD9y.js","assets/devices-CJdIdExP.js","assets/FieldContainerInput-C7UqejUS.js","assets/AddWearable-Dmq_0F62.js","assets/EditWearable-CR_yAuYT.js","assets/useWearable-5DZaKTNE.js","assets/share-2-2eRR81ZT.js","assets/OutOfRange-tzj_BmbU.js","assets/triangle-alert-DxWTf1tW.js","assets/phone-call-Bng3F-rl.js","assets/FallDetected-CwBpQw48.js","assets/Wearable-CH-25OU8.js","assets/AlertComponent-Lu_Flq29.js","assets/AlertPage-CM8F_BxK.js","assets/BuyPremium-D01aC6-A.js"])))=>i.map(i=>d[i]);
var jo=t=>{throw TypeError(t)};var Ts=(t,e,n)=>e.has(t)||jo("Cannot "+n);var S=(t,e,n)=>(Ts(t,e,"read from private field"),n?n.call(t):e.get(t)),q=(t,e,n)=>e.has(t)?jo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j=(t,e,n,r)=>(Ts(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ce=(t,e,n)=>(Ts(t,e,"access private method"),n);var br=(t,e,n,r)=>({set _(s){j(t,e,s,n)},get _(){return S(t,e,r)}});import{r as xc,g as Ni,a as uf}from"./react-DDCWQfk_.js";import{r as Ec}from"./react-dom-DxV6jaKz.js";function df(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const ff="modulepreload",hf=function(t){return"/prote-ja-app/"+t},No={},te=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=hf(c),c in No)return;No[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":ff,l||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var As={exports:{}},Mn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do;function pf(){if(Do)return Mn;Do=1;var t=xc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,l){var u,f={},h=null,p=null;l!==void 0&&(h=""+l),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)r.call(c,u)&&!i.hasOwnProperty(u)&&(f[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:e,type:a,key:h,ref:p,props:f,_owner:s.current}}return Mn.Fragment=n,Mn.jsx=o,Mn.jsxs=o,Mn}var Lo;function mf(){return Lo||(Lo=1,As.exports=pf()),As.exports}var y=mf(),d=xc();const O=Ni(d),gf=df({__proto__:null,default:O},[d]);var wr={},$o;function yf(){if($o)return wr;$o=1;var t=Ec();return wr.createRoot=t.createRoot,wr.hydrateRoot=t.hydrateRoot,wr}var bf=yf(),On={},Fo;function wf(){if(Fo)return On;Fo=1,Object.defineProperty(On,"__esModule",{value:!0}),On.parse=o,On.serialize=l;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const g=new i,m=h.length;if(m<2)return g;const b=(p==null?void 0:p.decode)||u;let w=0;do{const v=h.indexOf("=",w);if(v===-1)break;const _=h.indexOf(";",w),x=_===-1?m:_;if(v>x){w=h.lastIndexOf(";",v-1)+1;continue}const E=a(h,w,v),k=c(h,v,E),T=h.slice(E,k);if(g[T]===void 0){let C=a(h,v+1,x),A=c(h,x,C);const R=b(h.slice(C,A));g[T]=R}w=x+1}while(w<m);return g}function a(h,p,g){do{const m=h.charCodeAt(p);if(m!==32&&m!==9)return p}while(++p<g);return g}function c(h,p,g){for(;p>g;){const m=h.charCodeAt(--p);if(m!==32&&m!==9)return p+1}return g}function l(h,p,g){const m=(g==null?void 0:g.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const b=m(p);if(!e.test(b))throw new TypeError(`argument val is invalid: ${p}`);let w=h+"="+b;if(!g)return w;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);w+="; Max-Age="+g.maxAge}if(g.domain){if(!n.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);w+="; Domain="+g.domain}if(g.path){if(!r.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);w+="; Path="+g.path}if(g.expires){if(!f(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);w+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(w+="; HttpOnly"),g.secure&&(w+="; Secure"),g.partitioned&&(w+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return w}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function f(h){return s.call(h)==="[object Date]"}return On}wf();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uo="popstate";function vf(t={}){function e(s,i){let{pathname:o="/",search:a="",hash:c=""}=Vt(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),si("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,l=c.indexOf("#");a=l===-1?c:c.slice(0,l)}return a+"#"+(typeof i=="string"?i:Qn(i))}function r(s,i){Te(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return xf(e,n,r,t)}function X(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Te(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _f(){return Math.random().toString(36).substring(2,10)}function Bo(t,e){return{usr:t.state,key:t.key,idx:e}}function si(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vt(e):e,state:n,key:e&&e.key||r||_f()}}function Qn({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vt(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xf(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",c=null,l=u();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function u(){return(o.state||{idx:null}).idx}function f(){a="POP";let b=u(),w=b==null?null:b-l;l=b,c&&c({action:a,location:m.location,delta:w})}function h(b,w){a="PUSH";let v=si(m.location,b,w);n(v,b),l=u()+1;let _=Bo(v,l),x=m.createHref(v);try{o.pushState(_,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&c&&c({action:a,location:m.location,delta:1})}function p(b,w){a="REPLACE";let v=si(m.location,b,w);n(v,b),l=u();let _=Bo(v,l),x=m.createHref(v);o.replaceState(_,"",x),i&&c&&c({action:a,location:m.location,delta:0})}function g(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Qn(b);return v=v.replace(/ $/,"%20"),X(w,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,w)}let m={get action(){return a},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Uo,f),c=b,()=>{s.removeEventListener(Uo,f),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return o.go(b)}};return m}function Sc(t,e,n="/"){return Ef(t,e,n,!1)}function Ef(t,e,n,r){let s=typeof e=="string"?Vt(e):e,i=Et(s.pathname||"/",n);if(i==null)return null;let o=Cc(t);Sf(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=Nf(i);a=Of(o[c],l,r)}return a}function Cc(t,e=[],n=[],r=""){let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(X(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let l=rt([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(X(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),Cc(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:Pf(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Tc(i.path))s(i,o,c)}),e}function Tc(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Tc(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Sf(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mf(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Cf=/^:[\w-]+$/,Tf=3,Af=2,kf=1,If=10,Rf=-2,zo=t=>t==="*";function Pf(t,e){let n=t.split("/"),r=n.length;return n.some(zo)&&(r+=Rf),e&&(r+=Af),n.filter(s=>!zo(s)).reduce((s,i)=>s+(Cf.test(i)?Tf:i===""?kf:If),r)}function Mf(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Of(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Hr({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!f&&l&&n&&!r[r.length-1].route.index&&(f=Hr({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:rt([i,f.pathname]),pathnameBase:Ff(rt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=rt([i,f.pathnameBase]))}return o}function Hr(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jf(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,{paramName:u,isOptional:f},h)=>{if(u==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?l[u]=void 0:l[u]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function jf(t,e=!1,n=!0){Te(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Nf(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Te(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Et(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Df(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Vt(t):t;return{pathname:n?n.startsWith("/")?n:Lf(n,e):e,search:Uf(r),hash:Bf(s)}}function Lf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ks(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $f(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Di(t){let e=$f(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Li(t,e,n,r=!1){let s;typeof t=="string"?s=Vt(t):(s={...t},X(!s.pathname||!s.pathname.includes("?"),ks("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),ks("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),ks("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let c=Df(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var rt=t=>t.join("/").replace(/\/\/+/g,"/"),Ff=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ac=["POST","PUT","PATCH","DELETE"];new Set(Ac);var Hf=["GET",...Ac];new Set(Hf);var _n=d.createContext(null);_n.displayName="DataRouter";var ns=d.createContext(null);ns.displayName="DataRouterState";var kc=d.createContext({isTransitioning:!1});kc.displayName="ViewTransition";var Vf=d.createContext(new Map);Vf.displayName="Fetchers";var Wf=d.createContext(null);Wf.displayName="Await";var Be=d.createContext(null);Be.displayName="Navigation";var dr=d.createContext(null);dr.displayName="Location";var Pe=d.createContext({outlet:null,matches:[],isDataRoute:!1});Pe.displayName="Route";var $i=d.createContext(null);$i.displayName="RouteError";function qf(t,{relative:e}={}){X(xn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=d.useContext(Be),{hash:s,pathname:i,search:o}=fr(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:rt([n,i])),r.createHref({pathname:a,search:o,hash:s})}function xn(){return d.useContext(dr)!=null}function Me(){return X(xn(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(dr).location}var Ic="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rc(t){d.useContext(Be).static||d.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=d.useContext(Pe);return t?ah():Kf()}function Kf(){X(xn(),"useNavigate() may be used only in the context of a <Router> component.");let t=d.useContext(_n),{basename:e,navigator:n}=d.useContext(Be),{matches:r}=d.useContext(Pe),{pathname:s}=Me(),i=JSON.stringify(Di(r)),o=d.useRef(!1);return Rc(()=>{o.current=!0}),d.useCallback((c,l={})=>{if(Te(o.current,Ic),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=Li(c,JSON.parse(i),s,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:rt([e,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[e,n,i,s,t])}var Gf=d.createContext(null);function Yf(t){let e=d.useContext(Pe).outlet;return e&&d.createElement(Gf.Provider,{value:t},e)}function kS(){let{matches:t}=d.useContext(Pe),e=t[t.length-1];return e?e.params:{}}function fr(t,{relative:e}={}){let{matches:n}=d.useContext(Pe),{pathname:r}=Me(),s=JSON.stringify(Di(n));return d.useMemo(()=>Li(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Qf(t,e){return Pc(t,e)}function Pc(t,e,n,r){var w;X(xn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=d.useContext(Be),{matches:i}=d.useContext(Pe),o=i[i.length-1],a=o?o.params:{},c=o?o.pathname:"/",l=o?o.pathnameBase:"/",u=o&&o.route;{let v=u&&u.path||"";Mc(c,!u||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Me(),h;if(e){let v=typeof e=="string"?Vt(e):e;X(l==="/"||((w=v.pathname)==null?void 0:w.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${v.pathname}" was given in the \`location\` prop.`),h=v}else h=f;let p=h.pathname||"/",g=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Sc(t,{pathname:g});Te(u||m!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Te(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=th(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:rt([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:rt([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&b?d.createElement(dr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function Jf(){let t=oh(),e=zf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=d.createElement(d.Fragment,null,d.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:i},"ErrorBoundary")," or"," ",d.createElement("code",{style:i},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,o)}var Xf=d.createElement(Jf,null),Zf=class extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?d.createElement(Pe.Provider,{value:this.props.routeContext},d.createElement($i.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eh({routeContext:t,match:e,children:n}){let r=d.useContext(_n);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),d.createElement(Pe.Provider,{value:t},n)}function th(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id])!==void 0);X(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<s.length;c++){let l=s[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(a=c),l.route.id){let{loaderData:u,errors:f}=n,h=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!f||f[l.route.id]===void 0);if(l.route.lazy||h){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,l,u)=>{let f,h=!1,p=null,g=null;n&&(f=i&&l.route.id?i[l.route.id]:void 0,p=l.route.errorElement||Xf,o&&(a<0&&u===0?(Mc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=l.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,u+1)),b=()=>{let w;return f?w=p:h?w=g:l.route.Component?w=d.createElement(l.route.Component,null):l.route.element?w=l.route.element:w=c,d.createElement(eh,{match:l,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?d.createElement(Zf,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):b()},null)}function Ui(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nh(t){let e=d.useContext(_n);return X(e,Ui(t)),e}function rh(t){let e=d.useContext(ns);return X(e,Ui(t)),e}function sh(t){let e=d.useContext(Pe);return X(e,Ui(t)),e}function Bi(t){let e=sh(t),n=e.matches[e.matches.length-1];return X(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ih(){return Bi("useRouteId")}function oh(){var r;let t=d.useContext($i),e=rh("useRouteError"),n=Bi("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ah(){let{router:t}=nh("useNavigate"),e=Bi("useNavigate"),n=d.useRef(!1);return Rc(()=>{n.current=!0}),d.useCallback(async(s,i={})=>{Te(n.current,Ic),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Ho={};function Mc(t,e,n){!e&&!Ho[t]&&(Ho[t]=!0,Te(!1,n))}d.memo(ch);function ch({routes:t,future:e,state:n}){return Pc(t,void 0,n,e)}function IS({to:t,replace:e,state:n,relative:r}){X(xn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=d.useContext(Be);Te(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=d.useContext(Pe),{pathname:o}=Me(),a=Fi(),c=Li(t,Di(i),o,r==="path"),l=JSON.stringify(c);return d.useEffect(()=>{a(JSON.parse(l),{replace:e,state:n,relative:r})},[a,l,r,e,n]),null}function rs(t){return Yf(t.context)}function Z(t){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lh({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){X(!xn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=d.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Vt(n));let{pathname:c="/",search:l="",hash:u="",state:f=null,key:h="default"}=n,p=d.useMemo(()=>{let g=Et(c,o);return g==null?null:{location:{pathname:g,search:l,hash:u,state:f,key:h},navigationType:r}},[o,c,l,u,f,h,r]);return Te(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:d.createElement(Be.Provider,{value:a},d.createElement(dr.Provider,{children:e,value:p}))}function uh({children:t,location:e}){return Qf(ii(t),e)}function ii(t,e=[]){let n=[];return d.Children.forEach(t,(r,s)=>{if(!d.isValidElement(r))return;let i=[...e,s];if(r.type===d.Fragment){n.push.apply(n,ii(r.props.children,i));return}X(r.type===Z,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ii(r.props.children,i)),n.push(o)}),n}var Dr="get",Lr="application/x-www-form-urlencoded";function ss(t){return t!=null&&typeof t.tagName=="string"}function dh(t){return ss(t)&&t.tagName.toLowerCase()==="button"}function fh(t){return ss(t)&&t.tagName.toLowerCase()==="form"}function hh(t){return ss(t)&&t.tagName.toLowerCase()==="input"}function ph(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mh(t,e){return t.button===0&&(!e||e==="_self")&&!ph(t)}function oi(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function gh(t,e){let n=oi(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var vr=null;function yh(){if(vr===null)try{new FormData(document.createElement("form"),0),vr=!1}catch{vr=!0}return vr}var bh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Is(t){return t!=null&&!bh.has(t)?(Te(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lr}"`),null):t}function wh(t,e){let n,r,s,i,o;if(fh(t)){let a=t.getAttribute("action");r=a?Et(a,e):null,n=t.getAttribute("method")||Dr,s=Is(t.getAttribute("enctype"))||Lr,i=new FormData(t)}else if(dh(t)||hh(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Et(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Dr,s=Is(t.getAttribute("formenctype"))||Is(a.getAttribute("enctype"))||Lr,i=new FormData(a,t),!yh()){let{name:l,type:u,value:f}=t;if(u==="image"){let h=l?`${l}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else l&&i.append(l,f)}}else{if(ss(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dr,r=null,s=Lr,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function zi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function vh(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _h(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xh(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await vh(i,n);return o.links?o.links():[]}return[]}));return Th(r.flat(1).filter(_h).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vo(t,e,n,r,s,i){let o=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,a=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,l)=>o(c,l)||a(c,l)):i==="data"?e.filter((c,l)=>{var f;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,l)||a(c,l))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Eh(t,e){return Sh(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Sh(t){return[...new Set(t)]}function Ch(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Th(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Ch(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Ah(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function kh(){let t=d.useContext(_n);return zi(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ih(){let t=d.useContext(ns);return zi(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hi=d.createContext(void 0);Hi.displayName="FrameworkContext";function Oc(){let t=d.useContext(Hi);return zi(t,"You must render this element inside a <HydratedRouter> element"),t}function Rh(t,e){let n=d.useContext(Hi),[r,s]=d.useState(!1),[i,o]=d.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:f}=e,h=d.useRef(null);d.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=w=>{w.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(m,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[t]),d.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let p=()=>{s(!0)},g=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:jn(a,p),onBlur:jn(c,g),onMouseEnter:jn(l,p),onMouseLeave:jn(u,g),onTouchStart:jn(f,p)}]:[!1,h,{}]}function jn(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ph({page:t,...e}){let{router:n}=kh(),r=d.useMemo(()=>Sc(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?d.createElement(Oh,{page:t,matches:r,...e}):null}function Mh(t){let{manifest:e,routeModules:n}=Oc(),[r,s]=d.useState([]);return d.useEffect(()=>{let i=!1;return xh(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Oh({page:t,matches:e,...n}){let r=Me(),{manifest:s,routeModules:i}=Oc(),{loaderData:o,matches:a}=Ih(),c=d.useMemo(()=>Vo(t,e,a,s,r,"data"),[t,e,a,s,r]),l=d.useMemo(()=>Vo(t,e,a,s,r,"assets"),[t,e,a,s,r]),u=d.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(e.forEach(b=>{var v;let w=s.routes[b.route.id];!w||!w.hasLoader||(!c.some(_=>_.route.id===b.route.id)&&b.route.id in o&&((v=i[b.route.id])!=null&&v.shouldRevalidate)||w.hasClientLoader?g=!0:p.add(b.route.id))}),p.size===0)return[];let m=Ah(t);return g&&p.size>0&&m.searchParams.set("_routes",e.filter(b=>p.has(b.route.id)).map(b=>b.route.id).join(",")),[m.pathname+m.search]},[o,r,s,c,e,t,i]),f=d.useMemo(()=>Eh(l,s),[l,s]),h=Mh(l);return d.createElement(d.Fragment,null,u.map(p=>d.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>d.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:g})=>d.createElement("link",{key:p,...g})))}function jh(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jc&&(window.__reactRouterVersion="7.1.3")}catch{}function Nh({basename:t,children:e,window:n}){let r=d.useRef();r.current==null&&(r.current=vf({window:n,v5Compat:!0}));let s=r.current,[i,o]=d.useState({action:s.action,location:s.location}),a=d.useCallback(c=>{d.startTransition(()=>o(c))},[o]);return d.useLayoutEffect(()=>s.listen(a),[s,a]),d.createElement(lh,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var Nc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=d.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:f,...h},p){let{basename:g}=d.useContext(Be),m=typeof l=="string"&&Nc.test(l),b,w=!1;if(typeof l=="string"&&m&&(b=l,jc))try{let A=new URL(window.location.href),R=l.startsWith("//")?new URL(A.protocol+l):new URL(l),U=Et(R.pathname,g);R.origin===A.origin&&U!=null?l=U+R.search+R.hash:w=!0}catch{Te(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=qf(l,{relative:s}),[_,x,E]=Rh(r,h),k=Fh(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:f});function T(A){e&&e(A),A.defaultPrevented||k(A)}let C=d.createElement("a",{...h,...E,href:b||v,onClick:w||i?e:T,ref:jh(p,x),target:c,"data-discover":!m&&n==="render"?"true":void 0});return _&&!m?d.createElement(d.Fragment,null,C,d.createElement(Ph,{page:v})):C});qe.displayName="Link";var Dh=d.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...l},u){let f=fr(o,{relative:l.relative}),h=Me(),p=d.useContext(ns),{navigator:g,basename:m}=d.useContext(Be),b=p!=null&&Vh(f)&&a===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,v=h.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&m&&(_=Et(_,m)||_);const x=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=v===w||!s&&v.startsWith(w)&&v.charAt(x)==="/",k=_!=null&&(_===w||!s&&_.startsWith(w)&&_.charAt(w.length)==="/"),T={isActive:E,isPending:k,isTransitioning:b},C=E?e:void 0,A;typeof r=="function"?A=r(T):A=[r,E?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(T):i;return d.createElement(qe,{...l,"aria-current":C,className:A,ref:u,style:R,to:o,viewTransition:a},typeof c=="function"?c(T):c)});Dh.displayName="NavLink";var Lh=d.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Dr,action:a,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:f,...h},p)=>{let g=zh(),m=Hh(a,{relative:l}),b=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&Nc.test(a),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let x=_.nativeEvent.submitter,E=(x==null?void 0:x.getAttribute("formmethod"))||o;g(x||_.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:l,preventScrollReset:u,viewTransition:f})};return d.createElement("form",{ref:p,method:b,action:m,onSubmit:r?c:v,...h,"data-discover":!w&&t==="render"?"true":void 0})});Lh.displayName="Form";function $h(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dc(t){let e=d.useContext(_n);return X(e,$h(t)),e}function Fh(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Fi(),c=Me(),l=fr(t,{relative:i});return d.useCallback(u=>{if(mh(u,e)){u.preventDefault();let f=n!==void 0?n:Qn(c)===Qn(l);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,l,n,r,e,t,s,i,o])}function RS(t){Te(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=d.useRef(oi(t)),n=d.useRef(!1),r=Me(),s=d.useMemo(()=>gh(r.search,n.current?null:e.current),[r.search]),i=Fi(),o=d.useCallback((a,c)=>{const l=oi(typeof a=="function"?a(s):a);n.current=!0,i("?"+l,c)},[i,s]);return[s,o]}var Uh=0,Bh=()=>`__${String(++Uh)}__`;function zh(){let{router:t}=Dc("useSubmit"),{basename:e}=d.useContext(Be),n=ih();return d.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:c,body:l}=wh(r,e);if(s.navigate===!1){let u=s.fetcherKey||Bh();await t.fetch(u,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:l,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Hh(t,{relative:e}={}){let{basename:n}=d.useContext(Be),r=d.useContext(Pe);X(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...fr(t||".",{relative:e})},o=Me();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(u=>u==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:rt([n,i.pathname])),Qn(i)}function Vh(t,e={}){let n=d.useContext(kc);X(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dc("useViewTransitionState"),s=fr(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Et(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Et(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hr(s.pathname,o)!=null||Hr(s.pathname,i)!=null}new TextEncoder;var is=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},os=typeof window>"u"||"Deno"in globalThis;function je(){}function Wh(t,e){return typeof t=="function"?t(e):t}function qh(t){return typeof t=="number"&&t>=0&&t!==1/0}function Kh(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wo(t,e){return typeof t=="function"?t(e):t}function Gh(t,e){return typeof t=="function"?t(e):t}function qo(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Vi(o,e.options))return!1}else if(!Xn(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ko(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Jn(e.options.mutationKey)!==Jn(i))return!1}else if(!Xn(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Vi(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jn)(t)}function Jn(t){return JSON.stringify(t,(e,n)=>ai(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Xn(t[n],e[n])):!1}function Lc(t,e){if(t===e)return t;const n=Go(t)&&Go(e);if(n||ai(t)&&ai(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=Lc(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Go(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ai(t){if(!Yo(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Yo(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Yo(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yh(t){return new Promise(e=>{setTimeout(e,t)})}function Qh(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Lc(t,e):e}function Jh(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Xh(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Wi=Symbol();function $c(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Wi?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jt,gt,cn,pc,Zh=(pc=class extends is{constructor(){super();q(this,jt);q(this,gt);q(this,cn);j(this,cn,e=>{if(!os&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,gt)||this.setEventListener(S(this,cn))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,gt))==null||e.call(this),j(this,gt,void 0))}setEventListener(e){var n;j(this,cn,e),(n=S(this,gt))==null||n.call(this),j(this,gt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){S(this,jt)!==e&&(j(this,jt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof S(this,jt)=="boolean"?S(this,jt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jt=new WeakMap,gt=new WeakMap,cn=new WeakMap,pc),Fc=new Zh,ln,yt,un,mc,ep=(mc=class extends is{constructor(){super();q(this,ln,!0);q(this,yt);q(this,un);j(this,un,e=>{if(!os&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,yt)||this.setEventListener(S(this,un))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,yt))==null||e.call(this),j(this,yt,void 0))}setEventListener(e){var n;j(this,un,e),(n=S(this,yt))==null||n.call(this),j(this,yt,e(this.setOnline.bind(this)))}setOnline(e){S(this,ln)!==e&&(j(this,ln,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return S(this,ln)}},ln=new WeakMap,yt=new WeakMap,un=new WeakMap,mc),Vr=new ep;function tp(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function np(t){return Math.min(1e3*2**t,3e4)}function Uc(t){return(t??"online")==="online"?Vr.isOnline():!0}var Bc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rs(t){return t instanceof Bc}function zc(t){let e=!1,n=0,r=!1,s;const i=tp(),o=m=>{var b;r||(h(new Bc(m)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>Fc.isFocused()&&(t.networkMode==="always"||Vr.isOnline())&&t.canRun(),u=()=>Uc(t.networkMode)&&t.canRun(),f=m=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,m),s==null||s(),i.reject(m))},p=()=>new Promise(m=>{var b;s=w=>{(r||l())&&m(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(r)return;let m;const b=n===0?t.initialPromise:void 0;try{m=b??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var k;if(r)return;const v=t.retry??(os?0:3),_=t.retryDelay??np,x=typeof _=="function"?_(n,w):_,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!E){h(w);return}n++,(k=t.onFail)==null||k.call(t,n,w),Yh(x).then(()=>l()?void 0:p()).then(()=>{e?h(w):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}function rp(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ge=rp(),Nt,gc,Hc=(gc=class{constructor(){q(this,Nt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qh(this.gcTime)&&j(this,Nt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(os?1/0:5*60*1e3))}clearGcTimeout(){S(this,Nt)&&(clearTimeout(S(this,Nt)),j(this,Nt,void 0))}},Nt=new WeakMap,gc),dn,fn,Ie,le,lr,Dt,Ne,Ze,yc,sp=(yc=class extends Hc{constructor(e){super();q(this,Ne);q(this,dn);q(this,fn);q(this,Ie);q(this,le);q(this,lr);q(this,Dt);j(this,Dt,!1),j(this,lr,e.defaultOptions),this.setOptions(e.options),this.observers=[],j(this,Ie,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,j(this,dn,op(this.options)),this.state=e.state??S(this,dn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,le))==null?void 0:e.promise}setOptions(e){this.options={...S(this,lr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Ie).remove(this)}setData(e,n){const r=Qh(this.state.data,e,this.options);return ce(this,Ne,Ze).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ce(this,Ne,Ze).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=S(this,le))==null?void 0:r.promise;return(s=S(this,le))==null||s.cancel(e),n?n.then(je).catch(je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,dn))}isActive(){return this.observers.some(e=>Gh(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Kh(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,le))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,le))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,Ie).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(S(this,le)&&(S(this,Dt)?S(this,le).cancel({revert:!0}):S(this,le).cancelRetry()),this.scheduleGc()),S(this,Ie).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,Ne,Ze).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,le))return S(this,le).continueRetry(),S(this,le).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(j(this,Dt,!0),r.signal)})},i=()=>{const f=$c(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),j(this,Dt,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),j(this,fn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&ce(this,Ne,Ze).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var h,p,g,m;Rs(f)&&f.silent||ce(this,Ne,Ze).call(this,{type:"error",error:f}),Rs(f)||((p=(h=S(this,Ie).config).onError)==null||p.call(h,f,this),(m=(g=S(this,Ie).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return j(this,le,zc({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(p=(h=S(this,Ie).config).onSuccess)==null||p.call(h,f,this),(m=(g=S(this,Ie).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{ce(this,Ne,Ze).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ce(this,Ne,Ze).call(this,{type:"pause"})},onContinue:()=>{ce(this,Ne,Ze).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),S(this,le).start()}},dn=new WeakMap,fn=new WeakMap,Ie=new WeakMap,le=new WeakMap,lr=new WeakMap,Dt=new WeakMap,Ne=new WeakSet,Ze=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ip(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Rs(s)&&s.revert&&S(this,fn)?{...S(this,fn),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ge.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Ie).notify({query:this,type:"updated",action:e})})},yc);function ip(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uc(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function op(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var He,bc,ap=(bc=class extends is{constructor(e={}){super();q(this,He);this.config=e,j(this,He,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Vi(s,n);let o=this.get(i);return o||(o=new sp({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){S(this,He).has(e.queryHash)||(S(this,He).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=S(this,He).get(e.queryHash);n&&(e.destroy(),n===e&&S(this,He).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,He).get(e)}getAll(){return[...S(this,He).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qo(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qo(e,r)):n}notify(e){ge.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},He=new WeakMap,bc),Ve,me,Lt,We,ut,wc,cp=(wc=class extends Hc{constructor(e){super();q(this,We);q(this,Ve);q(this,me);q(this,Lt);this.mutationId=e.mutationId,j(this,me,e.mutationCache),j(this,Ve,[]),this.state=e.state||lp(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,Ve).includes(e)||(S(this,Ve).push(e),this.clearGcTimeout(),S(this,me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){j(this,Ve,S(this,Ve).filter(n=>n!==e)),this.scheduleGc(),S(this,me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,Ve).length||(this.state.status==="pending"?this.scheduleGc():S(this,me).remove(this))}continue(){var e;return((e=S(this,Lt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,c,l,u,f,h,p,g,m,b,w,v,_,x,E,k,T;j(this,Lt,zc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{ce(this,We,ut).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{ce(this,We,ut).call(this,{type:"pause"})},onContinue:()=>{ce(this,We,ut).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,me).canRun(this)}));const n=this.state.status==="pending",r=!S(this,Lt).canStart();try{if(!n){ce(this,We,ut).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=S(this,me).config).onMutate)==null?void 0:i.call(s,e,this));const A=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));A!==this.state.context&&ce(this,We,ut).call(this,{type:"pending",context:A,variables:e,isPaused:r})}const C=await S(this,Lt).start();return await((l=(c=S(this,me).config).onSuccess)==null?void 0:l.call(c,C,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,C,e,this.state.context)),await((p=(h=S(this,me).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,C,null,e,this.state.context)),ce(this,We,ut).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(b=S(this,me).config).onError)==null?void 0:w.call(b,C,e,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,C,e,this.state.context)),await((E=(x=S(this,me).config).onSettled)==null?void 0:E.call(x,void 0,C,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,C,e,this.state.context)),C}finally{ce(this,We,ut).call(this,{type:"error",error:C})}}finally{S(this,me).runNext(this)}}},Ve=new WeakMap,me=new WeakMap,Lt=new WeakMap,We=new WeakSet,ut=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ge.batch(()=>{S(this,Ve).forEach(r=>{r.onMutationUpdate(e)}),S(this,me).notify({mutation:this,type:"updated",action:e})})},wc);function lp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nt,De,ur,vc,up=(vc=class extends is{constructor(e={}){super();q(this,nt);q(this,De);q(this,ur);this.config=e,j(this,nt,new Set),j(this,De,new Map),j(this,ur,0)}build(e,n,r){const s=new cp({mutationCache:this,mutationId:++br(this,ur)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){S(this,nt).add(e);const n=_r(e);if(typeof n=="string"){const r=S(this,De).get(n);r?r.push(e):S(this,De).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(S(this,nt).delete(e)){const n=_r(e);if(typeof n=="string"){const r=S(this,De).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&S(this,De).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=_r(e);if(typeof n=="string"){const r=S(this,De).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=_r(e);if(typeof n=="string"){const s=(r=S(this,De).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ge.batch(()=>{S(this,nt).forEach(e=>{this.notify({type:"removed",mutation:e})}),S(this,nt).clear(),S(this,De).clear()})}getAll(){return Array.from(S(this,nt))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ko(n,r))}findAll(e={}){return this.getAll().filter(n=>Ko(e,n))}notify(e){ge.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ge.batch(()=>Promise.all(e.map(n=>n.continue().catch(je))))}},nt=new WeakMap,De=new WeakMap,ur=new WeakMap,vc);function _r(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Qo(t){return{onFetch:(e,n)=>{var u,f,h,p,g;const r=e.options,s=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let m=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=$c(e.options,e.fetchOptions),v=async(_,x,E)=>{if(m)return Promise.reject();if(x==null&&_.pages.length)return Promise.resolve(_);const k={queryKey:e.queryKey,pageParam:x,direction:E?"backward":"forward",meta:e.options.meta};b(k);const T=await w(k),{maxPages:C}=e.options,A=E?Xh:Jh;return{pages:A(_.pages,T,C),pageParams:A(_.pageParams,x,C)}};if(s&&i.length){const _=s==="backward",x=_?dp:Jo,E={pages:i,pageParams:o},k=x(r,E);a=await v(E,k,_)}else{const _=t??i.length;do{const x=c===0?o[0]??r.initialPageParam:Jo(r,a);if(c>0&&x==null)break;a=await v(a,x),c++}while(c<_)}return a};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,l,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function Jo(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dp(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ee,bt,wt,hn,pn,vt,mn,gn,_c,fp=(_c=class{constructor(t={}){q(this,ee);q(this,bt);q(this,wt);q(this,hn);q(this,pn);q(this,vt);q(this,mn);q(this,gn);j(this,ee,t.queryCache||new ap),j(this,bt,t.mutationCache||new up),j(this,wt,t.defaultOptions||{}),j(this,hn,new Map),j(this,pn,new Map),j(this,vt,0)}mount(){br(this,vt)._++,S(this,vt)===1&&(j(this,mn,Fc.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ee).onFocus())})),j(this,gn,Vr.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ee).onOnline())})))}unmount(){var t,e;br(this,vt)._--,S(this,vt)===0&&((t=S(this,mn))==null||t.call(this),j(this,mn,void 0),(e=S(this,gn))==null||e.call(this),j(this,gn,void 0))}isFetching(t){return S(this,ee).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,bt).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,ee).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=S(this,ee).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return S(this,ee).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=S(this,ee).get(r.queryHash),i=s==null?void 0:s.state.data,o=Wh(e,i);if(o!==void 0)return S(this,ee).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ge.batch(()=>S(this,ee).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,ee).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=S(this,ee);ge.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=S(this,ee),r={type:"active",...t};return ge.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ge.batch(()=>S(this,ee).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(je).catch(je)}invalidateQueries(t,e={}){return ge.batch(()=>{if(S(this,ee).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const n={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ge.batch(()=>S(this,ee).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(je)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(je)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=S(this,ee).build(this,e);return n.isStaleByTime(Wo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(je).catch(je)}fetchInfiniteQuery(t){return t.behavior=Qo(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(je).catch(je)}ensureInfiniteQueryData(t){return t.behavior=Qo(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vr.isOnline()?S(this,bt).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ee)}getMutationCache(){return S(this,bt)}getDefaultOptions(){return S(this,wt)}setDefaultOptions(t){j(this,wt,t)}setQueryDefaults(t,e){S(this,hn).set(Jn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,hn).values()],n={};return e.forEach(r=>{Xn(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){S(this,pn).set(Jn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,pn).values()];let n={};return e.forEach(r=>{Xn(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,wt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vi(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wi&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,wt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,ee).clear(),S(this,bt).clear()}},ee=new WeakMap,bt=new WeakMap,wt=new WeakMap,hn=new WeakMap,pn=new WeakMap,vt=new WeakMap,mn=new WeakMap,gn=new WeakMap,_c),hp=d.createContext(void 0),pp=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(hp.Provider,{value:t,children:e}));function Vc(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Vc(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ge(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Vc(t))&&(r&&(r+=" "),r+=e);return r}const Zn=t=>typeof t=="number"&&!isNaN(t),$t=t=>typeof t=="string",Se=t=>typeof t=="function",$r=t=>$t(t)||Se(t)?t:null,ci=t=>d.isValidElement(t)||$t(t)||Se(t)||Zn(t);function mp(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function as(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:c,preventExitTransition:l,done:u,nodeRef:f,isIn:h,playToast:p}=o;const g=r?`${e}--${c}`:e,m=r?`${n}--${c}`:n,b=d.useRef(0);return d.useLayoutEffect(()=>{const w=f.current,v=g.split(" "),_=x=>{x.target===f.current&&(p(),w.removeEventListener("animationend",_),w.removeEventListener("animationcancel",_),b.current===0&&x.type!=="animationcancel"&&w.classList.remove(...v))};w.classList.add(...v),w.addEventListener("animationend",_),w.addEventListener("animationcancel",_)},[]),d.useEffect(()=>{const w=f.current,v=()=>{w.removeEventListener("animationend",v),s?mp(w,u,i):u()};h||(l?v():(b.current=1,w.className+=` ${m}`,w.addEventListener("animationend",v)))},[h]),O.createElement(O.Fragment,null,a)}}function Xo(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const ye=new Map;let er=[];const li=new Set,gp=t=>li.forEach(e=>e(t)),Wc=()=>ye.size>0;function qc(t,e){var n;if(e)return!((n=ye.get(e))==null||!n.isToastActive(t));let r=!1;return ye.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function Kc(t,e){ci(t)&&(Wc()||er.push({content:t,options:e}),ye.forEach(n=>{n.buildToast(t,e)}))}function Zo(t,e){ye.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function yp(t){const{subscribe:e,getSnapshot:n,setProps:r}=d.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const c=function(u,f,h){let p=1,g=0,m=[],b=[],w=[],v=f;const _=new Map,x=new Set,E=()=>{w=Array.from(_.values()),x.forEach(C=>C())},k=C=>{b=C==null?[]:b.filter(A=>A!==C),E()},T=C=>{const{toastId:A,onOpen:R,updateId:U,children:P}=C.props,z=U==null;C.staleId&&_.delete(C.staleId),_.set(A,C),b=[...b,C.props.toastId].filter(D=>D!==C.staleId),E(),h(Xo(C,z?"added":"updated")),z&&Se(R)&&R(d.isValidElement(P)&&P.props)};return{id:u,props:v,observe:C=>(x.add(C),()=>x.delete(C)),toggle:(C,A)=>{_.forEach(R=>{A!=null&&A!==R.props.toastId||Se(R.toggle)&&R.toggle(C)})},removeToast:k,toasts:_,clearQueue:()=>{g-=m.length,m=[]},buildToast:(C,A)=>{if((ne=>{let{containerId:re,toastId:ie,updateId:fe}=ne;const he=re?re!==u:u!==1,pe=_.has(ie)&&fe==null;return he||pe})(A))return;const{toastId:R,updateId:U,data:P,staleId:z,delay:D}=A,G=()=>{k(R)},F=U==null;F&&g++;const H={...v,style:v.toastStyle,key:p++,...Object.fromEntries(Object.entries(A).filter(ne=>{let[re,ie]=ne;return ie!=null})),toastId:R,updateId:U,data:P,closeToast:G,isIn:!1,className:$r(A.className||v.toastClassName),bodyClassName:$r(A.bodyClassName||v.bodyClassName),progressClassName:$r(A.progressClassName||v.progressClassName),autoClose:!A.isLoading&&(M=A.autoClose,I=v.autoClose,M===!1||Zn(M)&&M>0?M:I),deleteToast(){const ne=_.get(R),{onClose:re,children:ie}=ne.props;Se(re)&&re(d.isValidElement(ie)&&ie.props),h(Xo(ne,"removed")),_.delete(R),g--,g<0&&(g=0),m.length>0?T(m.shift()):E()}};var M,I;H.closeButton=v.closeButton,A.closeButton===!1||ci(A.closeButton)?H.closeButton=A.closeButton:A.closeButton===!0&&(H.closeButton=!ci(v.closeButton)||v.closeButton);let V=C;d.isValidElement(C)&&!$t(C.type)?V=d.cloneElement(C,{closeToast:G,toastProps:H,data:P}):Se(C)&&(V=C({closeToast:G,toastProps:H,data:P}));const W={content:V,props:H,staleId:z};v.limit&&v.limit>0&&g>v.limit&&F?m.push(W):Zn(D)?setTimeout(()=>{T(W)},D):T(W)},setProps(C){v=C},setToggle:(C,A)=>{_.get(C).toggle=A},isToastActive:C=>b.some(A=>A===C),getSnapshot:()=>w}}(o,i,gp);ye.set(o,c);const l=c.observe(a);return er.forEach(u=>Kc(u.content,u.options)),er=[],()=>{l(),ye.delete(o)}},setProps(a){var c;(c=ye.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=ye.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=d.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return t.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:qc,count:s==null?void 0:s.length}}function bp(t){const[e,n]=d.useState(!1),[r,s]=d.useState(!1),i=d.useRef(null),o=d.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:l,onClick:u,closeOnClick:f}=t;var h,p;function g(){n(!0)}function m(){n(!1)}function b(_){const x=i.current;o.canDrag&&x&&(o.didMove=!0,e&&m(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),x.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w);const _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(p=ye.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||p.setToggle(h.id,h.fn),d.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const v={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w);const x=i.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=x.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:x,bottom:E,left:k,right:T}=i.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=k&&_.clientX<=T&&_.clientY>=x&&_.clientY<=E?m():g()}};return a&&c&&(v.onMouseEnter=m,t.stacked||(v.onMouseLeave=g)),f&&(v.onClick=_=>{u&&u(_),o.canCloseOnClick&&l()}),{playToast:g,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:v}}function wp(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:c,progress:l,rtl:u,isIn:f,theme:h}=t;const p=i||c&&l===0,g={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(g.transform=`scaleX(${l})`);const m=Ge("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),b=Se(o)?o({rtl:u,type:s,defaultClassName:m}):Ge(m,o),w={[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{f&&r()}};return O.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},O.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${s}`}),O.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:g,...w}))}let vp=1;const Gc=()=>""+vp++;function _p(t){return t&&($t(t.toastId)||Zn(t.toastId))?t.toastId:Gc()}function Kn(t,e){return Kc(t,e),e.toastId}function Wr(t,e){return{...e,type:e&&e.type||t,toastId:_p(e)}}function xr(t){return(e,n)=>Kn(e,Wr(t,n))}function K(t,e){return Kn(t,Wr("default",e))}K.loading=(t,e)=>Kn(t,Wr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),K.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=$t(s)?K.loading(s,n):K.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,f,h)=>{if(f==null)return void K.dismiss(r);const p={type:u,...a,...n,data:h},g=$t(f)?{render:f}:f;return r?K.update(r,{...p,...g}):K(g.render,{...p,...g}),h},l=Se(t)?t():t;return l.then(u=>c("success",o,u)).catch(u=>c("error",i,u)),l},K.success=xr("success"),K.info=xr("info"),K.error=xr("error"),K.warning=xr("warning"),K.warn=K.warning,K.dark=(t,e)=>Kn(t,Wr("default",{theme:"dark",...e})),K.dismiss=function(t){(function(e){var n;if(Wc()){if(e==null||$t(n=e)||Zn(n))ye.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=ye.get(e.containerId);r?r.removeToast(e.id):ye.forEach(s=>{s.removeToast(e.id)})}}else er=er.filter(r=>e!=null&&r.options.toastId!==e)})(t)},K.clearWaitingQueue=function(t){t===void 0&&(t={}),ye.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},K.isActive=qc,K.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=ye.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:Gc()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,Kn(o,i)}},K.done=t=>{K.update(t,{progress:1})},K.onChange=function(t){return li.add(t),()=>{li.delete(t)}},K.play=t=>Zo(!0,t),K.pause=t=>Zo(!1,t);const xp=typeof window<"u"?d.useLayoutEffect:d.useEffect,Er=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return O.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Ps={info:function(t){return O.createElement(Er,{...t},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return O.createElement(Er,{...t},O.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return O.createElement(Er,{...t},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return O.createElement(Er,{...t},O.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return O.createElement("div",{className:"Toastify__spinner"})}},Ep=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=bp(t),{closeButton:o,children:a,autoClose:c,onClick:l,type:u,hideProgressBar:f,closeToast:h,transition:p,position:g,className:m,style:b,bodyClassName:w,bodyStyle:v,progressClassName:_,progressStyle:x,updateId:E,role:k,progress:T,rtl:C,toastId:A,deleteToast:R,isIn:U,isLoading:P,closeOnClick:z,theme:D}=t,G=Ge("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":z}),F=Se(m)?m({rtl:C,position:g,type:u,defaultClassName:G}):Ge(G,m),H=function(W){let{theme:ne,type:re,isLoading:ie,icon:fe}=W,he=null;const pe={theme:ne,type:re};return fe===!1||(Se(fe)?he=fe({...pe,isLoading:ie}):d.isValidElement(fe)?he=d.cloneElement(fe,pe):ie?he=Ps.spinner():(kt=>kt in Ps)(re)&&(he=Ps[re](pe))),he}(t),M=!!T||!c,I={closeToast:h,type:u,theme:D};let V=null;return o===!1||(V=Se(o)?o(I):d.isValidElement(o)?d.cloneElement(o,I):function(W){let{closeToast:ne,theme:re,ariaLabel:ie="close"}=W;return O.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:fe=>{fe.stopPropagation(),ne(fe)},"aria-label":ie},O.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},O.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(I)),O.createElement(p,{isIn:U,done:R,position:g,preventExitTransition:n,nodeRef:r,playToast:i},O.createElement("div",{id:A,onClick:l,"data-in":U,className:F,...s,style:b,ref:r},O.createElement("div",{...U&&{role:k},className:Se(w)?w({type:u}):Ge("Toastify__toast-body",w),style:v},H!=null&&O.createElement("div",{className:Ge("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},H),O.createElement("div",null,a)),V,O.createElement(wp,{...E&&!M?{key:`pb-${E}`}:{},rtl:C,theme:D,delay:c,isRunning:e,isIn:U,closeToast:h,hide:f,type:u,style:x,className:_,controlledProgress:M,progress:T||0})))},cs=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Sp=as(cs("bounce",!0));as(cs("slide",!0));as(cs("zoom"));as(cs("flip"));const Cp={position:"top-right",transition:Sp,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Tp(t){let e={...Cp,...t};const n=t.stacked,[r,s]=d.useState(!0),i=d.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=yp(e),{className:l,style:u,rtl:f,containerId:h}=e;function p(m){const b=Ge("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":f});return Se(l)?l({position:m,rtl:f,defaultClassName:b}):Ge(b,$r(l))}function g(){n&&(s(!0),K.play())}return xp(()=>{if(n){var m;const b=i.current.querySelectorAll('[data-in="true"]'),w=12,v=(m=e.position)==null?void 0:m.includes("top");let _=0,x=0;Array.from(b).reverse().forEach((E,k)=>{const T=E;T.classList.add("Toastify__toast--stacked"),k>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=v?"top":"bot");const C=_*(r?.2:1)+(r?0:w*k);T.style.setProperty("--y",`${v?C:-1*C}px`),T.style.setProperty("--g",`${w}`),T.style.setProperty("--s",""+(1-(r?x:0))),_+=T.offsetHeight,x+=.025})}},[r,c,n]),O.createElement("div",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),K.pause())},onMouseLeave:g},o((m,b)=>{const w=b.length?{...u}:{...u,pointerEvents:"none"};return O.createElement("div",{className:p(m),style:w,key:`container-${m}`},b.map(v=>{let{content:_,props:x}=v;return O.createElement(Ep,{...x,stacked:n,collapseAll:g,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},_)}))}))}const Ap="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyAgUFVCTElDICctLy9XM0MvL0RURCBTVkcgMS4xLy9FTicgICdodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQnPgo8c3ZnIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2RkIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ4MSA1NzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Im0yMzYuNSAxMy41YzEuNjk5LTAuMTYwMiAzLjM2NiAwLjAwNjUgNSAwLjUgMTQuMjM4IDkuMjg3NSAyOS4yMzggMTcuMjg4IDQ1IDI0IDUzLjM3MSAyMS42MDkgMTA4LjcgMzUuNjA5IDE2NiA0MiA2Ljg1OSAyLjg1ODkgMTEuNjkyIDcuNjkyMyAxNC41IDE0LjUgMi4wNTkgNDQuNjY4IDEuNzI2IDg5LjMzNS0xIDEzNC05Ljk3OCAxMjIuMTgtNjIuODExIDIyMC4zNC0xNTguNSAyOTQuNS0xOS4xMjggMTQuMDc2LTM5LjQ2MSAyNi40MDktNjEgMzctMi4yNDQgMC45MDYtNC41NzcgMS40MDYtNyAxLjUtNTUuMzA2LTIzLjU4OS0xMDEuODEtNTguOTIyLTEzOS41LTEwNi01NS4yNjYtNjguNzUyLTg0Ljc2Ni0xNDcuNTktODguNS0yMzYuNSAwLjYzMzktNC44NCAxLjMwMDYtOS42NzQgMi0xNC41IDAuMzY3OC0xLjQxIDEuMjAxMS0yLjQxIDIuNS0zIDEuNjY2NyAxLjMzMyAzLjMzMzMgMi42NjcgNSA0IDUuNjU2OCAxMi4zMjEgMTQuMTU3IDIyLjE1NSAyNS41IDI5LjUgMS44NTg5IDEuNTU4IDMuMzU4OSAzLjM5MSA0LjUgNS41IDIuNzQgMjQuNyA3LjQwNjcgNDkuMDM0IDE0IDczIDcuNjg0NiAyMy43MzIgMTcuNjg1IDQ2LjM5OSAzMCA2OCAxLjE2NjcgMS4xNjcgMi4zMzMzIDIuMzMzIDMuNSAzLjUgNjAuMzE2IDIuNzYxIDEwNi44Mi0yMC43MzkgMTM5LjUtNzAuNSAwLjk5MS0xLjk0NyAxLjMyNS0zLjk0NyAxLTYtMTUuNTA5IDcuOTAyLTMyLjE3NiAxMS4yMzUtNTAgMTAtMzUuMDc4IDAuNTUyLTYxLjI0NS0xNC4yODEtNzguNS00NC41bDEtMWM5LjgzNCAyLjYyNCAxOS44MzQgNC45NTcgMzAgNyAxOS45NjUgMi44NTYgMzkuMjk4IDAuNTIyIDU4LTcgMi40OTMtMi4wOCA1LjE1OS0zLjkxNCA4LTUuNSAxLjYyMy0xLjYxMyAyLjc5LTMuMjggMy41LTUtMS40Ni0xLjkyMi0zLjEyNy0yLjU4OS01LTItMjAuNDA2IDYuMTI2LTQxLjIzOSA2LjYyNi02Mi41IDEuNS01NS45ODQtMTIuNjMtOTMuMTUxLTQ2LjQ2My0xMTEuNS0xMDEuNS0yLjMyNDQtNy44NTQtMi45OTEtMTUuODU0LTItMjQgMC4zMDc2LTAuODA4IDAuODA3Ni0xLjQ3NSAxLjUtMiA1LjgxMiAyLjk0NCAxMC4zMTIgNy4yNzcgMTMuNSAxMyAzMi43MzcgMzIuMjQgNzEuOTA0IDQ3LjA3MyAxMTcuNSA0NC41IDIuOTU2LTAuOTYyIDUuMjktMi42MjggNy01LTEuMDItMi4wMjYtMi42ODctMy4zNTktNS00LTQ0LjM1OS03LjA5NC04MS44NTktMjYuOTI3LTExMi41LTU5LjUtMTIuOTk1LTE2LjgyNy0yMS44MjktMzUuNjYtMjYuNS01Ni41IDAuMTQ0OC0xLjIyNTkgMC40NzgxLTIuMzkyNiAxLTMuNS0yLjg0Ny0xMy4xMDgtMi4zNDctMjYuMTA4IDEuNS0zOSAxLjE2NjItMy4wMDMyIDIuODMyOC01LjY2OTggNS04IDEuNTEyMiAwLjc1NjcgMi44NDU1IDEuNzU2NyA0IDMgMjYgNDIgNjAuNSA3NS4xNjYgMTAzLjUgOTkuNSAyNC40MzMgMTIuMDg0IDQ5LjEgMjMuNzUxIDc0IDM1IDE5Ljk5OSAxMC42NjYgMzYuMTY2IDI1LjUgNDguNSA0NC41IDMuMjAyIDYuNjE3IDYuMjAyIDEzLjI4NCA5IDIwIDEuNTg5LTMuMjU3IDMuMDg5LTYuNTkgNC41LTEwLTAuMzMzLTAuNjY3LTAuNjY3LTEuMzMzLTEtMiAwLjgwMy03Ljk1MSAxLjMwMy0xNS45NTEgMS41LTI0IDAuNzQ3LTI1LjMxMyAxMi41ODEtNDMuMTQ2IDM1LjUtNTMuNSAxNy4yNS00Ljg5IDMyLjkxNy0xLjg5IDQ3IDkgOS4zNTggMS42ODQgMTguMDI0IDUuMDE4IDI2IDEwIDEuODUxIDEuNjg0IDMuNTE4IDMuNTE3IDUgNS41bC0xLjUgM2MtMjYuMjM2IDQuNzUzLTM2LjkwMyAyMC40Mi0zMiA0NyAyLjg2NyAxMy4xMzQgNi4yIDI2LjEzNCAxMCAzOSA3LjcxIDUyLjU1LTguNzkgOTUuNzE3LTQ5LjUgMTI5LjUtMzUuNjg1IDI3Ljc5Mi03Ni4zNTEgNDIuNzkyLTEyMiA0NS0xNS41ODYgMTEuOTE1LTMwLjU4NiAyNC41ODItNDUgMzggMjUuMTc4IDI3LjUyMyA1NC42NzggNDkuMzU2IDg4LjUgNjUuNSA3Mi4zMDEtMzcuOTY4IDEyNC45Ny05NC4zMDEgMTU4LTE2OSAyMi4yODUtNTQuNzYgMzMuMjg1LTExMS43NiAzMy0xNzEgMC42NjctMjEuMzMzIDAuNjY3LTQyLjY2NyAwLTY0LTY3LjA4My03LjY5Ni0xMzAuNzUtMjYuNjk2LTE5MS01Ny0yOS4yNzYgMTQuNDI1LTU5LjYxIDI2LjA5Mi05MSAzNS0zLjIxMi0xLjM1NTQtNi4zNzgtMi44NTU0LTkuNS00LjUtNS44NzQtNS41NDI5LTEyLjA0MS0xMC43MS0xOC41LTE1LjUtMS41ODYtMi4xNzA1LTIuOTItNC41MDM4LTQtNy0wLjc5OC0xLjc1ODgtMC42MzEtMy40MjU1IDAuNS01IDM2LjkyLTguOTE3NSA3Mi4yNTMtMjIuMDg0IDEwNi0zOS41IDQuNTU5LTMuNDM3MSA5LjIyNi02LjYwMzcgMTQtOS41eiIgZmlsbD0iI2ZlZmZmZSIgb3BhY2l0eT0iLjkyOSIvPgo8L3N2Zz4K",kp="/prote-ja-app/assets/proteja_name-D6S49Xxc.svg";function ea(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ls(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ea(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ea(t[s],null)}}}}function ue(...t){return d.useCallback(ls(...t),t)}var yn=d.forwardRef((t,e)=>{const{children:n,...r}=t,s=d.Children.toArray(n),i=s.find(Ip);if(i){const o=i.props.children,a=s.map(c=>c===i?d.Children.count(o)>1?d.Children.only(null):d.isValidElement(o)?o.props.children:null:c);return y.jsx(ui,{...r,ref:e,children:d.isValidElement(o)?d.cloneElement(o,void 0,a):null})}return y.jsx(ui,{...r,ref:e,children:n})});yn.displayName="Slot";var ui=d.forwardRef((t,e)=>{const{children:n,...r}=t;if(d.isValidElement(n)){const s=Pp(n);return d.cloneElement(n,{...Rp(r,n.props),ref:e?ls(e,s):s})}return d.Children.count(n)>1?d.Children.only(null):null});ui.displayName="SlotClone";var Yc=({children:t})=>y.jsx(y.Fragment,{children:t});function Ip(t){return d.isValidElement(t)&&t.type===Yc}function Rp(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Pp(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ta=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,na=Ge,Mp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return na(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],f=i==null?void 0:i[l];if(u===null)return null;const h=ta(u)||ta(f);return s[l][h]}),a=n&&Object.entries(n).reduce((l,u)=>{let[f,h]=u;return h===void 0||(l[f]=h),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(g=>{let[m,b]=g;return Array.isArray(b)?b.includes({...i,...a}[m]):{...i,...a}[m]===b})?[...l,f,h]:l},[]);return na(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},qi="-",Op=t=>{const e=Np(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qi);return a[0]===""&&a.length!==1&&a.shift(),Qc(a,e)||jp(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Qc=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Qc(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(qi);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ra=/^\[(.+)\]$/,jp=t=>{if(ra.test(t)){const e=ra.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Np=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Lp(Object.entries(t.classGroups),n).forEach(([i,o])=>{di(o,r,i,e)}),r},di=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:sa(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Dp(s)){di(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{di(o,sa(e,i),n,r)})})},sa=(t,e)=>{let n=t;return e.split(qi).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Dp=t=>t.isThemeGetter,Lp=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,$p=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Jc="!",Fp=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let l=0,u=0,f;for(let b=0;b<a.length;b++){let w=a[b];if(l===0){if(w===s&&(r||a.slice(b,b+i)===e)){c.push(a.slice(u,b)),u=b+i;continue}if(w==="/"){f=b;continue}}w==="["?l++:w==="]"&&l--}const h=c.length===0?a:a.substring(u),p=h.startsWith(Jc),g=p?h.substring(1):h,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},Up=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Bp=t=>({cache:$p(t.cacheSize),parseClassName:Fp(t),...Op(t)}),zp=/\s+/,Hp=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(zp);let a="";for(let c=o.length-1;c>=0;c-=1){const l=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(l);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){a=l+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=l+(a.length>0?" "+a:a);continue}g=!1}const b=Up(u).join(":"),w=f?b+Jc:b,v=w+m;if(i.includes(v))continue;i.push(v);const _=s(m,g);for(let x=0;x<_.length;++x){const E=_[x];i.push(w+E)}a=l+(a.length>0?" "+a:a)}return a};function Vp(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Xc(e))&&(r&&(r+=" "),r+=n);return r}const Xc=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Xc(t[r]))&&(n&&(n+=" "),n+=e);return n};function Wp(t,...e){let n,r,s,i=o;function o(c){const l=e.reduce((u,f)=>f(u),t());return n=Bp(l),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=Hp(c,n);return s(c,u),u}return function(){return i(Vp.apply(null,arguments))}}const Q=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zc=/^\[(?:([a-z-]+):)?(.+)\]$/i,qp=/^\d+\/\d+$/,Kp=new Set(["px","full","screen"]),Gp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xe=t=>nn(t)||Kp.has(t)||qp.test(t),ct=t=>En(t,"length",om),nn=t=>!!t&&!Number.isNaN(Number(t)),Ms=t=>En(t,"number",nn),Nn=t=>!!t&&Number.isInteger(Number(t)),Zp=t=>t.endsWith("%")&&nn(t.slice(0,-1)),N=t=>Zc.test(t),lt=t=>Gp.test(t),em=new Set(["length","size","percentage"]),tm=t=>En(t,em,el),nm=t=>En(t,"position",el),rm=new Set(["image","url"]),sm=t=>En(t,rm,cm),im=t=>En(t,"",am),Dn=()=>!0,En=(t,e,n)=>{const r=Zc.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},om=t=>Yp.test(t)&&!Qp.test(t),el=()=>!1,am=t=>Jp.test(t),cm=t=>Xp.test(t),lm=()=>{const t=Q("colors"),e=Q("spacing"),n=Q("blur"),r=Q("brightness"),s=Q("borderColor"),i=Q("borderRadius"),o=Q("borderSpacing"),a=Q("borderWidth"),c=Q("contrast"),l=Q("grayscale"),u=Q("hueRotate"),f=Q("invert"),h=Q("gap"),p=Q("gradientColorStops"),g=Q("gradientColorStopPositions"),m=Q("inset"),b=Q("margin"),w=Q("opacity"),v=Q("padding"),_=Q("saturate"),x=Q("scale"),E=Q("sepia"),k=Q("skew"),T=Q("space"),C=Q("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",N,e],P=()=>[N,e],z=()=>["",Xe,ct],D=()=>["auto",nn,N],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",N],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[nn,N];return{cacheSize:500,separator:":",theme:{colors:[Dn],spacing:[Xe,ct],blur:["none","",lt,N],brightness:W(),borderColor:[t],borderRadius:["none","","full",lt,N],borderSpacing:P(),borderWidth:z(),contrast:W(),grayscale:I(),hueRotate:W(),invert:I(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Zp,ct],inset:U(),margin:U(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:I(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",N]}],container:["container"],columns:[{columns:[lt]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),N]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nn,N]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",N]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Nn,N]}],"grid-cols":[{"grid-cols":[Dn]}],"col-start-end":[{col:["auto",{span:["full",Nn,N]},N]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Dn]}],"row-start-end":[{row:["auto",{span:[Nn,N]},N]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",N]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",N]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",N,e]}],"min-w":[{"min-w":[N,e,"min","max","fit"]}],"max-w":[{"max-w":[N,e,"none","full","min","max","fit","prose",{screen:[lt]},lt]}],h:[{h:[N,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[N,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[N,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[N,e,"auto","min","max","fit"]}],"font-size":[{text:["base",lt,ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ms]}],"font-family":[{font:[Dn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",N]}],"line-clamp":[{"line-clamp":["none",nn,Ms]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xe,N]}],"list-image":[{"list-image":["none",N]}],"list-style-type":[{list:["none","disc","decimal",N]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xe,ct]}],"underline-offset":[{"underline-offset":["auto",Xe,N]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",N]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",N]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),nm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Xe,N]}],"outline-w":[{outline:[Xe,ct]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Xe,ct]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",lt,im]}],"shadow-color":[{shadow:[Dn]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lt,N]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",N]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",N]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",N]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Nn,N]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",N]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",N]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",N]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xe,ct,Ms]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},um=Wp(lm);function de(...t){return um(Ge(t))}const dm=Mp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:opacity-80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border hover:bg-background",secondary:"bg-secondary text-secondary-foreground border hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",positive:"bg-secondary text-positive border border-positive hover:bg-secondary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),rn=d.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?yn:"button";return y.jsx(o,{className:de(dm({variant:e,size:n,className:t}),{"border-0":s.borderless}),ref:i,...s})});rn.displayName="Button";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tl=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=d.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>d.createElement("svg",{ref:c,...hm,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tl("lucide",s),...a},[...o.map(([l,u])=>d.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(pm,{ref:i,iconNode:e,className:tl(`lucide-${fm(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=_e("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Im=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>te(async()=>{const{default:r}=await Promise.resolve().then(()=>Sn);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ki extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Rm extends Ki{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pm extends Ki{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mm extends Ki{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fi||(fi={}));var Om=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class jm{constructor(e,{headers:n={},customFetch:r,region:s=fi.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Im(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Om(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(g=>{throw new Rm(g)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Pm(u);if(!u.ok)throw new Mm(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var oe={},Ln={},$n={},Fn={},Un={},Bn={},Nm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bn=Nm();const Dm=bn.fetch,nl=bn.fetch.bind(bn),rl=bn.Headers,Lm=bn.Request,$m=bn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:rl,Request:Lm,Response:$m,default:nl,fetch:Dm},Symbol.toStringTag,{value:"Module"})),Fm=uf(Sn);var Sr={},ia;function sl(){if(ia)return Sr;ia=1,Object.defineProperty(Sr,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sr.default=t,Sr}var oa;function il(){if(oa)return Bn;oa=1;var t=Bn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bn,"__esModule",{value:!0});const e=t(Fm),n=t(sl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,f,h;let p=null,g=null,m=null,b=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=E:g=JSON.parse(E))}const _=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,b=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{p=JSON.parse(_),Array.isArray(p)&&l.status===404&&(g=[],p=null,b=200,w="OK")}catch{l.status===404&&_===""?(b=204,w="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,b=200,w="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:g,count:m,status:b,statusText:w}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,f,h;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}}return Bn.default=r,Bn}var aa;function ol(){if(aa)return Un;aa=1;var t=Un.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Un,"__esModule",{value:!0});const e=t(il());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(l,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:l="text"}={}){var u;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${f};`,l==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Un.default=n,Un}var ca;function Gi(){if(ca)return Fn;ca=1;var t=Fn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fn,"__esModule",{value:!0});const e=t(ol());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const l=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${l}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Fn.default=n,Fn}var la;function al(){if(la)return $n;la=1;var t=$n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($n,"__esModule",{value:!0});const e=t(Gi());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let c=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",l),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(s)){const l=s.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){const l="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),c||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return $n.default=n,$n}var zn={},Hn={},ua;function Um(){return ua||(ua=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.version=void 0,Hn.version="0.0.0-automated"),Hn}var da;function Bm(){if(da)return zn;da=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.DEFAULT_HEADERS=void 0;const t=Um();return zn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},zn}var fa;function zm(){if(fa)return Ln;fa=1;var t=Ln.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ln,"__esModule",{value:!0});const e=t(al()),n=t(Gi()),r=Bm();class s{constructor(o,{headers:a={},schema:c,fetch:l}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:c=!1,get:l=!1,count:u}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let p;c||l?(f=c?"HEAD":"GET",Object.entries(a).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{h.searchParams.append(m,b)})):(f="POST",p=a);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new n.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return Ln.default=s,Ln}var ha;function Hm(){if(ha)return oe;ha=1;var t=oe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostgrestError=oe.PostgrestBuilder=oe.PostgrestTransformBuilder=oe.PostgrestFilterBuilder=oe.PostgrestQueryBuilder=oe.PostgrestClient=void 0;const e=t(zm());oe.PostgrestClient=e.default;const n=t(al());oe.PostgrestQueryBuilder=n.default;const r=t(Gi());oe.PostgrestFilterBuilder=r.default;const s=t(ol());oe.PostgrestTransformBuilder=s.default;const i=t(il());oe.PostgrestBuilder=i.default;const o=t(sl());return oe.PostgrestError=o.default,oe.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},oe}var Vm=Hm();const Wm=Ni(Vm),{PostgrestClient:qm,PostgrestQueryBuilder:PS,PostgrestFilterBuilder:MS,PostgrestTransformBuilder:OS,PostgrestBuilder:jS,PostgrestError:NS}=Wm,Km="2.11.2",Gm={"X-Client-Info":`realtime-js/${Km}`},Ym="1.0.0",cl=1e4,Qm=1e3;var sn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sn||(sn={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var Le;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Le||(Le={}));var hi;(function(t){t.websocket="websocket"})(hi||(hi={}));var Mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mt||(Mt={}));class Jm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class ll{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const pa=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Xm(o,t,e,s),i),{})},Xm=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ul(i,o):pi(o)},ul=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ng(e,n)}switch(t){case Y.bool:return Zm(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return eg(e);case Y.json:case Y.jsonb:return tg(e);case Y.timestamp:return rg(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return pi(e);default:return pi(e)}},pi=t=>t,Zm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ng=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ul(e,a))}return t},rg=t=>typeof t=="string"?t.replace(" ","T"):t,dl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Os{constructor(e,n,r={},s=cl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ma;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ma||(ma={}));class Gn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Gn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const f=i[l];if(f){const h=u.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),g=u.filter(b=>p.indexOf(b.presence_ref)<0),m=f.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const f=e[a].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(f=>f.presence_ref);l=l.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=l,s(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ga;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ga||(ga={}));var ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ya||(ya={}));var et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(et||(et={}));class Yi{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Os(this,Le.join,this.params,this.timeout),this.rejoinTimer=new ll(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Le.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Gn(this),this.broadcastEndpointURL=dl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(et.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(et.CLOSED));const c={},l={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(et.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:w,schema:v,table:_,filter:x}}=b,E=u&&u[m];if(E&&E.event===w&&E.schema===v&&E.table===_&&E.filter===x)g.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),e==null||e(et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(et.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Le.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Os(this,Le.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Os(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Le;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,b,w,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,E=(g=p.filter)===null||g===void 0?void 0:g.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return x==="*"||x===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:b,commit_timestamp:w,type:v,errors:_}=g;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:w,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Yi.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Le.close,{},e)}_onError(e){this._on(Le.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pa(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pa(e.columns,e.old_record)),n}}const sg=()=>{},ig=typeof WebSocket<"u",og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ag{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Gm,this.params={},this.timeout=cl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sg,this.conn=null,this.sendBuffer=[],this.serializer=new Jm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>te(async()=>{const{default:c}=await Promise.resolve().then(()=>Sn);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${hi.websocket}`,this.httpEndpoint=dl(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ll(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ig){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new cg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),te(async()=>{const{default:e}=await import("./browser-nFtbaKDj.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ym}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return Mt.Connecting;case sn.open:return Mt.Open;case sn.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(e,n={config:{}}){const r=new Yi(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Le.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Qm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Le.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([og],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class cg{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Qi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lg extends Qi{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mi extends Qi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ug=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const fl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>te(async()=>{const{default:r}=await Promise.resolve().then(()=>Sn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dg=()=>ug(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield te(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),gi=t=>{if(Array.isArray(t))return t.map(n=>gi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gi(r)}),e};var Wt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const js=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fg=(t,e,n)=>Wt(void 0,void 0,void 0,function*(){const r=yield dg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new lg(js(s),t.status||500))}).catch(s=>{e(new mi(js(s),s))}):e(new mi(js(t),t))}),hg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function hr(t,e,n,r,s,i){return Wt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,hg(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fg(c,a,r))})})}function qr(t,e,n,r){return Wt(this,void 0,void 0,function*(){return hr(t,"GET",e,n,r)})}function pt(t,e,n,r,s){return Wt(this,void 0,void 0,function*(){return hr(t,"POST",e,r,s,n)})}function pg(t,e,n,r,s){return Wt(this,void 0,void 0,function*(){return hr(t,"PUT",e,r,s,n)})}function mg(t,e,n,r){return Wt(this,void 0,void 0,function*(){return hr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hl(t,e,n,r,s){return Wt(this,void 0,void 0,function*(){return hr(t,"DELETE",e,r,s,n)})}var ve=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const gg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ba={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=fl(s)}uploadOrUpdate(e,n,r,s){return ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ba),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const l=Object.assign({upsert:ba.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Qi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(e,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ve(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ve(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}download(e,n){return ve(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield qr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}})}info(e){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield qr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gi(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(e){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield mg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof mi){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}list(e,n,r){return ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gg),n),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const bg="2.7.1",wg={"X-Client-Info":`storage-js/${bg}`};var Yt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class vg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},wg),n),this.fetch=fl(r)}listBuckets(){return Yt(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Yt(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Yt(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}}class _g extends vg{constructor(e,n={},r){super(e,n,r)}from(e){return new yg(this.url,this.headers,e,this.fetch)}}const xg="2.48.1";let Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";const Eg={"X-Client-Info":`supabase-js-${Wn}/${xg}`},Sg={headers:Eg},Cg={schema:"public"},Tg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ag={};var kg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Ig=t=>{let e;return t?e=t:typeof fetch>"u"?e=nl:e=fetch,(...n)=>e(...n)},Rg=()=>typeof Headers>"u"?rl:Headers,Pg=(t,e,n)=>{const r=Ig(n),s=Rg();return(i,o)=>kg(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new s(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:l}))})};var Mg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function Og(t){return t.replace(/\/$/,"")}function jg(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},l),i),accessToken:()=>Mg(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const pl="2.67.3",Ng="http://localhost:9999",Dg="supabase.auth.token",Lg={"X-Client-Info":`gotrue-js/${pl}`},wa=10,yi="X-Supabase-Api-Version",ml={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function $g(t){return Math.round(Date.now()/1e3)+t}function Fg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",It={tested:!1,writable:!1},Yn=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(It.tested)return It.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),It.tested=!0,It.writable=!0}catch{It.tested=!0,It.writable=!1}return It.writable};function Ug(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const gl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>te(async()=>{const{default:r}=await Promise.resolve().then(()=>Sn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Cr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tr=async(t,e)=>{await t.removeItem(e)};function zg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}let bl=class wl{constructor(){this.promise=new wl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};bl.promiseConstructor=Promise;function va(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(zg(r))}async function Hg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Vg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Wg(t){return("0"+t.toString(16)).substr(-2)}function qg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Wg).join("")}async function Kg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Gg(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Kg(t);return Gg(n)}async function Qt(t,e,n=!1){const r=qg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await yl(t,`${e}-code-verifier`,s);const i=await Yg(r);return[i,r===i?"plain":"s256"]}const Qg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jg(t){const e=t.headers.get(yi);if(!e||!e.match(Qg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ji extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xg extends Ji{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Zg(t){return L(t)&&t.name==="AuthApiError"}class vl extends Ji{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qt extends Ji{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class dt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ey(t){return L(t)&&t.name==="AuthSessionMissingError"}class Ns extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ar extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kr extends qt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ty(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class _a extends qt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bi extends qt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ds(t){return L(t)&&t.name==="AuthRetryableFetchError"}class xa extends qt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var ny=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Rt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ry=[502,503,504];async function Ea(t){var e;if(!Bg(t))throw new bi(Rt(t),0);if(ry.includes(t.status))throw new bi(Rt(t),t.status);let n;try{n=await t.json()}catch(i){throw new vl(Rt(i),i)}let r;const s=Jg(t);if(s&&s.getTime()>=ml["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xa(Rt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xa(Rt(n),t.status,n.weak_password.reasons);throw new Xg(Rt(n),t.status||500,r)}const sy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function B(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[yi]||(i[yi]=ml["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await iy(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function iy(t,e,n,r,s,i){const o=sy(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new bi(Rt(c),0)}if(a.ok||await Ea(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Ea(c)}}function ft(t){var e;let n=null;ly(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$g(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Sa(t){const e=ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oy(t){return{data:t,error:null}}function ay(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=ny(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function cy(t){return t}function ly(t){return t.access_token&&t.refresh_token&&t.expires_in}var uy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class dy{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=uy(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ay,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cy});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);l[`${b}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(L(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:mt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:mt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const fy={getItem:t=>Yn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Yn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Yn()&&globalThis.localStorage.removeItem(t)}};function Ca(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function hy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jt={debug:!!(globalThis&&Yn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _l extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class py extends _l{}async function my(t,e,n){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new py(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hy();const gy={url:Ng,storageKey:Dg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Vn=30*1e3,Ta=3;async function Aa(t,e,n){return await n()}class tr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tr.nextInstanceID,tr.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gl(s.fetch),this.lock=s.lock||Aa,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=my:this.lock=Aa,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Yn()?this.storage=fy:(this.memoryStorage={},this.storage=Ca(this.memoryStorage)):(this.memoryStorage={},this.storage=Ca(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ug(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ty(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new vl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Qt(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ft})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ft})}else throw new Ar("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sa})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sa})}else throw new Ar("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ns}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Cr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ft});if(await Tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ns}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ft}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ns}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Qt(this.storage,this.storageKey));const{error:f}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ar("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qt(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:oy})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new dt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ar("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:mt})})}catch(n){if(L(n))return ey(n)&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new dt;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Qt(this.storage,this.storageKey));const{data:l,error:u}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:mt});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return va(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=va(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new dt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ze())throw new kr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _a("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _a("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new kr("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;c&&(h=parseInt(c));const p=h-u;p*1e3<=Vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Cr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Zg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Fg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Qt(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,l,u;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ze()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Vg(async s=>(s>0&&await Hg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ds(i)&&Date.now()+o-r<Vn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Cr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+wa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${wa}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ds(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return Ds(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Tr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vn}ms, refresh threshold is ${Ta} ticks`),s<=Ta&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _l)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}tr.nextInstanceID=0;const yy=tr;class by extends yy{constructor(e){super(e)}}var wy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};class vy{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Og(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Cg,realtime:Ag,auth:Object.assign(Object.assign({},Tg),{storageKey:c}),global:Sg},u=jg(r??{},l);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Pg(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new qm(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new jm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _g(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},l,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new by({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ag(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _y=(t,e,n)=>new vy(t,e,n),xy="https://czhgcnahnjyzimgtcrqx.supabase.co",Ey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6aGdjbmFobmp5emltZ3RjcnF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU0MTMzNTksImV4cCI6MjA1MDk4OTM1OX0.M-N5P5B4njMDftt6ErPCjKs05ik4eh7goMShs551Fjw",Ae=_y(xy,Ey,{auth:{persistSession:!0,autoRefreshToken:!0}});async function Sy(t,e){return await Ae.from("users").update(e).eq("id",t).select().returns()}async function Cy(t){return await Ae.from("users").select("*").match({id:t}).single()}async function DS(t){return await Ae.from("users").select("*").in("id",t).returns()}var ka={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ty=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},El={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xl(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ty(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||f==null)throw new Ay;const h=i<<2|a>>4;if(r.push(h),l!==64){const p=a<<4&240|l>>2;if(r.push(p),f!==64){const g=l<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ay extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ky=function(t){const e=xl(t);return El.encodeByteArray(e,!0)},Sl=function(t){return ky(t).replace(/\./g,"")},Iy=function(t){try{return El.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=()=>Ry().__FIREBASE_DEFAULTS__,My=()=>{if(typeof process>"u"||typeof ka>"u")return;const t=ka.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Oy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Iy(t[1]);return e&&JSON.parse(e)},jy=()=>{try{return Py()||My()||Oy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cl=()=>{var t;return(t=jy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Tl(){try{return typeof indexedDB=="object"}catch{return!1}}function Al(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Dy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="FirebaseError";class Cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ly,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,us.prototype.create)}}class us{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$y(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Cn(s,a,r)}}function $y(t,e){return t.replace(Fy,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Fy=/\{\$([^}]+)}/g;function wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ia(i)&&Ia(o)){if(!wi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ia(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){return t&&t._delegate?t._delegate:t}class St{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ny;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zy(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:By(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function By(t){return t===Pt?void 0:t}function zy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const Vy={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Wy=J.INFO,qy={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Ky=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qy[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gy{constructor(e){this.name=e,this._logLevel=Wy,this._logHandler=Ky,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const Yy=(t,e)=>e.some(n=>t instanceof n);let Ra,Pa;function Qy(){return Ra||(Ra=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jy(){return Pa||(Pa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Il=new WeakMap,vi=new WeakMap,Rl=new WeakMap,Ls=new WeakMap,Xi=new WeakMap;function Xy(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(st(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Il.set(n,t)}).catch(()=>{}),Xi.set(e,t),e}function Zy(t){if(vi.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vi.set(t,e)}let _i={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vi.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rl.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return st(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eb(t){_i=t(_i)}function tb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($s(this),e,...n);return Rl.set(r,e.sort?e.sort():[e]),st(r)}:Jy().includes(t)?function(...e){return t.apply($s(this),e),st(Il.get(this))}:function(...e){return st(t.apply($s(this),e))}}function nb(t){return typeof t=="function"?tb(t):(t instanceof IDBTransaction&&Zy(t),Yy(t,Qy())?new Proxy(t,_i):t)}function st(t){if(t instanceof IDBRequest)return Xy(t);if(Ls.has(t))return Ls.get(t);const e=nb(t);return e!==t&&(Ls.set(t,e),Xi.set(e,t)),e}const $s=t=>Xi.get(t);function ds(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=st(o);return r&&o.addEventListener("upgradeneeded",c=>{r(st(o.result),c.oldVersion,c.newVersion,st(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Fs(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),st(n).then(()=>{})}const rb=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Us=new Map;function Ma(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Us.get(e))return Us.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rb.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Us.set(e,i),i}eb(t=>({...t,get:(e,n,r)=>Ma(e,n)||t.get(e,n,r),has:(e,n)=>!!Ma(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ob(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ob(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xi="@firebase/app",Oa="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new Gy("@firebase/app"),ab="@firebase/app-compat",cb="@firebase/analytics-compat",lb="@firebase/analytics",ub="@firebase/app-check-compat",db="@firebase/app-check",fb="@firebase/auth",hb="@firebase/auth-compat",pb="@firebase/database",mb="@firebase/data-connect",gb="@firebase/database-compat",yb="@firebase/functions",bb="@firebase/functions-compat",wb="@firebase/installations",vb="@firebase/installations-compat",_b="@firebase/messaging",xb="@firebase/messaging-compat",Eb="@firebase/performance",Sb="@firebase/performance-compat",Cb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Ab="@firebase/storage",kb="@firebase/storage-compat",Ib="@firebase/firestore",Rb="@firebase/vertexai",Pb="@firebase/firestore-compat",Mb="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]",Ob={[xi]:"fire-core",[ab]:"fire-core-compat",[lb]:"fire-analytics",[cb]:"fire-analytics-compat",[db]:"fire-app-check",[ub]:"fire-app-check-compat",[fb]:"fire-auth",[hb]:"fire-auth-compat",[pb]:"fire-rtdb",[mb]:"fire-data-connect",[gb]:"fire-rtdb-compat",[yb]:"fire-fn",[bb]:"fire-fn-compat",[wb]:"fire-iid",[vb]:"fire-iid-compat",[_b]:"fire-fcm",[xb]:"fire-fcm-compat",[Eb]:"fire-perf",[Sb]:"fire-perf-compat",[Cb]:"fire-rc",[Tb]:"fire-rc-compat",[Ab]:"fire-gcs",[kb]:"fire-gcs-compat",[Ib]:"fire-fst",[Pb]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Map,jb=new Map,Si=new Map;function ja(t,e){try{t.container.addComponent(e)}catch(n){it.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ft(t){const e=t.name;if(Si.has(e))return it.debug(`There were multiple attempts to register component ${e}.`),!1;Si.set(e,t);for(const n of Kr.values())ja(n,t);for(const n of jb.values())ja(n,t);return!0}function Zi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_t=new us("app","Firebase",Nb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}function Pl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ei,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _t.create("bad-app-name",{appName:String(s)});if(n||(n=Cl()),!n)throw _t.create("no-options");const i=Kr.get(s);if(i){if(wi(n,i.options)&&wi(r,i.config))return i;throw _t.create("duplicate-app",{appName:s})}const o=new Hy(s);for(const c of Si.values())o.addComponent(c);const a=new Db(n,r,o);return Kr.set(s,a),a}function Lb(t=Ei){const e=Kr.get(t);if(!e&&t===Ei&&Cl())return Pl();if(!e)throw _t.create("no-app",{appName:t});return e}function xt(t,e,n){var r;let s=(r=Ob[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),it.warn(a.join(" "));return}Ft(new St(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebase-heartbeat-database",Fb=1,nr="firebase-heartbeat-store";let Bs=null;function Ml(){return Bs||(Bs=ds($b,Fb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nr)}catch(n){console.warn(n)}}}}).catch(t=>{throw _t.create("idb-open",{originalErrorMessage:t.message})})),Bs}async function Ub(t){try{const n=(await Ml()).transaction(nr),r=await n.objectStore(nr).get(Ol(t));return await n.done,r}catch(e){if(e instanceof Cn)it.warn(e.message);else{const n=_t.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});it.warn(n.message)}}}async function Na(t,e){try{const r=(await Ml()).transaction(nr,"readwrite");await r.objectStore(nr).put(e,Ol(t)),await r.done}catch(n){if(n instanceof Cn)it.warn(n.message);else{const r=_t.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});it.warn(r.message)}}}function Ol(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,zb=30*24*60*60*1e3;class Hb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Da();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){it.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Da(),{heartbeatsToSend:r,unsentEntries:s}=Vb(this._heartbeatsCache.heartbeats),i=Sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return it.warn(n),""}}}function Da(){return new Date().toISOString().substring(0,10)}function Vb(t,e=Bb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),La(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),La(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tl()?Al().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ub(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Na(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Na(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function La(t){return Sl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){Ft(new St("platform-logger",e=>new ib(e),"PRIVATE")),Ft(new St("heartbeat",e=>new Hb(e),"PRIVATE")),xt(xi,Oa,t),xt(xi,Oa,"esm2017"),xt("fire-js","")}qb("");var Kb="firebase",Gb="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt(Kb,Gb,"app");const jl="@firebase/installations",eo="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=1e4,Dl=`w:${eo}`,Ll="FIS_v2",Yb="https://firebaseinstallations.googleapis.com/v1",Qb=60*60*1e3,Jb="installations",Xb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ut=new us(Jb,Xb,Zb);function $l(t){return t instanceof Cn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl({projectId:t}){return`${Yb}/projects/${t}/installations`}function Ul(t){return{token:t.token,requestStatus:2,expiresIn:tw(t.expiresIn),creationTime:Date.now()}}async function Bl(t,e){const r=(await e.json()).error;return Ut.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zl({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ew(t,{refreshToken:e}){const n=zl(t);return n.append("Authorization",nw(e)),n}async function Hl(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tw(t){return Number(t.replace("s","000"))}function nw(t){return`${Ll} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Fl(t),s=zl(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={fid:n,authVersion:Ll,appId:t.appId,sdkVersion:Dl},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await Hl(()=>fetch(r,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Ul(l.authToken)}}else throw await Bl("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=/^[cdef][\w-]{21}$/,Ci="";function ow(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=aw(t);return iw.test(n)?n:Ci}catch{return Ci}}function aw(t){return sw(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map;function ql(t,e){const n=fs(t);Kl(n,e),cw(n,e)}function Kl(t,e){const n=Wl.get(t);if(n)for(const r of n)r(e)}function cw(t,e){const n=lw();n&&n.postMessage({key:t,fid:e}),uw()}let Ot=null;function lw(){return!Ot&&"BroadcastChannel"in self&&(Ot=new BroadcastChannel("[Firebase] FID Change"),Ot.onmessage=t=>{Kl(t.data.key,t.data.fid)}),Ot}function uw(){Wl.size===0&&Ot&&(Ot.close(),Ot=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebase-installations-database",fw=1,Bt="firebase-installations-store";let zs=null;function to(){return zs||(zs=ds(dw,fw,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bt)}}})),zs}async function Gr(t,e){const n=fs(t),s=(await to()).transaction(Bt,"readwrite"),i=s.objectStore(Bt),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&ql(t,e.fid),e}async function Gl(t){const e=fs(t),r=(await to()).transaction(Bt,"readwrite");await r.objectStore(Bt).delete(e),await r.done}async function hs(t,e){const n=fs(t),s=(await to()).transaction(Bt,"readwrite"),i=s.objectStore(Bt),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&ql(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t){let e;const n=await hs(t.appConfig,r=>{const s=hw(r),i=pw(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ci?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function hw(t){const e=t||{fid:ow(),registrationStatus:0};return Yl(e)}function pw(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ut.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mw(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gw(t)}:{installationEntry:e}}async function mw(t,e){try{const n=await rw(t,e);return Gr(t.appConfig,n)}catch(n){throw $l(n)&&n.customData.serverCode===409?await Gl(t.appConfig):await Gr(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gw(t){let e=await $a(t.appConfig);for(;e.registrationStatus===1;)await Vl(100),e=await $a(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await no(t);return r||n}return e}function $a(t){return hs(t,e=>{if(!e)throw Ut.create("installation-not-found");return Yl(e)})}function Yl(t){return yw(t)?{fid:t.fid,registrationStatus:0}:t}function yw(t){return t.registrationStatus===1&&t.registrationTime+Nl<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw({appConfig:t,heartbeatServiceProvider:e},n){const r=ww(t,n),s=ew(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={installation:{sdkVersion:Dl,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await Hl(()=>fetch(r,a));if(c.ok){const l=await c.json();return Ul(l)}else throw await Bl("Generate Auth Token",c)}function ww(t,{fid:e}){return`${Fl(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t,e=!1){let n;const r=await hs(t.appConfig,i=>{if(!Ql(i))throw Ut.create("not-registered");const o=i.authToken;if(!e&&xw(o))return i;if(o.requestStatus===1)return n=vw(t,e),i;{if(!navigator.onLine)throw Ut.create("app-offline");const a=Sw(i);return n=_w(t,a),a}});return n?await n:r.authToken}async function vw(t,e){let n=await Fa(t.appConfig);for(;n.authToken.requestStatus===1;)await Vl(100),n=await Fa(t.appConfig);const r=n.authToken;return r.requestStatus===0?ro(t,e):r}function Fa(t){return hs(t,e=>{if(!Ql(e))throw Ut.create("not-registered");const n=e.authToken;return Cw(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _w(t,e){try{const n=await bw(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gr(t.appConfig,r),n}catch(n){if($l(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Gl(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gr(t.appConfig,r)}throw n}}function Ql(t){return t!==void 0&&t.registrationStatus===2}function xw(t){return t.requestStatus===2&&!Ew(t)}function Ew(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Qb}function Sw(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Cw(t){return t.requestStatus===1&&t.requestTime+Nl<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(t){const e=t,{installationEntry:n,registrationPromise:r}=await no(e);return r?r.catch(console.error):ro(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(t,e=!1){const n=t;return await kw(n),(await ro(n,e)).token}async function kw(t){const{registrationPromise:e}=await no(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){if(!t||!t.options)throw Hs("App Configuration");if(!t.name)throw Hs("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Hs(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Hs(t){return Ut.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="installations",Rw="installations-internal",Pw=t=>{const e=t.getProvider("app").getImmediate(),n=Iw(e),r=Zi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Mw=t=>{const e=t.getProvider("app").getImmediate(),n=Zi(e,Jl).getImmediate();return{getId:()=>Tw(n),getToken:s=>Aw(n,s)}};function Ow(){Ft(new St(Jl,Pw,"PUBLIC")),Ft(new St(Rw,Mw,"PRIVATE"))}Ow();xt(jl,eo);xt(jl,eo,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="/firebase-messaging-sw.js",Nw="/firebase-cloud-messaging-push-scope",Xl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dw="https://fcmregistrations.googleapis.com/v1",Zl="google.c.a.c_id",Lw="google.c.a.c_l",$w="google.c.a.ts",Fw="google.c.a.e",Ua=1e4;var Ba;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Ba||(Ba={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rr;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(rr||(rr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uw(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="fcm_token_details_db",Bw=5,za="fcm_token_object_Store";async function zw(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Vs))return null;let e=null;return(await ds(Vs,Bw,{upgrade:async(r,s,i,o)=>{var a;if(s<2||!r.objectStoreNames.contains(za))return;const c=o.objectStore(za),l=await c.index("fcmSenderId").get(t);if(await c.clear(),!!l){if(s===2){const u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:tt(u.vapidKey)}}}else if(s===3){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tt(u.auth),p256dh:tt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tt(u.vapidKey)}}}else if(s===4){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tt(u.auth),p256dh:tt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tt(u.vapidKey)}}}}}})).close(),await Fs(Vs),await Fs("fcm_vapid_details_db"),await Fs("undefined"),Hw(e)?e:null}function Hw(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebase-messaging-database",Ww=1,sr="firebase-messaging-store";let Ws=null;function eu(){return Ws||(Ws=ds(Vw,Ww,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sr)}}})),Ws}async function qw(t){const e=tu(t),r=await(await eu()).transaction(sr).objectStore(sr).get(e);if(r)return r;{const s=await zw(t.appConfig.senderId);if(s)return await so(t,s),s}}async function so(t,e){const n=tu(t),s=(await eu()).transaction(sr,"readwrite");return await s.objectStore(sr).put(e,n),await s.done,e}function tu({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},be=new us("messaging","Messaging",Kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(t,e){const n=await oo(t),r=nu(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(io(t.appConfig),s)).json()}catch(o){throw be.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw be.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw be.create("token-subscribe-no-token");return i.token}async function Yw(t,e){const n=await oo(t),r=nu(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${io(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw be.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw be.create("token-update-failed",{errorInfo:o})}if(!i.token)throw be.create("token-update-no-token");return i.token}async function Qw(t,e){const r={method:"DELETE",headers:await oo(t)};try{const i=await(await fetch(`${io(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw be.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw be.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function io({projectId:t}){return`${Dw}/projects/${t}/registrations`}async function oo({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function nu({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==Xl&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=7*24*60*60*1e3;async function Xw(t){const e=await ev(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:tt(e.getKey("auth")),p256dh:tt(e.getKey("p256dh"))},r=await qw(t.firebaseDependencies);if(r){if(tv(r.subscriptionOptions,n))return Date.now()>=r.createTime+Jw?Zw(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Qw(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Ha(t.firebaseDependencies,n)}else return Ha(t.firebaseDependencies,n)}async function Zw(t,e){try{const n=await Yw(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await so(t.firebaseDependencies,r),n}catch(n){throw n}}async function Ha(t,e){const r={token:await Gw(t,e),createTime:Date.now(),subscriptionOptions:e};return await so(t,r),r.token}async function ev(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uw(e)})}function tv(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return nv(e,t),rv(e,t),sv(e,t),e}function nv(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function rv(t,e){e.data&&(t.data=e.data)}function sv(t,e){var n,r,s,i,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(i=e.notification)===null||i===void 0?void 0:i.click_action;a&&(t.fcmOptions.link=a);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return typeof t=="object"&&!!t&&Zl in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){if(!t||!t.options)throw qs("App Configuration Object");if(!t.name)throw qs("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw qs(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function qs(t){return be.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=ov(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(t){try{t.swRegistration=await navigator.serviceWorker.register(jw,{scope:Nw}),t.swRegistration.update().catch(()=>{}),await lv(t.swRegistration)}catch(e){throw be.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function lv(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Ua} ms`)),Ua),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{var o;((o=i.target)===null||o===void 0?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(t,e){if(!e&&!t.swRegistration&&await cv(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw be.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dv(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Xl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e){if(!navigator)throw be.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw be.create("permission-blocked");return await dv(t,e==null?void 0:e.vapidKey),await uv(t,e==null?void 0:e.serviceWorkerRegistration),Xw(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fv(t,e,n){const r=hv(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Zl],message_name:n[Lw],message_time:n[$w],message_device_time:Math.floor(Date.now()/1e3)})}function hv(t){switch(t){case rr.NOTIFICATION_CLICKED:return"notification_open";case rr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===rr.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Va(n)):t.onMessageHandler.next(Va(n)));const r=n.data;iv(r)&&r[Fw]==="1"&&await fv(t,n.messageType,r)}const Wa="@firebase/messaging",qa="0.12.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=t=>{const e=new av(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>pv(e,n)),e},gv=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>ru(e,r)}};function yv(){Ft(new St("messaging",mv,"PUBLIC")),Ft(new St("messaging-internal",gv,"PRIVATE")),xt(Wa,qa),xt(Wa,qa,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bv(){try{await Al()}catch{return!1}return typeof window<"u"&&Tl()&&Dy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t=Lb()){return bv().then(e=>{if(!e)throw be.create("unsupported-browser")},e=>{throw be.create("indexed-db-unsupported")}),Zi(kl(t),"messaging").getImmediate()}async function vv(t,e){return t=kl(t),ru(t,e)}yv();const _v={apiKey:"AIzaSyAXpWOQnAVfru7c-aUth_ythwosDhXJiRo",authDomain:"prote-ja.firebaseapp.com",projectId:"prote-ja",storageBucket:"prote-ja.firebasestorage.app",messagingSenderId:"783248319174",appId:"1:783248319174:web:a1617a492c49619c266dc7",measurementId:"G-001BPXX6L9"},xv=Pl(_v),Ev=wv(xv);async function Sv(){return vv(Ev,{vapidKey:"BDUYigFK-dBL_5IvQnZZ6suRSnM7IRRkCWNQLVbjVMrj9goU7N4S8qLzqBEb0xd-DJsOh0Nn_dMY2RAwrZmRfbg"})}async function Cv(t){await Tv();const e=await Sv(),n=await Sy(t,{fcm_token:e});return console.log("fcm token",e),n}async function Tv(){console.log("Requesting permission..."),await Notification.requestPermission()==="granted"&&console.log("Notification permission granted.")}const su=d.createContext({session:null,user:null,loading:!1,setUser:()=>{}}),Av=({children:t})=>{const[e,n]=d.useState(null),[r,s]=d.useState(null),[i,o]=d.useState(!1);return d.useEffect(()=>{o(!0),Ae.auth.getSession().then(({data:{session:c}})=>{n(c)}).finally(()=>{o(!1)});const{data:{subscription:a}}=Ae.auth.onAuthStateChange(async(c,l)=>{n(l)});return()=>a.unsubscribe()},[]),d.useEffect(()=>{e&&(o(!0),Cy(e.user.id).then(({data:a,error:c})=>{if(c){console.error(c);return}s(a??null),a&&Cv(a.id).then(()=>{K.success("Token atualizado com sucesso!")})}).finally(()=>{o(!1)}))},[e]),y.jsx(su.Provider,{value:{session:e,user:r,loading:i,setUser:s},children:t})},ao=()=>d.useContext(su);function kv(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})}function Iv(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Rv=function(){function t(){var e=this;this.event=null,this.callbacks=[],this.install=function(){return kv(e,void 0,void 0,function(){var n=this;return Iv(this,function(r){switch(r.label){case 0:return this.event?(this.event.prompt(),[4,this.event.userChoice.then(function(s){var i=s.outcome;return n.updateEvent(null),i==="accepted"})]):[3,2];case 1:return[2,r.sent()];case 2:throw new Error("Not allowed to prompt.")}})})},!(typeof window>"u")&&(window.addEventListener("beforeinstallprompt",function(n){n.preventDefault(),e.updateEvent(n)}),window.addEventListener("appinstalled",function(){e.updateEvent(null)}))}return t.prototype.getEvent=function(){return this.event},t.prototype.canInstall=function(){return this.event!==null},t.prototype.updateEvent=function(e){var n=this;e!==this.event&&(this.event=e,this.callbacks.forEach(function(r){return r(n.canInstall())}))},t.prototype.addListener=function(e){e(this.canInstall()),this.callbacks.push(e)},t.prototype.removeListener=function(e){this.callbacks=this.callbacks.filter(function(n){return e!==n})},t}(),Ir=new Rv,Pv=function(){var t=d.useCallback(function(r){return Ir.addListener(r),function(){Ir.removeListener(r)}},[]),e=d.useCallback(function(){return Ir.canInstall()?Ir.install:null},[]),n=d.useCallback(function(){return null},[]);return d.useSyncExternalStore(t,e,n)};function $(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $S(t,e){const n=d.createContext(e),r=i=>{const{children:o,...a}=i,c=d.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=d.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Tn(t,e=[]){let n=[];function r(i,o){const a=d.createContext(o),c=n.length;n=[...n,o];const l=f=>{var w;const{scope:h,children:p,...g}=f,m=((w=h==null?void 0:h[t])==null?void 0:w[c])||a,b=d.useMemo(()=>g,Object.values(g));return y.jsx(m.Provider,{value:b,children:p})};l.displayName=i+"Provider";function u(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[c])||a,g=d.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>d.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Mv(s,...e)]}function Mv(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $e(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function co({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Ov({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=$e(n),c=d.useCallback(l=>{if(i){const f=typeof l=="function"?l(t):l;f!==t&&a(f)}else s(l)},[i,t,s,a]);return[o,c]}function Ov({defaultProp:t,onChange:e}){const n=d.useState(t),[r]=n,s=d.useRef(r),i=$e(e);return d.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var lo=Ec();const jv=Ni(lo);var Nv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=Nv.reduce((t,e)=>{const n=d.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?yn:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function iu(t,e){t&&lo.flushSync(()=>t.dispatchEvent(e))}function ou(t){const e=t+"CollectionProvider",[n,r]=Tn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,b=O.useRef(null),w=O.useRef(new Map).current;return y.jsx(s,{scope:g,itemMap:w,collectionRef:b,children:m})};o.displayName=e;const a=t+"CollectionSlot",c=O.forwardRef((p,g)=>{const{scope:m,children:b}=p,w=i(a,m),v=ue(g,w.collectionRef);return y.jsx(yn,{ref:v,children:b})});c.displayName=a;const l=t+"CollectionItemSlot",u="data-radix-collection-item",f=O.forwardRef((p,g)=>{const{scope:m,children:b,...w}=p,v=O.useRef(null),_=ue(g,v),x=i(l,m);return O.useEffect(()=>(x.itemMap.set(v,{ref:v,...w}),()=>void x.itemMap.delete(v))),y.jsx(yn,{[u]:"",ref:_,children:b})});f.displayName=l;function h(p){const g=i(t+"CollectionConsumer",p);return O.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((x,E)=>w.indexOf(x.ref.current)-w.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}var Dv=d.createContext(void 0);function au(t){const e=d.useContext(Dv);return t||e||"ltr"}function Lv(t,e=globalThis==null?void 0:globalThis.document){const n=$e(t);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $v="DismissableLayer",Ti="dismissableLayer.update",Fv="dismissableLayer.pointerDownOutside",Uv="dismissableLayer.focusOutside",Ka,cu=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uo=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,l=d.useContext(cu),[u,f]=d.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=d.useState({}),g=ue(e,T=>f(T)),m=Array.from(l.layers),[b]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(b),v=u?m.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=w,E=Hv(T=>{const C=T.target,A=[...l.branches].some(R=>R.contains(C));!x||A||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),k=Vv(T=>{const C=T.target;[...l.branches].some(R=>R.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return Lv(T=>{v===l.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),d.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Ka=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Ga(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ka)}},[u,h,n,l]),d.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Ga())},[u,l]),d.useEffect(()=>{const T=()=>p({});return document.addEventListener(Ti,T),()=>document.removeEventListener(Ti,T)},[]),y.jsx(ae.div,{...c,ref:g,style:{pointerEvents:_?x?"auto":"none":void 0,...t.style},onFocusCapture:$(t.onFocusCapture,k.onFocusCapture),onBlurCapture:$(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:$(t.onPointerDownCapture,E.onPointerDownCapture)})});uo.displayName=$v;var Bv="DismissableLayerBranch",zv=d.forwardRef((t,e)=>{const n=d.useContext(cu),r=d.useRef(null),s=ue(e,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.jsx(ae.div,{...t,ref:s})});zv.displayName=Bv;function Hv(t,e=globalThis==null?void 0:globalThis.document){const n=$e(t),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){lu(Fv,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Vv(t,e=globalThis==null?void 0:globalThis.document){const n=$e(t),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&lu(Uv,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ga(){const t=new CustomEvent(Ti);document.dispatchEvent(t)}function lu(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?iu(s,i):s.dispatchEvent(i)}var Ks=0;function Wv(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ya()),document.body.insertAdjacentElement("beforeend",t[1]??Ya()),Ks++,()=>{Ks===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ks--}},[])}function Ya(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gs="focusScope.autoFocusOnMount",Ys="focusScope.autoFocusOnUnmount",Qa={bubbles:!1,cancelable:!0},qv="FocusScope",uu=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=d.useState(null),l=$e(s),u=$e(i),f=d.useRef(null),h=ue(e,m=>c(m)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let m=function(_){if(p.paused||!a)return;const x=_.target;a.contains(x)?f.current=x:ht(f.current,{select:!0})},b=function(_){if(p.paused||!a)return;const x=_.relatedTarget;x!==null&&(a.contains(x)||ht(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&ht(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,p.paused]),d.useEffect(()=>{if(a){Xa.add(p);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(Gs,Qa);a.addEventListener(Gs,l),a.dispatchEvent(w),w.defaultPrevented||(Kv(Xv(du(a)),{select:!0}),document.activeElement===m&&ht(a))}return()=>{a.removeEventListener(Gs,l),setTimeout(()=>{const w=new CustomEvent(Ys,Qa);a.addEventListener(Ys,u),a.dispatchEvent(w),w.defaultPrevented||ht(m??document.body,{select:!0}),a.removeEventListener(Ys,u),Xa.remove(p)},0)}}},[a,l,u,p]);const g=d.useCallback(m=>{if(!n&&!r||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(b&&w){const v=m.currentTarget,[_,x]=Gv(v);_&&x?!m.shiftKey&&w===x?(m.preventDefault(),n&&ht(_,{select:!0})):m.shiftKey&&w===_&&(m.preventDefault(),n&&ht(x,{select:!0})):w===v&&m.preventDefault()}},[n,r,p.paused]);return y.jsx(ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});uu.displayName=qv;function Kv(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ht(r,{select:e}),document.activeElement!==n)return}function Gv(t){const e=du(t),n=Ja(e,t),r=Ja(e.reverse(),t);return[n,r]}function du(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ja(t,e){for(const n of t)if(!Yv(n,{upTo:e}))return n}function Yv(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Qv(t){return t instanceof HTMLInputElement&&"select"in t}function ht(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Qv(t)&&e&&t.select()}}var Xa=Jv();function Jv(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Za(t,e),t.unshift(e)},remove(e){var n;t=Za(t,e),(n=t[0])==null||n.resume()}}}function Za(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Xv(t){return t.filter(e=>e.tagName!=="A")}var zt=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Zv=gf.useId||(()=>{}),e_=0;function Yr(t){const[e,n]=d.useState(Zv());return zt(()=>{t||n(r=>r??String(e_++))},[t]),t||(e?`radix-${e}`:"")}const t_=["top","right","bottom","left"],Ct=Math.min,Ee=Math.max,Qr=Math.round,Rr=Math.floor,Ye=t=>({x:t,y:t}),n_={left:"right",right:"left",bottom:"top",top:"bottom"},r_={start:"end",end:"start"};function Ai(t,e,n){return Ee(t,Ct(e,n))}function ot(t,e){return typeof t=="function"?t(e):t}function at(t){return t.split("-")[0]}function An(t){return t.split("-")[1]}function fo(t){return t==="x"?"y":"x"}function ho(t){return t==="y"?"height":"width"}function Tt(t){return["top","bottom"].includes(at(t))?"y":"x"}function po(t){return fo(Tt(t))}function s_(t,e,n){n===void 0&&(n=!1);const r=An(t),s=po(t),i=ho(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Jr(o)),[o,Jr(o)]}function i_(t){const e=Jr(t);return[ki(t),e,ki(e)]}function ki(t){return t.replace(/start|end/g,e=>r_[e])}function o_(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function a_(t,e,n,r){const s=An(t);let i=o_(at(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ki)))),i}function Jr(t){return t.replace(/left|right|bottom|top/g,e=>n_[e])}function c_(t){return{top:0,right:0,bottom:0,left:0,...t}}function fu(t){return typeof t!="number"?c_(t):{top:t,right:t,bottom:t,left:t}}function Xr(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ec(t,e,n){let{reference:r,floating:s}=t;const i=Tt(e),o=po(e),a=ho(o),c=at(e),l=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(An(e)){case"start":p[o]-=h*(n&&l?-1:1);break;case"end":p[o]+=h*(n&&l?-1:1);break}return p}const l_=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=ec(l,r,c),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:w}=a[m],{x:v,y:_,data:x,reset:E}=await w({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});u=v??u,f=_??f,p={...p,[b]:{...p[b],...x}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(l=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:u,y:f}=ec(l,h,c)),m=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:p}};async function ir(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ot(e,t),g=fu(p),b=a[h?f==="floating"?"reference":"floating":f],w=Xr(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},E=Xr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:c}):v);return{top:(w.top-E.top+g.top)/x.y,bottom:(E.bottom-w.bottom+g.bottom)/x.y,left:(w.left-E.left+g.left)/x.x,right:(E.right-w.right+g.right)/x.x}}const u_=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=ot(t,e)||{};if(l==null)return{};const f=fu(u),h={x:n,y:r},p=po(s),g=ho(p),m=await o.getDimensions(l),b=p==="y",w=b?"top":"left",v=b?"bottom":"right",_=b?"clientHeight":"clientWidth",x=i.reference[g]+i.reference[p]-h[p]-i.floating[g],E=h[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=k?k[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=a.floating[_]||i.floating[g]);const C=x/2-E/2,A=T/2-m[g]/2-1,R=Ct(f[w],A),U=Ct(f[v],A),P=R,z=T-m[g]-U,D=T/2-m[g]/2+C,G=Ai(P,D,z),F=!c.arrow&&An(s)!=null&&D!==G&&i.reference[g]/2-(D<P?R:U)-m[g]/2<0,H=F?D<P?D-P:D-z:0;return{[p]:h[p]+H,data:{[p]:G,centerOffset:D-G-H,...F&&{alignmentOffset:H}},reset:F}}}),d_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=ot(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=at(s),v=Tt(a),_=at(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(l.floating)),E=h||(_||!m?[Jr(a)]:i_(a)),k=g!=="none";!h&&k&&E.push(...a_(a,m,g,x));const T=[a,...E],C=await ir(e,b),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(C[w]),f){const D=s_(s,o,x);A.push(C[D[0]],C[D[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(D=>D<=0)){var U,P;const D=(((U=i.flip)==null?void 0:U.index)||0)+1,G=T[D];if(G)return{data:{index:D,overflows:R},reset:{placement:G}};let F=(P=R.filter(H=>H.overflows[0]<=0).sort((H,M)=>H.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(p){case"bestFit":{var z;const H=(z=R.filter(M=>{if(k){const I=Tt(M.placement);return I===v||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:z[0];H&&(F=H);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function tc(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nc(t){return t_.some(e=>t[e]>=0)}const f_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ot(t,e);switch(r){case"referenceHidden":{const i=await ir(e,{...s,elementContext:"reference"}),o=tc(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nc(o)}}}case"escaped":{const i=await ir(e,{...s,altBoundary:!0}),o=tc(i,n.floating);return{data:{escapedOffsets:o,escaped:nc(o)}}}default:return{}}}}};async function h_(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=at(n),a=An(n),c=Tt(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=ot(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}const p_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await h_(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},m_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y:v}=b;return{x:w,y:v}}},...c}=ot(t,e),l={x:n,y:r},u=await ir(e,c),f=Tt(at(s)),h=fo(f);let p=l[h],g=l[f];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=p+u[b],_=p-u[w];p=Ai(v,p,_)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=g+u[b],_=g-u[w];g=Ai(v,g,_)}const m=a.fn({...e,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[f]:o}}}}}},g_=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=ot(t,e),u={x:n,y:r},f=Tt(s),h=fo(f);let p=u[h],g=u[f];const m=ot(a,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const _=h==="y"?"height":"width",x=i.reference[h]-i.floating[_]+b.mainAxis,E=i.reference[h]+i.reference[_]-b.mainAxis;p<x?p=x:p>E&&(p=E)}if(l){var w,v;const _=h==="y"?"width":"height",x=["top","left"].includes(at(s)),E=i.reference[f]-i.floating[_]+(x&&((w=o.offset)==null?void 0:w[f])||0)+(x?0:b.crossAxis),k=i.reference[f]+i.reference[_]+(x?0:((v=o.offset)==null?void 0:v[f])||0)-(x?b.crossAxis:0);g<E?g=E:g>k&&(g=k)}return{[h]:p,[f]:g}}}},y_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=ot(t,e),u=await ir(e,l),f=at(s),h=An(s),p=Tt(s)==="y",{width:g,height:m}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const v=m-u.top-u.bottom,_=g-u.left-u.right,x=Ct(m-u[b],v),E=Ct(g-u[w],_),k=!e.middlewareData.shift;let T=x,C=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),k&&!h){const R=Ee(u.left,0),U=Ee(u.right,0),P=Ee(u.top,0),z=Ee(u.bottom,0);p?C=g-2*(R!==0||U!==0?R+U:Ee(u.left,u.right)):T=m-2*(P!==0||z!==0?P+z:Ee(u.top,u.bottom))}await c({...e,availableWidth:C,availableHeight:T});const A=await o.getDimensions(a.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function ps(){return typeof window<"u"}function kn(t){return hu(t)?(t.nodeName||"").toLowerCase():"#document"}function Ce(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Je(t){var e;return(e=(hu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hu(t){return ps()?t instanceof Node||t instanceof Ce(t).Node:!1}function Fe(t){return ps()?t instanceof Element||t instanceof Ce(t).Element:!1}function Qe(t){return ps()?t instanceof HTMLElement||t instanceof Ce(t).HTMLElement:!1}function rc(t){return!ps()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ce(t).ShadowRoot}function pr(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ue(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function b_(t){return["table","td","th"].includes(kn(t))}function ms(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function mo(t){const e=go(),n=Fe(t)?Ue(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function w_(t){let e=At(t);for(;Qe(e)&&!wn(e);){if(mo(e))return e;if(ms(e))return null;e=At(e)}return null}function go(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wn(t){return["html","body","#document"].includes(kn(t))}function Ue(t){return Ce(t).getComputedStyle(t)}function gs(t){return Fe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function At(t){if(kn(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rc(t)&&t.host||Je(t);return rc(e)?e.host:e}function pu(t){const e=At(t);return wn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qe(e)&&pr(e)?e:pu(e)}function or(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=pu(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ce(s);if(i){const a=Ii(o);return e.concat(o,o.visualViewport||[],pr(s)?s:[],a&&n?or(a):[])}return e.concat(s,or(s,[],n))}function Ii(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mu(t){const e=Ue(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qe(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Qr(n)!==i||Qr(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function yo(t){return Fe(t)?t:t.contextElement}function on(t){const e=yo(t);if(!Qe(e))return Ye(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=mu(e);let o=(i?Qr(n.width):n.width)/r,a=(i?Qr(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const v_=Ye(0);function gu(t){const e=Ce(t);return!go()||!e.visualViewport?v_:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function __(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ce(t)?!1:e}function Ht(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=yo(t);let o=Ye(1);e&&(r?Fe(r)&&(o=on(r)):o=on(t));const a=__(i,n,r)?gu(i):Ye(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const h=Ce(i),p=r&&Fe(r)?Ce(r):r;let g=h,m=Ii(g);for(;m&&r&&p!==g;){const b=on(m),w=m.getBoundingClientRect(),v=Ue(m),_=w.left+(m.clientLeft+parseFloat(v.paddingLeft))*b.x,x=w.top+(m.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,l*=b.y,u*=b.x,f*=b.y,c+=_,l+=x,g=Ce(m),m=Ii(g)}}return Xr({width:u,height:f,x:c,y:l})}function bo(t,e){const n=gs(t).scrollLeft;return e?e.left+n:Ht(Je(t)).left+n}function yu(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:bo(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function x_(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Je(r),a=e?ms(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Ye(1);const u=Ye(0),f=Qe(r);if((f||!f&&!i)&&((kn(r)!=="body"||pr(o))&&(c=gs(r)),Qe(r))){const p=Ht(r);l=on(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!f&&!i?yu(o,c,!0):Ye(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function E_(t){return Array.from(t.getClientRects())}function S_(t){const e=Je(t),n=gs(t),r=t.ownerDocument.body,s=Ee(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ee(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+bo(t);const a=-n.scrollTop;return Ue(r).direction==="rtl"&&(o+=Ee(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function C_(t,e){const n=Ce(t),r=Je(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=go();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function T_(t,e){const n=Ht(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qe(t)?on(t):Ye(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function sc(t,e,n){let r;if(e==="viewport")r=C_(t,n);else if(e==="document")r=S_(Je(t));else if(Fe(e))r=T_(e,n);else{const s=gu(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Xr(r)}function bu(t,e){const n=At(t);return n===e||!Fe(n)||wn(n)?!1:Ue(n).position==="fixed"||bu(n,e)}function A_(t,e){const n=e.get(t);if(n)return n;let r=or(t,[],!1).filter(a=>Fe(a)&&kn(a)!=="body"),s=null;const i=Ue(t).position==="fixed";let o=i?At(t):t;for(;Fe(o)&&!wn(o);){const a=Ue(o),c=mo(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||pr(o)&&!c&&bu(t,o))?r=r.filter(u=>u!==o):s=a,o=At(o)}return e.set(t,r),r}function k_(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ms(e)?[]:A_(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=sc(e,u,s);return l.top=Ee(f.top,l.top),l.right=Ct(f.right,l.right),l.bottom=Ct(f.bottom,l.bottom),l.left=Ee(f.left,l.left),l},sc(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function I_(t){const{width:e,height:n}=mu(t);return{width:e,height:n}}function R_(t,e,n){const r=Qe(e),s=Je(e),i=n==="fixed",o=Ht(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Ye(0);if(r||!r&&!i)if((kn(e)!=="body"||pr(s))&&(a=gs(e)),r){const h=Ht(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=bo(s));const l=s&&!r&&!i?yu(s,a):Ye(0),u=o.left+a.scrollLeft-c.x-l.x,f=o.top+a.scrollTop-c.y-l.y;return{x:u,y:f,width:o.width,height:o.height}}function Qs(t){return Ue(t).position==="static"}function ic(t,e){if(!Qe(t)||Ue(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Je(t)===n&&(n=n.ownerDocument.body),n}function wu(t,e){const n=Ce(t);if(ms(t))return n;if(!Qe(t)){let s=At(t);for(;s&&!wn(s);){if(Fe(s)&&!Qs(s))return s;s=At(s)}return n}let r=ic(t,e);for(;r&&b_(r)&&Qs(r);)r=ic(r,e);return r&&wn(r)&&Qs(r)&&!mo(r)?n:r||w_(t)||n}const P_=async function(t){const e=this.getOffsetParent||wu,n=this.getDimensions,r=await n(t.floating);return{reference:R_(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function M_(t){return Ue(t).direction==="rtl"}const O_={convertOffsetParentRelativeRectToViewportRelativeRect:x_,getDocumentElement:Je,getClippingRect:k_,getOffsetParent:wu,getElementRects:P_,getClientRects:E_,getDimensions:I_,getScale:on,isElement:Fe,isRTL:M_};function vu(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function j_(t,e){let n=null,r;const s=Je(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=l;if(a||e(),!h||!p)return;const g=Rr(f),m=Rr(s.clientWidth-(u+h)),b=Rr(s.clientHeight-(f+p)),w=Rr(u),_={rootMargin:-g+"px "+-m+"px "+-b+"px "+-w+"px",threshold:Ee(0,Ct(1,c))||1};let x=!0;function E(k){const T=k[0].intersectionRatio;if(T!==c){if(!x)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!vu(l,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(E,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return o(!0),i}function N_(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=yo(t),u=s||i?[...l?or(l):[],...or(e)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=l&&a?j_(l,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let g,m=c?Ht(t):null;c&&b();function b(){const w=Ht(t);m&&!vu(m,w)&&n(),m=w,g=requestAnimationFrame(b)}return n(),()=>{var w;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const D_=p_,L_=m_,$_=d_,F_=y_,U_=f_,oc=u_,B_=g_,z_=(t,e,n)=>{const r=new Map,s={platform:O_,...n},i={...s.platform,_c:r};return l_(t,e,{...s,platform:i})};var Fr=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Zr(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zr(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Zr(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function _u(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ac(t,e){const n=_u(t);return Math.round(e*n)/n}function Js(t){const e=d.useRef(t);return Fr(()=>{e.current=t}),e}function H_(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,f]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=d.useState(r);Zr(h,r)||p(r);const[g,m]=d.useState(null),[b,w]=d.useState(null),v=d.useCallback(M=>{M!==k.current&&(k.current=M,m(M))},[]),_=d.useCallback(M=>{M!==T.current&&(T.current=M,w(M))},[]),x=i||g,E=o||b,k=d.useRef(null),T=d.useRef(null),C=d.useRef(u),A=c!=null,R=Js(c),U=Js(s),P=Js(l),z=d.useCallback(()=>{if(!k.current||!T.current)return;const M={placement:e,strategy:n,middleware:h};U.current&&(M.platform=U.current),z_(k.current,T.current,M).then(I=>{const V={...I,isPositioned:P.current!==!1};D.current&&!Zr(C.current,V)&&(C.current=V,lo.flushSync(()=>{f(V)}))})},[h,e,n,U,P]);Fr(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[l]);const D=d.useRef(!1);Fr(()=>(D.current=!0,()=>{D.current=!1}),[]),Fr(()=>{if(x&&(k.current=x),E&&(T.current=E),x&&E){if(R.current)return R.current(x,E,z);z()}},[x,E,z,R,A]);const G=d.useMemo(()=>({reference:k,floating:T,setReference:v,setFloating:_}),[v,_]),F=d.useMemo(()=>({reference:x,floating:E}),[x,E]),H=d.useMemo(()=>{const M={position:n,left:0,top:0};if(!F.floating)return M;const I=ac(F.floating,u.x),V=ac(F.floating,u.y);return a?{...M,transform:"translate("+I+"px, "+V+"px)",..._u(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:V}},[n,a,F.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:z,refs:G,elements:F,floatingStyles:H}),[u,z,G,F,H])}const V_=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?oc({element:r.current,padding:s}).fn(n):{}:r?oc({element:r,padding:s}).fn(n):{}}}},W_=(t,e)=>({...D_(t),options:[t,e]}),q_=(t,e)=>({...L_(t),options:[t,e]}),K_=(t,e)=>({...B_(t),options:[t,e]}),G_=(t,e)=>({...$_(t),options:[t,e]}),Y_=(t,e)=>({...F_(t),options:[t,e]}),Q_=(t,e)=>({...U_(t),options:[t,e]}),J_=(t,e)=>({...V_(t),options:[t,e]});var X_="Arrow",xu=d.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return y.jsx(ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});xu.displayName=X_;var Z_=xu;function ex(t){const[e,n]=d.useState(void 0);return zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wo="Popper",[Eu,ys]=Tn(wo),[tx,Su]=Eu(wo),Cu=t=>{const{__scopePopper:e,children:n}=t,[r,s]=d.useState(null);return y.jsx(tx,{scope:e,anchor:r,onAnchorChange:s,children:n})};Cu.displayName=wo;var Tu="PopperAnchor",Au=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Su(Tu,n),o=d.useRef(null),a=ue(e,o);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.jsx(ae.div,{...s,ref:a})});Au.displayName=Tu;var vo="PopperContent",[nx,rx]=Eu(vo),ku=d.forwardRef((t,e)=>{var pe,kt,ke,Rn,Po,Mo;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,b=Su(vo,n),[w,v]=d.useState(null),_=ue(e,Pn=>v(Pn)),[x,E]=d.useState(null),k=ex(x),T=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(l)?l:[l],P=U.length>0,z={padding:R,boundary:U.filter(ix),altBoundary:P},{refs:D,floatingStyles:G,placement:F,isPositioned:H,middlewareData:M}=H_({strategy:"fixed",placement:A,whileElementsMounted:(...Pn)=>N_(...Pn,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[W_({mainAxis:s+C,alignmentAxis:o}),c&&q_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?K_():void 0,...z}),c&&G_({...z}),Y_({...z,apply:({elements:Pn,rects:Oo,availableWidth:of,availableHeight:af})=>{const{width:cf,height:lf}=Oo.reference,yr=Pn.floating.style;yr.setProperty("--radix-popper-available-width",`${of}px`),yr.setProperty("--radix-popper-available-height",`${af}px`),yr.setProperty("--radix-popper-anchor-width",`${cf}px`),yr.setProperty("--radix-popper-anchor-height",`${lf}px`)}}),x&&J_({element:x,padding:a}),ox({arrowWidth:T,arrowHeight:C}),h&&Q_({strategy:"referenceHidden",...z})]}),[I,V]=Pu(F),W=$e(g);zt(()=>{H&&(W==null||W())},[H,W]);const ne=(pe=M.arrow)==null?void 0:pe.x,re=(kt=M.arrow)==null?void 0:kt.y,ie=((ke=M.arrow)==null?void 0:ke.centerOffset)!==0,[fe,he]=d.useState();return zt(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),y.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Rn=M.transformOrigin)==null?void 0:Rn.x,(Po=M.transformOrigin)==null?void 0:Po.y].join(" "),...((Mo=M.hide)==null?void 0:Mo.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(nx,{scope:n,placedSide:I,onArrowChange:E,arrowX:ne,arrowY:re,shouldHideArrow:ie,children:y.jsx(ae.div,{"data-side":I,"data-align":V,...m,ref:_,style:{...m.style,animation:H?void 0:"none"}})})})});ku.displayName=vo;var Iu="PopperArrow",sx={top:"bottom",right:"left",bottom:"top",left:"right"},Ru=d.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=rx(Iu,r),o=sx[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(Z_,{...s,ref:n,style:{...s.style,display:"block"}})})});Ru.displayName=Iu;function ix(t){return t!==null}var ox=t=>({name:"transformOrigin",options:t,fn(e){var b,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=Pu(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",m="";return l==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):l==="top"?(g=o?f:`${h}px`,m=`${r.floating.height+c}px`):l==="right"?(g=`${-c}px`,m=o?f:`${p}px`):l==="left"&&(g=`${r.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function Pu(t){const[e,n="center"]=t.split("-");return[e,n]}var Mu=Cu,Ou=Au,ju=ku,Nu=Ru,ax="Portal",Du=d.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=d.useState(!1);zt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jv.createPortal(y.jsx(ae.div,{...r,ref:e}),o):null});Du.displayName=ax;function cx(t,e){return d.useReducer((n,r)=>e[n][r]??n,t)}var In=t=>{const{present:e,children:n}=t,r=lx(e),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=ue(r.ref,ux(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};In.displayName="Presence";function lx(t){const[e,n]=d.useState(),r=d.useRef({}),s=d.useRef(t),i=d.useRef("none"),o=t?"mounted":"unmounted",[a,c]=cx(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=Pr(r.current);i.current=a==="mounted"?l:"none"},[a]),zt(()=>{const l=r.current,u=s.current;if(u!==t){const h=i.current,p=Pr(l);t?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),zt(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,f=p=>{const m=Pr(r.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=p=>{p.target===e&&(i.current=Pr(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Pr(t){return(t==null?void 0:t.animationName)||"none"}function ux(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Xs="rovingFocusGroup.onEntryFocus",dx={bubbles:!1,cancelable:!0},bs="RovingFocusGroup",[Ri,Lu,fx]=ou(bs),[hx,$u]=Tn(bs,[fx]),[px,mx]=hx(bs),Fu=d.forwardRef((t,e)=>y.jsx(Ri.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(Ri.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(gx,{...t,ref:e})})}));Fu.displayName=bs;var gx=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=t,h=d.useRef(null),p=ue(e,h),g=au(i),[m=null,b]=co({prop:o,defaultProp:a,onChange:c}),[w,v]=d.useState(!1),_=$e(l),x=Lu(n),E=d.useRef(!1),[k,T]=d.useState(0);return d.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Xs,_),()=>C.removeEventListener(Xs,_)},[_]),y.jsx(px,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:m,onItemFocus:d.useCallback(C=>b(C),[b]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:d.useCallback(()=>T(C=>C-1),[]),children:y.jsx(ae.div,{tabIndex:w||k===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:$(t.onMouseDown,()=>{E.current=!0}),onFocus:$(t.onFocus,C=>{const A=!E.current;if(C.target===C.currentTarget&&A&&!w){const R=new CustomEvent(Xs,dx);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const U=x().filter(F=>F.focusable),P=U.find(F=>F.active),z=U.find(F=>F.id===m),G=[P,z,...U].filter(Boolean).map(F=>F.ref.current);zu(G,u)}}E.current=!1}),onBlur:$(t.onBlur,()=>v(!1))})})}),Uu="RovingFocusGroupItem",Bu=d.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Yr(),c=i||a,l=mx(Uu,n),u=l.currentTabStopId===c,f=Lu(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=l;return d.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),y.jsx(Ri.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:y.jsx(ae.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...o,ref:e,onMouseDown:$(t.onMouseDown,g=>{r?l.onItemFocus(c):g.preventDefault()}),onFocus:$(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:$(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=wx(g,l.orientation,l.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=f().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")w.reverse();else if(m==="prev"||m==="next"){m==="prev"&&w.reverse();const v=w.indexOf(g.currentTarget);w=l.loop?vx(w,v+1):w.slice(v+1)}setTimeout(()=>zu(w))}})})})});Bu.displayName=Uu;var yx={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bx(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wx(t,e,n){const r=bx(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yx[r]}function zu(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function vx(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _x=Fu,xx=Bu,Ex=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xt=new WeakMap,Mr=new WeakMap,Or={},Zs=0,Hu=function(t){return t&&(t.host||Hu(t.parentNode))},Sx=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Hu(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Cx=function(t,e,n,r){var s=Sx(e,Array.isArray(t)?t:[t]);Or[n]||(Or[n]=new WeakMap);var i=Or[n],o=[],a=new Set,c=new Set(s),l=function(f){!f||a.has(f)||(a.add(f),l(f.parentNode))};s.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Xt.get(h)||0)+1,b=(i.get(h)||0)+1;Xt.set(h,m),i.set(h,b),o.push(h),m===1&&g&&Mr.set(h,!0),b===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(e),a.clear(),Zs++,function(){o.forEach(function(f){var h=Xt.get(f)-1,p=i.get(f)-1;Xt.set(f,h),i.set(f,p),h||(Mr.has(f)||f.removeAttribute(r),Mr.delete(f)),p||f.removeAttribute(n)}),Zs--,Zs||(Xt=new WeakMap,Xt=new WeakMap,Mr=new WeakMap,Or={})}},Tx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Ex(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Cx(r,s,n,"aria-hidden")):function(){return null}},Ke=function(){return Ke=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ke.apply(this,arguments)};function Vu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ax(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ur="right-scroll-bar-position",Br="width-before-scroll-bar",kx="with-scroll-bars-hidden",Ix="--removed-body-scroll-bar-size";function ei(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rx(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Px=typeof window<"u"?d.useLayoutEffect:d.useEffect,cc=new WeakMap;function Mx(t,e){var n=Rx(null,function(r){return t.forEach(function(s){return ei(s,r)})});return Px(function(){var r=cc.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ei(a,null)}),i.forEach(function(a){s.has(a)||ei(a,o)})}cc.set(n,t)},[t]),n}function Ox(t){return t}function jx(t,e){e===void 0&&(e=Ox);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function Nx(t){t===void 0&&(t={});var e=jx(null);return e.options=Ke({async:!0,ssr:!1},t),e}var Wu=function(t){var e=t.sideCar,n=Vu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Ke({},n))};Wu.isSideCarExport=!0;function Dx(t,e){return t.useMedium(e),Wu}var qu=Nx(),ti=function(){},ws=d.forwardRef(function(t,e){var n=d.useRef(null),r=d.useState({onScrollCapture:ti,onWheelCapture:ti,onTouchMoveCapture:ti}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,v=t.gapMode,_=Vu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,E=Mx([n,e]),k=Ke(Ke({},_),s);return d.createElement(d.Fragment,null,u&&d.createElement(x,{sideCar:qu,removeScrollBar:l,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?d.cloneElement(d.Children.only(a),Ke(Ke({},k),{ref:E})):d.createElement(w,Ke({},k,{className:c,ref:E}),a))});ws.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ws.classNames={fullWidth:Br,zeroRight:Ur};var Lx=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $x(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lx();return e&&t.setAttribute("nonce",e),t}function Fx(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ux(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bx=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$x())&&(Fx(e,n),Ux(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zx=function(){var t=Bx();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Ku=function(){var t=zx(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Hx={left:0,top:0,right:0,gap:0},ni=function(t){return parseInt(t||"",10)||0},Vx=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ni(n),ni(r),ni(s)]},Wx=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hx;var e=Vx(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qx=Ku(),an="data-scroll-locked",Kx=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kx,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(an,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ur,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Br,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ur," .").concat(Ur,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Br," .").concat(Br,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(an,`] {
    `).concat(Ix,": ").concat(a,`px;
  }
`)},lc=function(){var t=parseInt(document.body.getAttribute(an)||"0",10);return isFinite(t)?t:0},Gx=function(){d.useEffect(function(){return document.body.setAttribute(an,(lc()+1).toString()),function(){var t=lc()-1;t<=0?document.body.removeAttribute(an):document.body.setAttribute(an,t.toString())}},[])},Yx=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Gx();var i=d.useMemo(function(){return Wx(s)},[s]);return d.createElement(qx,{styles:Kx(i,!e,s,n?"":"!important")})},Pi=!1;if(typeof window<"u")try{var jr=Object.defineProperty({},"passive",{get:function(){return Pi=!0,!0}});window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Pi=!1}var Zt=Pi?{passive:!1}:!1,Qx=function(t){return t.tagName==="TEXTAREA"},Gu=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qx(t)&&n[e]==="visible")},Jx=function(t){return Gu(t,"overflowY")},Xx=function(t){return Gu(t,"overflowX")},uc=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Yu(t,r);if(s){var i=Qu(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Zx=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},eE=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Yu=function(t,e){return t==="v"?Jx(e):Xx(e)},Qu=function(t,e){return t==="v"?Zx(e):eE(e)},tE=function(t,e){return t==="h"&&e==="rtl"?-1:1},nE=function(t,e,n,r,s){var i=tE(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),l=!1,u=o>0,f=0,h=0;do{var p=Qu(t,a),g=p[0],m=p[1],b=p[2],w=m-b-i*g;(g||w)&&Yu(t,a)&&(f+=w,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(l=!0),l},Nr=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dc=function(t){return[t.deltaX,t.deltaY]},fc=function(t){return t&&"current"in t?t.current:t},rE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iE=0,en=[];function oE(t){var e=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(iE++)[0],i=d.useState(Ku)[0],o=d.useRef(t);d.useEffect(function(){o.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Ax([t.lockRef.current],(t.shards||[]).map(fc),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=d.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=Nr(m),v=n.current,_="deltaX"in m?m.deltaX:v[0]-w[0],x="deltaY"in m?m.deltaY:v[1]-w[1],E,k=m.target,T=Math.abs(_)>Math.abs(x)?"h":"v";if("touches"in m&&T==="h"&&k.type==="range")return!1;var C=uc(T,k);if(!C)return!0;if(C?E=T:(E=T==="v"?"h":"v",C=uc(T,k)),!C)return!1;if(!r.current&&"changedTouches"in m&&(_||x)&&(r.current=E),!E)return!0;var A=r.current||E;return nE(A,b,m,A==="h"?_:x)},[]),c=d.useCallback(function(m){var b=m;if(!(!en.length||en[en.length-1]!==i)){var w="deltaY"in b?dc(b):Nr(b),v=e.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&rE(E.delta,w)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(fc).filter(Boolean).filter(function(E){return E.contains(b.target)}),x=_.length>0?a(b,_[0]):!o.current.noIsolation;x&&b.cancelable&&b.preventDefault()}}},[]),l=d.useCallback(function(m,b,w,v){var _={name:m,delta:b,target:w,should:v,shadowParent:aE(w)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(x){return x!==_})},1)},[]),u=d.useCallback(function(m){n.current=Nr(m),r.current=void 0},[]),f=d.useCallback(function(m){l(m.type,dc(m),m.target,a(m,t.lockRef.current))},[]),h=d.useCallback(function(m){l(m.type,Nr(m),m.target,a(m,t.lockRef.current))},[]);d.useEffect(function(){return en.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Zt),document.addEventListener("touchmove",c,Zt),document.addEventListener("touchstart",u,Zt),function(){en=en.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Zt),document.removeEventListener("touchmove",c,Zt),document.removeEventListener("touchstart",u,Zt)}},[]);var p=t.removeScrollBar,g=t.inert;return d.createElement(d.Fragment,null,g?d.createElement(i,{styles:sE(s)}):null,p?d.createElement(Yx,{gapMode:t.gapMode}):null)}function aE(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cE=Dx(qu,oE);var Ju=d.forwardRef(function(t,e){return d.createElement(ws,Ke({},t,{ref:e,sideCar:cE}))});Ju.classNames=ws.classNames;var Mi=["Enter"," "],lE=["ArrowDown","PageUp","Home"],Xu=["ArrowUp","PageDown","End"],uE=[...lE,...Xu],dE={ltr:[...Mi,"ArrowRight"],rtl:[...Mi,"ArrowLeft"]},fE={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mr="Menu",[ar,hE,pE]=ou(mr),[Kt,Zu]=Tn(mr,[pE,ys,$u]),vs=ys(),ed=$u(),[mE,Gt]=Kt(mr),[gE,gr]=Kt(mr),td=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=vs(e),[c,l]=d.useState(null),u=d.useRef(!1),f=$e(i),h=au(s);return d.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),y.jsx(Mu,{...a,children:y.jsx(mE,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:l,children:y.jsx(gE,{scope:e,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};td.displayName=mr;var yE="MenuAnchor",_o=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=vs(n);return y.jsx(Ou,{...s,...r,ref:e})});_o.displayName=yE;var xo="MenuPortal",[bE,nd]=Kt(xo,{forceMount:void 0}),rd=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Gt(xo,e);return y.jsx(bE,{scope:e,forceMount:n,children:y.jsx(In,{present:n||i.open,children:y.jsx(Du,{asChild:!0,container:s,children:r})})})};rd.displayName=xo;var Re="MenuContent",[wE,Eo]=Kt(Re),sd=d.forwardRef((t,e)=>{const n=nd(Re,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Gt(Re,t.__scopeMenu),o=gr(Re,t.__scopeMenu);return y.jsx(ar.Provider,{scope:t.__scopeMenu,children:y.jsx(In,{present:r||i.open,children:y.jsx(ar.Slot,{scope:t.__scopeMenu,children:o.modal?y.jsx(vE,{...s,ref:e}):y.jsx(_E,{...s,ref:e})})})})}),vE=d.forwardRef((t,e)=>{const n=Gt(Re,t.__scopeMenu),r=d.useRef(null),s=ue(e,r);return d.useEffect(()=>{const i=r.current;if(i)return Tx(i)},[]),y.jsx(So,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_E=d.forwardRef((t,e)=>{const n=Gt(Re,t.__scopeMenu);return y.jsx(So,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),So=d.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=t,b=Gt(Re,n),w=gr(Re,n),v=vs(n),_=ed(n),x=hE(n),[E,k]=d.useState(null),T=d.useRef(null),C=ue(e,T,b.onContentChange),A=d.useRef(0),R=d.useRef(""),U=d.useRef(0),P=d.useRef(null),z=d.useRef("right"),D=d.useRef(0),G=g?Ju:d.Fragment,F=g?{as:yn,allowPinchZoom:!0}:void 0,H=I=>{var pe,kt;const V=R.current+I,W=x().filter(ke=>!ke.disabled),ne=document.activeElement,re=(pe=W.find(ke=>ke.ref.current===ne))==null?void 0:pe.textValue,ie=W.map(ke=>ke.textValue),fe=OE(ie,V,re),he=(kt=W.find(ke=>ke.textValue===fe))==null?void 0:kt.ref.current;(function ke(Rn){R.current=Rn,window.clearTimeout(A.current),Rn!==""&&(A.current=window.setTimeout(()=>ke(""),1e3))})(V),he&&setTimeout(()=>he.focus())};d.useEffect(()=>()=>window.clearTimeout(A.current),[]),Wv();const M=d.useCallback(I=>{var W,ne;return z.current===((W=P.current)==null?void 0:W.side)&&NE(I,(ne=P.current)==null?void 0:ne.area)},[]);return y.jsx(wE,{scope:n,searchRef:R,onItemEnter:d.useCallback(I=>{M(I)&&I.preventDefault()},[M]),onItemLeave:d.useCallback(I=>{var V;M(I)||((V=T.current)==null||V.focus(),k(null))},[M]),onTriggerLeave:d.useCallback(I=>{M(I)&&I.preventDefault()},[M]),pointerGraceTimerRef:U,onPointerGraceIntentChange:d.useCallback(I=>{P.current=I},[]),children:y.jsx(G,{...F,children:y.jsx(uu,{asChild:!0,trapped:s,onMountAutoFocus:$(i,I=>{var V;I.preventDefault(),(V=T.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(uo,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:y.jsx(_x,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:$(c,I=>{w.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(ju,{role:"menu","aria-orientation":"vertical","data-state":vd(b.open),"data-radix-menu-content":"",dir:w.dir,...v,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:$(m.onKeyDown,I=>{const W=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ne=I.ctrlKey||I.altKey||I.metaKey,re=I.key.length===1;W&&(I.key==="Tab"&&I.preventDefault(),!ne&&re&&H(I.key));const ie=T.current;if(I.target!==ie||!uE.includes(I.key))return;I.preventDefault();const he=x().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);Xu.includes(I.key)&&he.reverse(),PE(he)}),onBlur:$(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:$(t.onPointerMove,cr(I=>{const V=I.target,W=D.current!==I.clientX;if(I.currentTarget.contains(V)&&W){const ne=I.clientX>D.current?"right":"left";z.current=ne,D.current=I.clientX}}))})})})})})})});sd.displayName=Re;var xE="MenuGroup",Co=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ae.div,{role:"group",...r,ref:e})});Co.displayName=xE;var EE="MenuLabel",id=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ae.div,{...r,ref:e})});id.displayName=EE;var es="MenuItem",hc="menu.itemSelect",_s=d.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=d.useRef(null),o=gr(es,t.__scopeMenu),a=Eo(es,t.__scopeMenu),c=ue(e,i),l=d.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(hc,{bubbles:!0,cancelable:!0});f.addEventListener(hc,p=>r==null?void 0:r(p),{once:!0}),iu(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return y.jsx(od,{...s,ref:c,disabled:n,onClick:$(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),l.current=!0},onPointerUp:$(t.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:$(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||Mi.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_s.displayName=es;var od=d.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Eo(es,n),a=ed(n),c=d.useRef(null),l=ue(e,c),[u,f]=d.useState(!1),[h,p]=d.useState("");return d.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),y.jsx(ar.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:y.jsx(xx,{asChild:!0,...a,focusable:!r,children:y.jsx(ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:l,onPointerMove:$(t.onPointerMove,cr(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$(t.onPointerLeave,cr(g=>o.onItemLeave(g))),onFocus:$(t.onFocus,()=>f(!0)),onBlur:$(t.onBlur,()=>f(!1))})})})}),SE="MenuCheckboxItem",ad=d.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return y.jsx(fd,{scope:t.__scopeMenu,checked:n,children:y.jsx(_s,{role:"menuitemcheckbox","aria-checked":ts(n)?"mixed":n,...s,ref:e,"data-state":Ao(n),onSelect:$(s.onSelect,()=>r==null?void 0:r(ts(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ad.displayName=SE;var cd="MenuRadioGroup",[CE,TE]=Kt(cd,{value:void 0,onValueChange:()=>{}}),ld=d.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=$e(r);return y.jsx(CE,{scope:t.__scopeMenu,value:n,onValueChange:i,children:y.jsx(Co,{...s,ref:e})})});ld.displayName=cd;var ud="MenuRadioItem",dd=d.forwardRef((t,e)=>{const{value:n,...r}=t,s=TE(ud,t.__scopeMenu),i=n===s.value;return y.jsx(fd,{scope:t.__scopeMenu,checked:i,children:y.jsx(_s,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Ao(i),onSelect:$(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});dd.displayName=ud;var To="MenuItemIndicator",[fd,AE]=Kt(To,{checked:!1}),hd=d.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=AE(To,n);return y.jsx(In,{present:r||ts(i.checked)||i.checked===!0,children:y.jsx(ae.span,{...s,ref:e,"data-state":Ao(i.checked)})})});hd.displayName=To;var kE="MenuSeparator",pd=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});pd.displayName=kE;var IE="MenuArrow",md=d.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=vs(n);return y.jsx(Nu,{...s,...r,ref:e})});md.displayName=IE;var RE="MenuSub",[FS,gd]=Kt(RE),qn="MenuSubTrigger",yd=d.forwardRef((t,e)=>{const n=Gt(qn,t.__scopeMenu),r=gr(qn,t.__scopeMenu),s=gd(qn,t.__scopeMenu),i=Eo(qn,t.__scopeMenu),o=d.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,l={__scopeMenu:t.__scopeMenu},u=d.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return d.useEffect(()=>u,[u]),d.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),y.jsx(_o,{asChild:!0,...l,children:y.jsx(od,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":vd(n.open),...t,ref:ls(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$(t.onPointerMove,cr(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:$(t.onPointerLeave,cr(f=>{var p,g;u();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=n.content)==null?void 0:g.dataset.side,b=m==="right",w=b?-5:5,v=h[b?"left":"right"],_=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:v,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:v,y:h.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:$(t.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||dE[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});yd.displayName=qn;var bd="MenuSubContent",wd=d.forwardRef((t,e)=>{const n=nd(Re,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Gt(Re,t.__scopeMenu),o=gr(Re,t.__scopeMenu),a=gd(bd,t.__scopeMenu),c=d.useRef(null),l=ue(e,c);return y.jsx(ar.Provider,{scope:t.__scopeMenu,children:y.jsx(In,{present:r||i.open,children:y.jsx(ar.Slot,{scope:t.__scopeMenu,children:y.jsx(So,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:$(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:$(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:$(t.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=fE[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),u.preventDefault())})})})})})});wd.displayName=bd;function vd(t){return t?"open":"closed"}function ts(t){return t==="indeterminate"}function Ao(t){return ts(t)?"indeterminate":t?"checked":"unchecked"}function PE(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ME(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function OE(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=ME(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function jE(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,l=e[o].x,u=e[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function NE(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return jE(n,e)}function cr(t){return e=>e.pointerType==="mouse"?t(e):void 0}var DE=td,LE=_o,$E=rd,FE=sd,UE=Co,BE=id,zE=_s,HE=ad,VE=ld,WE=dd,qE=hd,KE=pd,GE=md,YE=yd,QE=wd,ko="DropdownMenu",[JE,US]=Tn(ko,[Zu]),we=Zu(),[XE,_d]=JE(ko),xd=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=we(e),l=d.useRef(null),[u=!1,f]=co({prop:s,defaultProp:i,onChange:o});return y.jsx(XE,{scope:e,triggerId:Yr(),triggerRef:l,contentId:Yr(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:a,children:y.jsx(DE,{...c,open:u,onOpenChange:f,dir:r,modal:a,children:n})})};xd.displayName=ko;var Ed="DropdownMenuTrigger",Sd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=_d(Ed,n),o=we(n);return y.jsx(LE,{asChild:!0,...o,children:y.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ls(e,i.triggerRef),onPointerDown:$(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:$(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Sd.displayName=Ed;var ZE="DropdownMenuPortal",Cd=t=>{const{__scopeDropdownMenu:e,...n}=t,r=we(e);return y.jsx($E,{...r,...n})};Cd.displayName=ZE;var Td="DropdownMenuContent",Ad=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_d(Td,n),i=we(n),o=d.useRef(!1);return y.jsx(FE,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:$(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:$(t.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ad.displayName=Td;var e0="DropdownMenuGroup",t0=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(UE,{...s,...r,ref:e})});t0.displayName=e0;var n0="DropdownMenuLabel",kd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(BE,{...s,...r,ref:e})});kd.displayName=n0;var r0="DropdownMenuItem",Id=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(zE,{...s,...r,ref:e})});Id.displayName=r0;var s0="DropdownMenuCheckboxItem",Rd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(HE,{...s,...r,ref:e})});Rd.displayName=s0;var i0="DropdownMenuRadioGroup",o0=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(VE,{...s,...r,ref:e})});o0.displayName=i0;var a0="DropdownMenuRadioItem",Pd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(WE,{...s,...r,ref:e})});Pd.displayName=a0;var c0="DropdownMenuItemIndicator",Md=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(qE,{...s,...r,ref:e})});Md.displayName=c0;var l0="DropdownMenuSeparator",Od=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(KE,{...s,...r,ref:e})});Od.displayName=l0;var u0="DropdownMenuArrow",d0=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(GE,{...s,...r,ref:e})});d0.displayName=u0;var f0="DropdownMenuSubTrigger",jd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(YE,{...s,...r,ref:e})});jd.displayName=f0;var h0="DropdownMenuSubContent",Nd=d.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=we(n);return y.jsx(QE,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nd.displayName=h0;var p0=xd,m0=Sd,g0=Cd,Dd=Ad,Ld=kd,$d=Id,Fd=Rd,Ud=Pd,Bd=Md,zd=Od,Hd=jd,Vd=Nd;const y0=p0,b0=m0,w0=d.forwardRef(({className:t,inset:e,children:n,...r},s)=>y.jsxs(Hd,{ref:s,className:de("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,y.jsx(bm,{className:"ml-auto"})]}));w0.displayName=Hd.displayName;const v0=d.forwardRef(({className:t,...e},n)=>y.jsx(Vd,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));v0.displayName=Vd.displayName;const Wd=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(g0,{children:y.jsx(Dd,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Wd.displayName=Dd.displayName;const tn=d.forwardRef(({className:t,inset:e,...n},r)=>y.jsx($d,{ref:r,className:de("relative flex select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));tn.displayName=$d.displayName;const _0=d.forwardRef(({className:t,children:e,checked:n,...r},s)=>y.jsxs(Fd,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Bd,{children:y.jsx(gm,{className:"h-4 w-4"})})}),e]}));_0.displayName=Fd.displayName;const x0=d.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(Ud,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Bd,{children:y.jsx(wm,{className:"h-2 w-2 fill-current"})})}),e]}));x0.displayName=Ud.displayName;const qd=d.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(Ld,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));qd.displayName=Ld.displayName;const zr=d.forwardRef(({className:t,...e},n)=>y.jsx(zd,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));zr.displayName=zd.displayName;function BS(t){switch(t.code){case"conflict":return"Conflito.";case"email_address_invalid":return"Email invÃ¡lido.";case"email_exists":return"Email jÃ¡ cadastrado.";case"no_authorization":return"Sem autorizaÃ§Ã£o.";case"weak_password":return"Senha fraca.";case"invalid_credentials":return"Credenciais invÃ¡lidas.";case"provider_disabled":return"Provedor desabilitado.";case"validation_failed":return"Falha na validaÃ§Ã£o, verifique as credenciais.";case"email_not_confirmed":return"Email nÃ£o confirmado.";case"phone_not_confirmed":return"Telefone nÃ£o confirmado.";default:return"Houve um problema. Tente novamente mais tarde."}}function zS(t){return/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(t)}function E0(t){return t==null?void 0:t.split(" ")[0]}function HS(t){return t==null?void 0:t.toUpperCase().split(" ").map(e=>e[0]).join("")}function VS(t){const n=t.replace(/[^\d]/g,"").split(""),r=new Date().getFullYear();if(n.length>=2&&parseInt(n.slice(0,2).join(""),10)>31&&(n[0]="3",n[1]="1"),n.length>=4&&parseInt(n.slice(2,4).join(""),10)>12&&(n[2]="1",n[3]="2"),n.length>4&&parseInt(n.slice(4,8).join(""),10)>r){const i=r.toString();for(let o=4;o<8;o++)n[o]=i[o-4]}return n.length>2&&n.splice(2,0,"/"),n.length>5&&n.splice(5,0,"/"),n.join("")}async function WS(t,e){return new Promise((n,r)=>{const s=document.createElement("canvas"),i=s.getContext("2d"),o=new Image;o.src=URL.createObjectURL(t),o.onload=()=>{const a=o.width/o.height;let c,l;o.width>o.height?(c=e,l=e/a):(l=e,c=e*a),s.width=Math.round(c),s.height=Math.round(l),i==null||i.drawImage(o,0,0,s.width,s.height),s.toBlob(u=>{if(u){const f=new Blob([u],{type:"image/jpeg"}),h=new File([f],`${t.name.split(".").slice(0,-1).join(".")}.jpeg`,{type:"image/jpeg"});n(h)}else r(new Error("Failed to create a blob from the canvas."))},"image/jpeg")},o.onerror=()=>{r(new Error("Failed to load the image."))}})}async function qS(t,e,n,r){console.log({name:t,email:e,phone:n,password:r});const s=`${window.location.origin}/prote-ja-app/dashboard`;console.log("Redirection URL: ",s);const i={type:"user",name:t,phone:n};return console.log({...i}),await Ae.auth.signUp({email:e,password:r,options:{emailRedirectTo:s,data:{...i}}})}async function KS(t,e){return await Ae.auth.signInWithPassword({email:t,password:e})}async function S0(){return await Ae.auth.signOut()}async function GS(t){return await Ae.auth.resetPasswordForEmail(t)}const C0=()=>{const{session:t,user:e}=ao(),n=Me(),[r,s]=d.useState(!1),i=Pv();d.useEffect(()=>{t&&n.pathname!=="/dashboard"?s(!0):s(!1)},[n.pathname,t]);const o=async()=>{const a=await S0();if(a.error){console.error("Error signing out: ",a.error),K.error("Erro ao sair. Tente novamente.");return}};return y.jsx("div",{className:"border-b flex items-center sticky top-0 z-[1] backdrop-blur md:shadow",children:y.jsxs("div",{className:"p-2 justify-between flex items-center h-16 md:px-4 lg:px-10 w-full mx-auto",children:[y.jsxs("div",{className:de("flex w-32 rounded-md items-center absolute py-1",""),children:[y.jsx(qe,{to:"..",className:de("flex items-center w-32 absolute h-12 rounded-md hover:bg-secondary/80",r?"translate-x-0 opacity-100 bg-background border":"-translate-x-full opacity-0 pointer-events-none"),style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out"},children:y.jsxs("div",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 py-2 w-20 text-white",children:[y.jsx(ym,{className:"w-6 h-6"}),"Voltar"]})}),y.jsx("img",{src:Ap,alt:"proteja-logo",className:`max-h-10 absolute ${r?"translate-x-[5.25rem] pointer-events-none":""}`,style:{transition:"transform 500ms ease-in-out"}}),y.jsx("img",{src:kp,alt:"proteja-name",className:`max-w-32 h-8 mb-2 ${r?"opacity-0 scale-50 translate-x-24":"opacity-100 scale-100 translate-x-10"}`,style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out"}})]}),y.jsxs("div",{className:"gap-2 sm:gap-3 flex items-center ml-auto",children:[i?y.jsxs(rn,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5 border-white",onClick:i,children:[y.jsx(vm,{}),y.jsx("span",{className:"hidden md:block",children:"Download"})]}):null,t?y.jsxs(y.Fragment,{children:[y.jsx(qe,{to:"/dashboard/alerts",children:y.jsxs(rn,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5",children:[y.jsx(mm,{className:"fill-white"}),y.jsx("span",{className:"hidden md:block",children:"NotificaÃ§Ãµes"})]})}),y.jsxs(y0,{children:[y.jsx(b0,{children:y.jsxs(rn,{variant:"secondary",className:"w-12 h-12 md:w-auto md:h-auto [&_svg]:size-5",children:[y.jsx(Am,{}),y.jsx("span",{className:"hidden md:block",children:"Menu"})]})}),y.jsxs(Wd,{className:"mx-4 text-md",children:[y.jsxs(qd,{children:["OlÃ¡ ",E0(e==null?void 0:e.name)]}),y.jsx(zr,{}),y.jsx(qe,{to:"/dashboard/profile",children:y.jsxs(tn,{children:[y.jsx(km,{})," Meu Perfil"]})}),y.jsx(qe,{to:"/dashboard/subscribe",children:y.jsxs(tn,{children:[y.jsx(xm,{}),"ProteJÃ+"]})}),y.jsx(zr,{}),y.jsx(qe,{to:"/first-login",children:y.jsxs(tn,{children:[y.jsx(_m,{})," Tutorial"]})}),y.jsx(qe,{to:"/about",children:y.jsxs(tn,{children:[y.jsx(Em,{})," Sobre"]})}),y.jsx(zr,{}),y.jsxs(tn,{className:"text-destructive font-medium",onClick:o,children:[y.jsx(Tm,{}),"Sair"]})]})]})]}):null]})]})})},T0=({isBlack:t})=>y.jsx("div",{className:de("fixed top-0 left-0 w-full h-full -z-1",t?"bg-gradient-to-b from-[#000000] to-[#000000]":"bg-gradient-to-b from-[#7357FF] to-[#4b33be]")}),A0=()=>y.jsxs(y.Fragment,{children:[y.jsx(T0,{}),y.jsx(C0,{}),y.jsx(rs,{})]}),Io=({title:t,children:e,preIcon:n,postIcon:r,className:s="",titleBackground:i,border:o,clickable:a,onClick:c,cornerType:l,style:u})=>{const f=()=>{switch(l){case"square":return"";case"rounded":return"rounded-md";case"auto-md":return"md:rounded-md"}return"rounded-md"},h=n&&r?"col-span-6":n||r?"col-span-8":"col-span-10";return y.jsxs("div",{className:de("dashboard-item bg-background",o?"border":"",a?"transition-all cursor-pointer hover:shadow-md hover:scale-[1.01] active:scale-[1] active:shadow-inner active:opacity-60":"",f(),s),style:u,onClick:c,children:[t&&y.jsxs("div",{className:de("grid grid-cols-10 items-center py-1 px-2 sm:py-2 rounded-t-lg",`${i?"bg-background":""}`),children:[y.jsx("div",{className:"col-span-2",children:n&&y.jsx("div",{children:n})}),y.jsx("div",{className:h,children:y.jsx("h2",{className:"text-xl font-medium text-white text-center line-clamp-1 ",children:t})}),r&&y.jsx("div",{className:"col-span-2 justify-end flex",children:y.jsx("div",{children:r})})]}),e]})},k0=()=>y.jsx(Io,{title:"VocÃª jÃ¡ estÃ¡ autenticado",children:y.jsxs("div",{className:"p-4",children:[y.jsx("p",{className:"text-white",children:"VocÃª jÃ¡ estÃ¡ autenticado, acesse o dashboard para continuar."}),y.jsx(qe,{to:"/dashboard",children:y.jsxs(rn,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",children:[y.jsx(Sm,{}),"Ir para dashboard"]})})]})}),Kd="/prote-ja-app/assets/biopark-DuBn1T6g.png",Gd="/prote-ja-app/assets/utfpr-Dj1F4QfZ.png",Yd="/prote-ja-app/assets/sapatilhas-BCc3XB-M.png",Oe={sizeRange:{min:20,max:40},speedYRange:{min:.8,max:1},speedXRange:{min:-.3,max:.3},animationInterval:100,partnerLogos:[Kd,Gd,Yd]};function I0(){const[t,e]=d.useState([]),n=d.useRef(null),r=()=>Oe.partnerLogos.map((s,i)=>({id:i,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*(Oe.sizeRange.max-Oe.sizeRange.min)+Oe.sizeRange.min,speedY:(Math.random()*(Oe.speedYRange.max-Oe.speedYRange.min)+Oe.speedYRange.min)*(Math.random()>.5?1:-1),speedX:Math.random()*(Oe.speedXRange.max-Oe.speedXRange.min)+Oe.speedXRange.min,logo:s}));return d.useEffect(()=>{e(r());const i=setInterval(()=>{e(o=>o.map(a=>({...a,y:(a.y+a.speedY+window.innerHeight)%window.innerHeight,x:(a.x+a.speedX+window.innerWidth)%window.innerWidth})))},Oe.animationInterval);return()=>{clearInterval(i)}},[]),d.useEffect(()=>{const s=()=>{e(i=>i.map(o=>({...o,x:Math.min(o.x,window.innerWidth),y:Math.min(o.y,window.innerHeight)})))};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),y.jsx("div",{ref:n,className:"fixed inset-0 pointer-events-none",style:{zIndex:0},children:t.map(s=>y.jsx("div",{className:"absolute rounded-full bg-white/5 backdrop-blur-sm flex items-center justify-center",style:{left:`${s.x}px`,top:`${s.y}px`,width:`${s.size}px`,height:`${s.size}px`},children:y.jsx("img",{src:s.logo,alt:"Partner Logo",className:"w-2/3 h-2/3 object-contain opacity-30"})},s.id))})}const ri=({logo:t,name:e,description:n})=>y.jsxs("div",{className:"bg-white/10 p-6 rounded-lg backdrop-blur-sm",children:[y.jsx("img",{src:t,alt:`${e} Logo`,className:"h-12 w-auto mx-auto mb-4"}),y.jsx("h4",{className:"text-lg font-semibold text-white text-center mb-2",children:e}),y.jsx("p",{className:"text-sm text-white/80 text-center",children:n})]}),R0=()=>{const{pathname:t}=Me(),{session:e}=ao();return y.jsxs(y.Fragment,{children:[y.jsx(I0,{}),y.jsx("div",{className:"p-6 max-w-xl justify-center lg:max-w-6xl mx-auto",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsx("div",{className:"col-span-1 lg:col-span-2 animated-container",children:e?y.jsx(k0,{}):y.jsx(rs,{})},t),y.jsx(Io,{border:!0,className:"col-span-1 lg:col-span-3 h-min p-4",children:y.jsxs("div",{children:[y.jsx("h2",{className:"text-center text-3xl font-bold leading-9 tracking-tight text-white mb-6",children:"Apoiado por"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(ri,{name:"UTFPR",logo:Gd,description:"Universidade TecnolÃ³gica Federal do ParanÃ¡"}),y.jsx(ri,{name:"Biopark EducaÃ§Ã£o",logo:Kd,description:""}),y.jsx(ri,{name:"Use Sapatilhas",logo:Yd,description:""})]})]})})]})})]})},P0=({className:t,children:e})=>y.jsx("div",{className:"w-full md:px-4",children:y.jsx("div",{className:de(t,"relative py-6 px-2 md:border md:rounded-md md:py-6 md:px-4 lg:px-6 md:mt-4 md:mb-4 md:max-w-4xl md:mx-auto md:shadow-md"),children:e})}),M0=()=>{const{pathname:t}=Me();return y.jsx("div",{className:"fade-in-container",children:y.jsx(P0,{children:y.jsx(rs,{})})},t)},O0=()=>y.jsx(Io,{border:!0,className:"max-w-lg mx-auto h-full mt-8",title:"NÃ£o autenticado",children:y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-white",children:"VocÃª precisa estar logado para acessar esta pÃ¡gina. Por favor, faÃ§a login para acessar este conteÃºdo."}),y.jsx(qe,{to:"/login",children:y.jsxs(rn,{type:"submit",className:"w-full bg-[#fff] text-[#7357FF] hover:bg-[#c2c2c2c2] mt-1",children:[y.jsx(Cm,{}),"Fazer Login"]})})]})});async function j0(){return await Ae.from("totems_view").select().order("name",{ascending:!0}).returns()}async function N0(){return await Ae.from("wearables_view").select().order("name",{ascending:!0}).returns()}async function YS(t){return await Ae.from("wearables_view").select().eq("id",t).single()}async function QS(t,e){return await Ae.from("wearables").update(e).eq("id",t)}const D0=d.createContext({totems:[],wearables:[],loading:!1,refresh:()=>{}}),L0=5,$0=({children:t})=>{const[e,n]=d.useState([]),[r,s]=d.useState([]),[i,o]=d.useState(!1),a=d.useCallback(async()=>{o(!0);try{const{data:l,error:u}=await N0();if(u)throw u;s(l??[])}catch(l){console.error("Error fetching wearables:",l)}try{const{data:l,error:u}=await j0();if(u)throw u;n(l??[])}catch(l){console.error("Error fetching totems:",l)}o(!1)},[]),c=d.useCallback(()=>{a()},[a]);return d.useEffect(()=>{a();const l=setInterval(()=>{a()},L0*1e3);return()=>clearInterval(l)},[a]),y.jsx(D0.Provider,{value:{totems:e,wearables:r,loading:i,refresh:c},children:t})},F0=()=>{const{session:t}=ao();return y.jsx(y.Fragment,{children:t?y.jsx($0,{children:y.jsx(rs,{})}):y.jsx("div",{className:"px-3",children:y.jsx(O0,{})})})};var U0="VisuallyHidden",Qd=d.forwardRef((t,e)=>y.jsx(ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Qd.displayName=U0;var B0=Qd,[xs,JS]=Tn("Tooltip",[ys]),Es=ys(),Jd="TooltipProvider",z0=700,Oi="tooltip.open",[H0,Ro]=xs(Jd),Xd=t=>{const{__scopeTooltip:e,delayDuration:n=z0,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=d.useState(!0),c=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),y.jsx(H0,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};Xd.displayName=Jd;var Ss="Tooltip",[V0,Cs]=xs(Ss),Zd=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,c=Ro(Ss,t.__scopeTooltip),l=Es(e),[u,f]=d.useState(null),h=Yr(),p=d.useRef(0),g=o??c.disableHoverableContent,m=a??c.delayDuration,b=d.useRef(!1),[w=!1,v]=co({prop:r,defaultProp:s,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(Oi))):c.onClose(),i==null||i(T)}}),_=d.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),x=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,v(!0)},[v]),E=d.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),k=d.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,v(!0),p.current=0},m)},[m,v]);return d.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),y.jsx(Mu,{...l,children:y.jsx(V0,{scope:e,contentId:h,open:w,stateAttribute:_,trigger:u,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?k():x()},[c.isOpenDelayed,k,x]),onTriggerLeave:d.useCallback(()=>{g?E():(window.clearTimeout(p.current),p.current=0)},[E,g]),onOpen:x,onClose:E,disableHoverableContent:g,children:n})})};Zd.displayName=Ss;var ji="TooltipTrigger",ef=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Cs(ji,n),i=Ro(ji,n),o=Es(n),a=d.useRef(null),c=ue(e,a,s.onTriggerChange),l=d.useRef(!1),u=d.useRef(!1),f=d.useCallback(()=>l.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(Ou,{asChild:!0,...o,children:y.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:$(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:$(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:$(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:$(t.onBlur,s.onClose),onClick:$(t.onClick,s.onClose)})})});ef.displayName=ji;var W0="TooltipPortal",[XS,q0]=xs(W0,{forceMount:void 0}),vn="TooltipContent",tf=d.forwardRef((t,e)=>{const n=q0(vn,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Cs(vn,t.__scopeTooltip);return y.jsx(In,{present:r||o.open,children:o.disableHoverableContent?y.jsx(nf,{side:s,...i,ref:e}):y.jsx(K0,{side:s,...i,ref:e})})}),K0=d.forwardRef((t,e)=>{const n=Cs(vn,t.__scopeTooltip),r=Ro(vn,t.__scopeTooltip),s=d.useRef(null),i=ue(e,s),[o,a]=d.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:f}=r,h=d.useCallback(()=>{a(null),f(!1)},[f]),p=d.useCallback((g,m)=>{const b=g.currentTarget,w={x:g.clientX,y:g.clientY},v=J0(w,b.getBoundingClientRect()),_=X0(w,v),x=Z0(m.getBoundingClientRect()),E=tS([..._,...x]);a(E),f(!0)},[f]);return d.useEffect(()=>()=>h(),[h]),d.useEffect(()=>{if(c&&u){const g=b=>p(b,u),m=b=>p(b,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[c,u,p,h]),d.useEffect(()=>{if(o){const g=m=>{const b=m.target,w={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),_=!eS(w,o);v?h():_&&(h(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,l,h]),y.jsx(nf,{...t,ref:i})}),[G0,Y0]=xs(Ss,{isInside:!1}),nf=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Cs(vn,n),l=Es(n),{onClose:u}=c;return d.useEffect(()=>(document.addEventListener(Oi,u),()=>document.removeEventListener(Oi,u)),[u]),d.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),y.jsx(uo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:y.jsxs(ju,{"data-state":c.stateAttribute,...l,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Yc,{children:r}),y.jsx(G0,{scope:n,isInside:!0,children:y.jsx(B0,{id:c.contentId,role:"tooltip",children:s||r})})]})})});tf.displayName=vn;var rf="TooltipArrow",Q0=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Es(n);return Y0(rf,n).isInside?null:y.jsx(Nu,{...s,...r,ref:e})});Q0.displayName=rf;function J0(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function X0(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Z0(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function eS(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,l=e[o].x,u=e[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(s=!s)}return s}function tS(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nS(e)}function nS(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var rS=Xd,sS=Zd,iS=ef,sf=tf;const oS=rS,ZS=sS,eC=iS,aS=d.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(sf,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));aS.displayName=sf.displayName;const cS=O.lazy(()=>te(()=>import("./Home-B3GSOEbu.js"),__vite__mapDeps([2,3,1,4]))),lS=O.lazy(()=>te(()=>import("./NotAuthorized-AX8WCf6D.js"),__vite__mapDeps([5,6,1,4]))),uS=O.lazy(()=>te(()=>import("./Dashboard-BHPH6c2d.js"),__vite__mapDeps([7,8,9,10,11,12,13,3,14,15,1,4]))),dS=O.lazy(()=>te(()=>import("./Pairing-CiJDWbVJ.js"),__vite__mapDeps([16,1,4]))),fS=O.lazy(()=>te(()=>import("./Login-ta2Cjmm5.js"),__vite__mapDeps([17,18,19,20,3,1,4]))),hS=O.lazy(()=>te(()=>import("./Register-PGCwZ3xE.js"),__vite__mapDeps([21,18,19,20,3,22,23,1,4]))),pS=O.lazy(()=>te(()=>import("./Profile-DmpvED5Q.js"),__vite__mapDeps([24,12,25,26,1,22,19,13,27,3,28,29,30,4,31]))),mS=O.lazy(()=>te(()=>import("./FirstLogin-DNqqNaD9.js"),__vite__mapDeps([32,33,34,1,4,35]))),gS=O.lazy(()=>te(()=>import("./AddTotem-C2k4zD9y.js"),__vite__mapDeps([36,12,37,27,38,19,34,3,15,1,4]))),yS=O.lazy(()=>te(()=>import("./AddWearable-Dmq_0F62.js"),__vite__mapDeps([39,12,37,27,38,19,33,3,11,1,4]))),bS=O.lazy(()=>te(()=>import("./EditWearable-CR_yAuYT.js"),__vite__mapDeps([40,12,41,27,3,38,19,13,25,26,1,10,20,23,42,4]))),wS=O.lazy(()=>te(()=>import("./OutOfRange-tzj_BmbU.js"),__vite__mapDeps([43,12,8,9,10,41,44,45,1,4]))),vS=O.lazy(()=>te(()=>import("./FallDetected-CwBpQw48.js"),__vite__mapDeps([46,12,8,9,10,41,44,45,1,4]))),_S=O.lazy(()=>te(()=>import("./Wearable-CH-25OU8.js"),__vite__mapDeps([47,6,1,30,48,41,9,10,13,42,31,44,4]))),xS=O.lazy(()=>te(()=>import("./AlertPage-CM8F_BxK.js"),__vite__mapDeps([49,48,12,44,1,4]))),ES=O.lazy(()=>te(()=>import("./BuyPremium-D01aC6-A.js"),__vite__mapDeps([50,12,14,1,4]))),SS=new fp;bf.createRoot(document.getElementById("root")).render(y.jsx(d.StrictMode,{children:y.jsx(Av,{children:y.jsxs(pp,{client:SS,children:[y.jsx(oS,{delayDuration:400,children:y.jsx(Nh,{children:y.jsxs(uh,{children:[y.jsxs(Z,{path:"/",element:y.jsx(A0,{}),children:[y.jsx(Z,{index:!0,element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(cS,{})})}),y.jsxs(Z,{element:y.jsx(M0,{}),children:[y.jsx(Z,{element:y.jsx(F0,{}),children:y.jsxs(Z,{path:"dashboard",children:[y.jsx(Z,{index:!0,element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(uS,{})})}),y.jsx(Z,{path:"profile",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(pS,{})})}),y.jsx(Z,{path:"pairing",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(dS,{})})}),y.jsx(Z,{path:"add-totem",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(gS,{})})}),y.jsx(Z,{path:"add-wearable",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(yS,{})})}),y.jsx(Z,{path:"edit-wearable/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(bS,{})})}),y.jsx(Z,{path:"out-of-range/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(wS,{})})}),y.jsx(Z,{path:"subscribe",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(ES,{})})}),y.jsx(Z,{path:"fall-detected/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(vS,{})})}),y.jsx(Z,{path:"wearable/:id",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(_S,{})})}),y.jsx(Z,{path:"alerts",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(xS,{})})})]})}),y.jsx(Z,{path:"not-authorized",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(lS,{})})})]}),y.jsxs(Z,{element:y.jsx(R0,{}),children:[y.jsx(Z,{path:"login",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(fS,{})})}),y.jsx(Z,{path:"register",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(hS,{})})})]})]}),y.jsx(Z,{path:"first-login",element:y.jsx(d.Suspense,{fallback:y.jsx("div",{children:"Carregando..."}),children:y.jsx(mS,{})})})]})})}),y.jsx(Tp,{closeOnClick:!0})]})})}));export{aS as $,ex as A,rn as B,gm as C,D0 as D,GS as E,RS as F,kp as G,T0 as H,xx as I,P0 as J,zS as K,qe as L,Ae as M,IS as N,y0 as O,ae as P,b0 as Q,_x as R,Wd as S,tn as T,zr as U,DS as V,kS as W,HS as X,ZS as Y,eC as Z,te as _,Tn as a,Q0 as a0,VS as a1,QS as a2,lo as a3,Ju as a4,yn as a5,Tx as a6,Wv as a7,uu as a8,uo as a9,$S as aa,Du as ab,Yc as ac,dm as ad,Ge as ae,YS as af,WS as ag,ue as b,_e as c,au as d,In as e,$ as f,$e as g,zt as h,de as i,y as j,Io as k,$u as l,co as m,Yr as n,Fi as o,Sy as p,K as q,d as r,Ap as s,Cm as t,ao as u,KS as v,BS as w,O as x,qS as y,Mp as z};
